import{u as k,j as e,R as ie,_ as Le,r as _,B as Ae,e as he,n as Ne,lv as Me,L as qe,S as H,Q as B,a1 as oe,D as Fe,t as be,kf as Ye,d as _e,c as Be,lw as Oe}from"./index-731451a5.js";import{F as Ue,E as He,a as Ge,B as Je}from"./Fees-c59c90fd.js";import{s as A}from"./Tabs.module-5d07bc0d.js";import{d as ze,e as We,f as Ke,g as Xe,h as Ze,i as Ve,j as Qe,k as Pe,l as es,m as ss,n as ts,o as as,p as ns,q as is,r as cs,s as os,t as rs,v as ds,w as ls,x as ms,y as Ee,z as hs,A as _s}from"./department-api-a4f0b4b7.js";import{D}from"./DepartmentTabChangeLink-58880b09.js";import{C as xs}from"./CustomSuspense-e90dc607.js";import{s as U}from"./Exminations.module-c45be880.js";import{P as xe}from"./PopupWrapper-ffbaef7a.js";import{J as me}from"./JoinFormInput-8e74a0e0.js";import{s as w}from"./SeatingArrangement.module-3f4ae6aa.js";import{B as T}from"./BorderBottom-47800983.js";import{C as us}from"./CustomNormalSelectInput-9ec7329b.js";import{E as ue}from"./EmptyInfo-7233226d.js";import{O as De}from"./Overlay-07ce6f88.js";import{S as Te}from"./SearchModalBackdrop-5b309d60.js";import{s as ce}from"./EditConfirm.module-344fbdb9.js";import{U as js}from"./UniversalTab-d4f2174c.js";import{s as q}from"./Hostel.module-50da11fe.js";import{M as je,D as gs}from"./DepartmentQueries-cbe71d1c.js";import{s as de,Q as vs}from"./MentorTabChangeLink-67adf924.js";import fs from"./AssignStaffModal-61be8e90.js";import{O as Ns}from"./OneDepartmentClassDetail-03cd1004.js";import{D as bs}from"./DeaprtmentSiteInfo-f6687810.js";import"./JoinFormInputView-879755fe.js";import"./JoinForm.module-212f9bb3.js";import"./SeatingExaminationCard-1c99a7b5.js";import"./search-api-15f7f9f9.js";import"./JoinFormCalender-5158d888.js";import"./DatePicker-305f3dc6.js";import"./timeComparison-f15c3247.js";import"./class-api-ec8ace00.js";import"./TileWrapper-be9153cb.js";import"./Tile.module-64552da2.js";import"./JoinFormFile-110be590.js";import"./AddAttainmentInSubject-9f4b9a5b.js";import"./subject-api-215ccf27.js";import"./SearchModalWrapper-6e85c9f3.js";import"./Overlay.module-9133d1bb.js";import"./SearchHeader.module-b69c8942.js";import"./Tabs.module-fb9ec0a6.js";import"./JoinFormTextArea-7f6dded0.js";import"./student-api-4ee7144d.js";import"./AssignStaffModal.module-a60b32e1.js";import"./Tabs.module-ba88dcfe.js";import"./PromoteDepartment.module-1bdd3b1d.js";import"./InstituteClassStudentList-3d842ff9.js";import"./Funds.module-95df49a8.js";import"./index-43f19233.js";import"./index-387d7a00.js";import"./Catalog.module-33ea6d38.js";import"./SubjectMarks-e3f2e9f4.js";import"./AcademicAdministatorTabChange-5486b59e.js";import"./McqWrapper-6c60f442.js";import"./Attendence.module-a5391855.js";import"./AcademicDetail-b12ada4f.js";import"./HostelFeeStructure.module-5a40a31e.js";import"./Divider-6278282f.js";import"./FeesStructure.module-7a88fbbc.js";import"./image_extenstion-bbfb153e.js";import"./Assignment.module-f9381027.js";import"./Markdetails.module-89b9535e.js";import"./Academics-f38350fe.js";import"./SubjectDailyUpdateCard-6de260b7.js";import"./JoinFormFileEdit-e41481d6.js";import"./ViewFileDialog-0c131c06.js";const ps="_departmenthead_mxt4m_1",Ss="_tabs_mxt4m_13",ys={departmenthead:ps,tabs:Ss},$s="_MiddleContent_1q2wt_1",ws="_MiddleContentLeft_1q2wt_15",Cs="_tabs_1q2wt_24",ks="_item_1q2wt_29",Fs="_MiddleContentRight_1q2wt_51",Es="_MiddleContentRightHead_1q2wt_58",Ds="_pItem_1q2wt_72",Ts="_text_1q2wt_91",Is="_addbtn_1q2wt_125",Rs="_menu_1q2wt_144",Ls="_menuItem_1q2wt_149",As="_itemIcon_1q2wt_164",Ms="_classList_1q2wt_186",qs="_classListItem_1q2wt_189",Ys="_class_head_name_1q2wt_235",F={MiddleContent:$s,MiddleContentLeft:ws,tabs:Cs,item:ks,MiddleContentRight:Fs,MiddleContentRightHead:Es,pItem:Ds,text:Ts,addbtn:Is,menu:Rs,menuItem:Ls,itemIcon:As,classList:Ms,classListItem:qs,class_head_name:Ys};function Bs({activeIndex:s,setActiveIndex:o}){const{t:a}=k();return e.jsx("div",{className:A.mcqTop,children:e.jsxs("div",{className:A.mcqToptabs,children:[e.jsx("div",{className:s===0?`${A.mcqTopItem} ${A.active}`:A.mcqTopItem,onClick:()=>o(0),children:a("menu")}),e.jsx("div",{className:s===1?`${A.mcqTopItem} ${A.active}`:A.mcqTopItem,onClick:()=>o(1),children:a("classes")})]})})}const Os=ie.lazy(()=>Le(()=>import("./CreateClass-ae1995ec.js"),["assets/CreateClass-ae1995ec.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/LoaderButton-71df50a7.js","assets/LoaderButton-43b48c5c.css","assets/AssignStaffModal-61be8e90.js","assets/search-api-15f7f9f9.js","assets/AssignStaffModal.module-a60b32e1.js","assets/AssignStaffModal-60e26c07.css","assets/StringLength-222a9fd1.js","assets/StringLength.module-75a6e080.js","assets/StringLength-7b1d3ded.css","assets/MarkValue-3df2c354.js","assets/CreateClass-bcabc300.css","assets/AddDisplay-fea182d7.css"]));function Us({bid:s,carryParentState:o,instituteId:a}){var m,u;const{t}=k(),[h,d]=_.useState(0),[c,x]=_.useState(""),{departmentBatchAllClass:N,departmentBatchAllClassRefetch:g}=ze({data:{bid:s,page:1,limit:20},skip:!s}),{classEditDetail:b,classEditDetailRefetch:n}=Ae({cid:c,skip:!c});_.useEffect(()=>{s&&g()},[s,g]),_.useEffect(()=>{c&&n()},[c,n]);const l=(i,p)=>{i.preventDefault(),x(p)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:F.MiddleContent,children:e.jsxs("div",{className:F.MiddleContentLeft,children:[e.jsx("div",{className:F.tabs,children:e.jsx(Bs,{activeIndex:h,setActiveIndex:d})}),h===0&&e.jsxs("div",{className:F.item,children:[e.jsx(D,{carryParentState:o,activeTab:"staff",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-staff-icon.svg",alt:"staff room"}),e.jsx("p",{children:t("staff_room")})]})}),e.jsx(D,{carryParentState:o,activeTab:"mentor",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-mentor-icon.svg",alt:"mentor avatar"}),e.jsx("p",{children:t("mentoring")})]})}),e.jsx(D,{carryParentState:o,activeTab:"fees",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-fees-icon.svg",alt:"functions"}),e.jsx("p",{children:t("department_fees")})]})}),e.jsx(D,{carryParentState:o,activeTab:"checklist",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-checklist-icon.svg",alt:"competitons"}),e.jsx("p",{children:t("checklist")})]})}),e.jsx(D,{carryParentState:o,activeTab:"exam",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-examination-icon.svg",alt:"functions"}),e.jsx("p",{children:t("examinations")})]})}),e.jsx(D,{carryParentState:o,activeTab:"malicious",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-malicious-icon.svg",alt:"backlogs"}),e.jsx("p",{children:t("malicious_practices")})]})}),e.jsx(D,{carryParentState:o,activeTab:"backlog&standard",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-backlog-icon.svg",alt:"backlogs"}),e.jsx("p",{children:t("backlog")})]})}),e.jsx(D,{carryParentState:o,activeTab:"holiday",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-holiday-icon.svg",alt:"holiday"}),e.jsx("p",{children:t("holidays")})]})}),e.jsx(D,{carryParentState:o,activeTab:"complaint",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/department/department-complaint-icon.svg",alt:"settings"}),e.jsx("p",{children:t("department_complaints")})]})}),e.jsx(D,{carryParentState:o,activeTab:"setting",children:e.jsxs("div",{className:F.itemIcon,children:[e.jsx("img",{src:"/images/member_tab/class/class-setting-icon.svg",alt:"settings"}),e.jsx("p",{children:t("setting")})]})})]}),h===1&&e.jsx("div",{className:F.classList,style:{position:"relative"},children:(u=(m=N==null?void 0:N.batch)==null?void 0:m.classroom)==null?void 0:u.map(i=>{var p,j,f,v,r,S,y,$;return e.jsx(D,{carryParentState:{...o,clsId:i==null?void 0:i._id,clsName:`${i==null?void 0:i.className} - ${i==null?void 0:i.classTitle}`,teacherName:`${((p=i==null?void 0:i.classTeacher)==null?void 0:p.staffFirstName)??""} ${((j=i==null?void 0:i.classTeacher)==null?void 0:j.staffMiddleName)||""} ${((f=i==null?void 0:i.classTeacher)==null?void 0:f.staffLastName)??""}`},activeTab:"class-detail",children:e.jsxs("div",{className:F.classListItem,style:{justifyContent:"space-between"},children:[e.jsxs("div",{className:F.class_head_name,children:[e.jsx("img",{src:(v=i==null?void 0:i.classTeacher)!=null&&v.staffProfilePhoto?`${he}/${(r=i==null?void 0:i.classTeacher)==null?void 0:r.staffProfilePhoto}`:"/images/classes.svg",alt:"class head avatar",style:{borderRadius:"0"}}),e.jsxs("div",{children:[e.jsx("h6",{children:i==null?void 0:i.classTitle}),e.jsx("p",{children:`${((S=i==null?void 0:i.classTeacher)==null?void 0:S.staffFirstName)??""} ${((y=i==null?void 0:i.classTeacher)==null?void 0:y.staffMiddleName)||""} ${(($=i==null?void 0:i.classTeacher)==null?void 0:$.staffLastName)??""}`})]})]}),e.jsx("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:E=>l(E,i==null?void 0:i._id),title:"Menu",style:{cursor:"pointer",height:"1.5rem"}})]})},i._id)})})]})}),e.jsx(xs,{children:c&&e.jsx(Os,{departmentModal:!!c,hideModal:()=>x(""),edit:c,setEdit:x,editClass:b==null?void 0:b.classes,onRefetch:n,isEditBy:"DEPARTMENT_HEAD",id:a})})]})}function Hs({departmentProfile:s,carryParentState:o,instituteId:a}){var j,f;const{t}=k(),h=Ne(),[d]=We(),[c,x]=_.useState(""),[N,g]=_.useState(""),[b,n]=_.useState(!1),[l,m]=_.useState(!1),[u,i]=_.useState("");_.useEffect(()=>{var v;if(l){let r=new FormData;r.append("file",N),d({cover:r,did:(v=s==null?void 0:s.department)==null?void 0:v._id}).then(S=>{}).catch({})}},[l,N]);const p=v=>{const r=URL.createObjectURL(v.target.files[0]);g(v.target.files[0]),i(r),x(r),n(!0)};return e.jsxs("div",{children:[e.jsx(Me,{coverKey:s==null?void 0:s.cover,coverId:s==null?void 0:s.coverId,defaultCover:"/images/profileAndCover/department-cover.png",textLarge:s==null?void 0:s.dName,batchStatus:"true",textSmall:`${(j=s==null?void 0:s.userBatch)==null?void 0:j.batchName}`,count1:s==null?void 0:s.classCount,count1label:t("classes"),count3:s==null?void 0:s.studentCount,count2label:t("staff"),count2:s==null?void 0:s.staffCount,count3label:t("students"),profilePhoto:u,profileChange:p,openCrop:b,setOpenCrop:n,setPhotoURL:x,photoURL:c,setFile:g,setUpload:m,setProfilePhoto:i,viewAs:!0,redirectUrl:`/q/${h.username}/member/department/${h.deptname}?a=site`,carryParentState:o}),e.jsx(Us,{bid:(f=s==null?void 0:s.userBatch)==null?void 0:f._id,carryParentState:o,instituteId:a})]})}const Gs="_staffRoom_1fyfw_1",Js="_backFlex_1fyfw_5",zs="_backbtn_1fyfw_10",Ws="_searchContainer_1fyfw_22",Ks="_itemsContainer_1fyfw_49",Xs="_item_1fyfw_49",Zs="_student_heading_1fyfw_80",ne={staffRoom:Gs,backFlex:Js,backbtn:zs,searchContainer:Ws,itemsContainer:Ks,item:Xs,student_heading:Zs};function Vs({did:s}){var b;const{t:o}=k(),a=Ne(),[t,h]=ie.useState([]),[d,c]=_.useState(!0),{departmentAllStaff:x,departmentAllStaffRefetch:N}=Ke({data:{did:s,page:1,limit:20},skip:!s});ie.useEffect(()=>{s&&(c(!0),N())},[s,N]),ie.useEffect(()=>{var n,l,m;(n=x==null?void 0:x.department)!=null&&n.departmentChatGroup?(h(u=>{var i;return[...new Set([...u,...(i=x==null?void 0:x.department)==null?void 0:i.departmentChatGroup].map(JSON.stringify))].map(JSON.parse)}),c(!1)):((m=(l=x==null?void 0:x.department)==null?void 0:l.departmentChatGroup)==null?void 0:m.length)===0&&c(!1)},[(b=x==null?void 0:x.department)==null?void 0:b.departmentChatGroup]);const g=n=>{var l,m,u;if(n.target.value){const i=(m=(l=x==null?void 0:x.department)==null?void 0:l.departmentChatGroup)==null?void 0:m.filter(p=>{var j,f,v;return(v=(j=`${p==null?void 0:p.staffFirstName} ${p!=null&&p.staffMiddleName?(p==null?void 0:p.staffMiddleName)+" ":""}${p==null?void 0:p.staffLastName}`)==null?void 0:j.toLowerCase())!=null&&v.includes((f=n.target.value)==null?void 0:f.toLowerCase())?p:null});h(i)}else h((u=x==null?void 0:x.department)==null?void 0:u.departmentChatGroup)};return e.jsxs("div",{className:ne.staffRoom,children:[e.jsx("div",{className:ne.backFlex,children:e.jsxs("div",{className:ne.searchContainer,children:[e.jsx("img",{src:"/images/search-dept-icon.svg",alt:""}),e.jsx("input",{type:"text",placeholder:o("search"),onChange:g})]})}),e.jsxs("div",{className:ne.itemsContainer,children:[t==null?void 0:t.map(n=>e.jsx(qe,{to:`/q/${a.username}/staff/profile`,state:{sid:n==null?void 0:n._id,viewAs:"DEPARTMENT_HEAD"},children:e.jsxs("div",{className:ne.item,children:[e.jsx("p",{children:n==null?void 0:n.staffROLLNO}),e.jsx("img",{src:n!=null&&n.staffProfilePhoto?`${he}/${n==null?void 0:n.staffProfilePhoto}`:"/images/member_tab/class/default_avatar.svg"}),e.jsx("p",{children:`${n==null?void 0:n.staffFirstName} ${n!=null&&n.staffMiddleName?n==null?void 0:n.staffMiddleName:""} ${n==null?void 0:n.staffLastName}`})]})},n==null?void 0:n._id)),d&&e.jsx(H,{})]})]})}const Qs=({checklistInfo:s,onGrabInfo:o,is_edit:a})=>{const{t}=k(),[h,d]=_.useState({checklistName:"",checklistAmount:"",checklistFees:""}),[c,x]=_.useState("");_.useEffect(()=>{s&&d(n=>({...n,...s}))},[s]);const N=n=>{const l={};for(let m in n)m==="checklistAmount"?n.checklistFees==="Yes"&&(n[m]||(l[m]=`${m} is required!`)):n[m]||(l[m]=`${m} is required!`);return l},g=n=>{n.target.name==="checklistAmount"?d(l=>({...l,checklistAmount:+n.target.value})):d(l=>({...l,[n.target.name]:n.target.value}))},b=()=>{const n=N(h);let l=!1;for(let m in n)if(m){l=!0;break}l?x(n):o(h)};return e.jsxs("div",{className:w.seating_modal,style:{minHeight:"17rem"},children:[e.jsxs("section",{className:w.seating_modal_title_left,style:{position:"relative"},children:[e.jsx("h6",{children:t("create_checklist")}),a?e.jsx("button",{className:w.next_btn,title:"Update Checklist",onClick:b,children:t("update")}):e.jsx("button",{className:w.next_btn,title:"Next",onClick:b,children:t("next")})]}),e.jsx(T,{customStyle:{width:"100%",marginTop:"0.5rem"}}),e.jsx(me,{labelText:t("department_checklist_name"),placeholder:t("enter_checklist_name"),name:"checklistName",value:h.checklistName,type:"text",onChange:g,errorShow:c.checklistName}),e.jsx(us,{selectLabel:t("select_fees"),selectedValue:t("select_fess_yes_no"),name:"checklistFees",value:h.checklistFees,onClick:n=>d(l=>({...l,checklistFees:n})),errorShow:c.checklistFees,options:["Yes","No"]}),h.checklistFees==="Yes"?e.jsx(me,{labelText:t("amount"),placeholder:t("enter_fees_amount"),name:"checklistAmount",value:h.checklistAmount,type:"number",onChange:g,errorShow:c.checklistAmount}):""]})},Ps=({onBack:s,bid:o,did:a,createFees:t,onResetAfterCreate:h})=>{const{t:d}=k(),[c,x]=_.useState(!0),[N,g]=_.useState(!1),[b,n]=_.useState([]),[l,m]=_.useState([]),[u]=Xe(),{departmentAllClassMaster:i,departmentAllClassMasterRefetch:p}=Ze({data:{did:a,bid:o,page:1,limit:50},skip:!o||!a});_.useEffect(()=>{o&&a&&p()},[o,a,p]),_.useEffect(()=>{var v,r;(v=i==null?void 0:i.classMaster)!=null&&v.length?(n(i==null?void 0:i.classMaster),x(!1)):((r=i==null?void 0:i.classMaster)==null?void 0:r.length)===0&&x(!1)},[i==null?void 0:i.classMaster]);const j=()=>{l!=null&&l.length&&(g(v=>!v),u({did:a,createChecklist:{...t,ClassId:l}}).then(()=>{h(),g(v=>!v)}).catch(()=>{g(v=>!v)}))},f=v=>{l!=null&&l.includes(v)?m(r=>r==null?void 0:r.filter(S=>S!==v)):m(r=>[...r,v])};return e.jsxs("div",{className:w.seating_modal,children:[e.jsxs("section",{className:w.seating_modal_title_left,style:{position:"relative"},children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:"back"}),e.jsx("h6",{children:d("select_classes")}),e.jsx("button",{className:w.next_btn,title:"Save checklist",onClick:j,children:d("save")})]}),e.jsx(T,{customStyle:{width:"100%",marginTop:"0.5rem",marginBottom:"0.5rem"}}),b==null?void 0:b.map(v=>{var r;return(r=v==null?void 0:v.classDivision)==null?void 0:r.map(S=>e.jsx(Ue,{cls:S,isMaster:!0,onSelect:f,classMaster:v==null?void 0:v.className,divisionId:l},S._id))}),!c&&!(b!=null&&b.length)&&e.jsx(ue,{customStyleContainer:{marginTop:"4rem"},title:"No any class found",subtitle:"Please make sure you have created class."}),c&&e.jsx(H,{}),N&&e.jsx(B,{})]})};function Ie({did:s,bid:o,onRefetch:a,onClose:t,onEdit:h,is_edit:d,checklistData:c}){const[x,N]=_.useState("FEES_INFO"),[g,b]=_.useState({checklistName:d?c==null?void 0:c.checklistName:"",checklistAmount:d?c==null?void 0:c.checklistAmount:"",checklistFees:d?c==null?void 0:c.checklistFees:""});_.useEffect(()=>{d&&c&&b(m=>({...m,checklistName:c==null?void 0:c.checklistName,checklistAmount:c==null?void 0:c.checklistAmount,checklistFees:c==null?void 0:c.checklistFees}))},[d,c]);const n=m=>{d?h(m):(b(u=>({...u,...m})),N("SELECT_DIVISION"))},l=()=>{a(),t(),b({checklistName:"",checklistAmount:"",checklistFees:""}),N("FEES_INFO")};return e.jsxs(xe,{onClose:t,children:[x==="FEES_INFO"&&e.jsx(Qs,{onClose:t,onGrabInfo:n,checklistInfo:g,is_edit:d}),x==="SELECT_DIVISION"&&e.jsx(Ps,{onBack:()=>N("FEES_INFO"),did:s,bid:o,createFees:g,onResetAfterCreate:l})]})}const et="_checklist_card_container_vv7o6_1",st="_checklist_active_card_vv7o6_21",tt="_checklist_card_left_vv7o6_24",at="_checklist_inner_text_vv7o6_30",nt="_menu_icon_vv7o6_61",it="_fees_image_vv7o6_68",G={checklist_card_container:et,checklist_active_card:st,checklist_card_left:tt,checklist_inner_text:at,menu_icon:nt,fees_image:it},ct=({did:s,onRefetch:o,openChecklistMenu:a,onClose:t})=>{const[h,d]=_.useState(!1),[c,x]=_.useState(!1),[N]=Ve(),[g]=Qe(),b=()=>{d(l=>!l),N({did:s,cid:a==null?void 0:a._id}).then(()=>{o(),d(l=>!l),t()}).catch({})},n=l=>{d(m=>!m),x(!1),g({cid:a==null?void 0:a._id,checklist:l}).then(()=>{o(),d(m=>!m),t()}).catch({})};return e.jsx(e.Fragment,{children:c?e.jsx(Ie,{checklistData:a,onClose:()=>x(!1),onEdit:n,is_edit:!0}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{onClose:t}),e.jsxs(De,{customStyle:{zIndex:"1200"},children:[e.jsxs("div",{className:ce.edit_modal_container,style:{width:"200px"},children:[e.jsx("h6",{className:ce.edit,onClick:()=>x(l=>!l),children:"Edit"}),e.jsx("h6",{className:ce.remove,onClick:b,children:"Delete"})]}),h&&e.jsx(B,{})]})]})})},ot=({checklist:s,onRefetch:o,did:a})=>{const{t}=k(),[h,d]=_.useState("");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:G.checklist_card_container,children:[e.jsxs("div",{className:G.checklist_card_left,children:[e.jsx("img",{src:"/images/members/fees-icon.svg",alt:"fees icon",className:G.fees_image}),e.jsxs("div",{className:G.checklist_inner_text,children:[e.jsx("h6",{children:(s==null?void 0:s.checklistName)??0}),e.jsxs("p",{children:[t("created_on")," ",oe(s==null?void 0:s.createdAt).format("DD MMMM YYYY")," "]})]})]}),e.jsxs("div",{className:G.checklist_inner_text,style:{alignItems:"flex-end",marginRight:"2rem"},children:[e.jsxs("h6",{children:[t("rs"),". ",(s==null?void 0:s.checklistAmount)??0,"/-"]}),e.jsxs("p",{children:[t("fees")," "]})]}),e.jsx("img",{src:"/images/three-24-dot-icon.svg",alt:"menu icon",onClick:()=>d(s),className:G.menu_icon,title:"Menu"})]}),h&&e.jsx(ct,{did:a,onRefetch:o,openChecklistMenu:h,onClose:()=>d("")})]})};function rt({did:s,bid:o}){var i;const{t:a}=k(),[t,h]=_.useState(!1),[d,c]=_.useState(!0),[x,N]=_.useState([]),[g,b]=_.useState(!1),{departmentAllChecklist:n,departmentAllChecklistRefetch:l}=Pe({data:{did:s,page:1,limit:20},skip:!s});_.useEffect(()=>{s&&l()},[s,l]),_.useEffect(()=>{var p,j;(p=n==null?void 0:n.checklist)!=null&&p.length?(N(n==null?void 0:n.checklist),c(!1)):((j=n==null?void 0:n.checklist)==null?void 0:j.length)===0&&c(!1)},[n==null?void 0:n.checklist]);const m=()=>{h(p=>!p)},u=p=>{var j;if(p.target.value){const f=(j=n==null?void 0:n.checklist)==null?void 0:j.filter(v=>{var r,S,y;return(y=(r=v==null?void 0:v.checklistName)==null?void 0:r.toLowerCase())!=null&&y.includes((S=p.target.value)==null?void 0:S.toLowerCase())?v:null});(f==null?void 0:f.length)===0?b(!0):b(!1),N(f)}else b(!1),N(n==null?void 0:n.checklist)};return _.useEffect(()=>{s&&l()},[l,s]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:U.exam_container,children:[e.jsxs("div",{className:U.with_search,children:[e.jsx("h6",{children:a("previous_checklist_list")}),e.jsx("section",{className:U.search_container,children:e.jsxs("div",{className:U.search_container_input,children:[e.jsx("img",{className:U.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),e.jsx("input",{type:"text",placeholder:"Search checklist...",onChange:u})]})})]}),e.jsx(T,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),e.jsx("div",{className:U.add_new_container,children:e.jsx("p",{className:U.add_new_exam,onClick:m,children:a("create_new_checklist")})}),x==null?void 0:x.map(p=>e.jsx(ot,{checklist:p,onRefetch:l,did:s},p._id)),!d&&!((i=n==null?void 0:n.checklist)!=null&&i.length)&&e.jsx(ue,{customStyleContainer:{marginTop:"9rem"},title:"No any checklist found",subtitle:"Please make sure you have created checklist."}),g&&e.jsx(ue,{customStyleContainer:{marginTop:"9rem"},title:"No any search found"}),d&&e.jsx(H,{})]}),t&&e.jsx(Ie,{did:s,bid:o,onRefetch:l,onClose:m})]})}const dt="_holiday_1vuah_1",lt="_form_1vuah_8",mt="_list_1vuah_11",ht="_backFlex_1vuah_15",_t="_backh_1vuah_22",le={holiday:dt,form:lt,list:mt,backFlex:ht,backh:_t},xt="_examForm_1if59_1",ut="_formhead_1if59_8",jt="_formcontent_1if59_28",gt="_reasoncontainer_1if59_34",vt="_reason_1if59_34",ft="_savedateBtn_1if59_55",J={examForm:xt,formhead:ut,formcontent:jt,reasoncontainer:gt,reason:vt,savedateBtn:ft};const Nt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bt=["January","February","March","April","May","June","July","August","September","October","November","December"],pt=(s=Nt,o=bt)=>{const a=new Date,t=`${a.getDate()}-${a.getMonth()+1}-${a.getFullYear()}`,h=[1,2,3,4,5,6,0],[d,c]=_.useState(a),x=new Date(d.getFullYear(),d.getMonth()+1,0),N=new Date(d.getFullYear(),d.getMonth(),0),g=x.getDate(),b=new Date(d.getFullYear(),d.getMonth(),1).getDay(),n=h.indexOf(b)+1;let l=N.getDate()-h.indexOf(b)+1,m=1,u=1;const i=6,p=7,j={};for(let r=1;r<i+1;r++)for(let S=1;S<p+1;S++)j[r]||(j[r]=[]),r===1?S<n?(j[r]=[...j[r],{classes:"in-prev-month",date:`${l}-${d.getMonth()===0?12:d.getMonth()}-${d.getMonth()===0?d.getFullYear()-1:d.getFullYear()}`,value:l}],l++):(j[r]=[...j[r],{classes:"",date:`${m}-${d.getMonth()+1}-${d.getFullYear()}`,value:m}],m++):r>1&&m<g+1?(j[r]=[...j[r],{classes:"",date:`${m}-${d.getMonth()+1}-${d.getFullYear()}`,value:m}],m++):(j[r]=[...j[r],{classes:"in-next-month",date:`${u}-${d.getMonth()+2===13?1:d.getMonth()+2}-${d.getMonth()+2===13?d.getFullYear()+1:d.getFullYear()}`,value:u}],u++);return{daysShort:s,monthNames:o,todayFormatted:t,calendarRows:j,selectedDate:d,getPrevMonth:()=>{c(r=>new Date(r.getFullYear(),r.getMonth()-1,1))},getNextMonth:()=>{c(r=>new Date(r.getFullYear(),r.getMonth()+1,1))}}},St=({removeDateArray:s,addDateArray:o,dateArr:a,allHoliday:t})=>{const[h,d]=_.useState([...t]),{calendarRows:c,selectedDate:x,todayFormatted:N,daysShort:g,monthNames:b,getNextMonth:n,getPrevMonth:l}=pt();_.useEffect(()=>{d([...h,...t])},[t]);const m=u=>{if(a.length>0&&a.includes(u)){const i=a.filter(function(p){return p!==u});s(i),d(i)}else o(u),d(i=>[...i,u])};return console.info(t),e.jsxs(_.Fragment,{children:[e.jsxs("div",{className:"calenderheader",children:[e.jsx("div",{className:"monthbtn",onClick:l,children:e.jsx("img",{alt:"not found",src:"/images/members/arrow-left.svg"})}),e.jsxs("div",{className:"yearmonth",children:[e.jsx("h6",{children:`${b[x.getMonth()]}`}),e.jsx("p",{children:`${x.getFullYear()}`})]}),e.jsx("div",{className:"monthbtn",onClick:n,children:e.jsx("img",{alt:"not found",src:"/images/members/arrow-right.svg"})})]}),e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:g.map(u=>e.jsx("th",{className:"day",children:u},u))})}),e.jsx("tbody",{children:Object.values(c).map(u=>e.jsx("tr",{children:u.map(i=>i.date===N?t!=null&&t.includes(String(N))?e.jsx("td",{className:`${i.classes} date today`,onClick:()=>m(i.date),children:e.jsxs("div",{className:"highlight blue",children:[" ",i.value]})},i.date):e.jsx("td",{className:`${i.classes} date today`,onClick:()=>m(i.date),children:e.jsxs("div",{className:"highlight",children:[" ",i.value]})},i.date):i.classes==="in-prev-month"||i.classes==="in-next-month"?e.jsx("td",{className:`${i.classes} date`,children:e.jsxs("div",{className:"highlight",children:[" ",i.value]})},i.date):a.includes(i.date)?e.jsx("td",{className:`${i.classes} date`,onClick:()=>m(i.date),children:e.jsxs("div",{className:"highlight clicked",children:[" ",i.value]})},i.date):t.length>0&&t.includes(i.date)?e.jsx("td",{className:`${i.classes} date`,children:e.jsxs("div",{className:"highlight blue",children:[" ",i.value]})},i.date):e.jsx("td",{className:`${i.classes} date`,onClick:()=>m(i.date),children:e.jsxs("div",{className:"highlight",children:[" ",i.value]})},i.date))},u[0].date))})]})]})},yt="_addDisplay_5wpt9_1",$t="_title_5wpt9_8",wt="_content_5wpt9_30",Ct="_searchbar_5wpt9_34",kt="_btn_5wpt9_57",z={addDisplay:yt,title:$t,content:wt,searchbar:Ct,btn:kt};function Ft({hideModal:s,reason:o,clickAdd:a,handleReason:t,submitHandler:h}){const{t:d}=k();return e.jsx(Fe,{open:a,onClose:()=>s(!1),children:e.jsxs("div",{className:z.addDisplay,children:[e.jsx("div",{className:z.title,children:e.jsx("h6",{children:d("add_holiday_reason")})}),e.jsxs("div",{className:z.content,children:[e.jsx("div",{className:z.searchbar,children:e.jsx("textarea",{className:z.postTextarea,id:"textarea",type:"text",name:"CreateInsPost",placeholder:d("add_reason"),rows:"4",value:o,onChange:t})}),e.jsx("div",{className:z.btn,onClick:()=>s(!1),children:d("add_details")})]})]})})}const Et=s=>{const o=[];for(let a of s){const t=a==null?void 0:a.split("-"),h=t[0]>9?t[0]:`0${t[0]}`,d=t[1]>9?t[1]:`0${t[1]}`,c=`${h}/${d}/${t[2]}`;o.push(c)}return o};function Dt({onRefetch:s,did:o,allHoliday:a}){const{t}=k(),[h,d]=_.useState(!1),[c,x]=_.useState([]),[N,g]=_.useState([]),[b,n]=_.useState(""),[l,m]=_.useState(!1),[u]=es(),i=v=>{g(v),x(v)},p=v=>{const r=[...N];r==null||r.push(v),g(r),x(S=>[...S,v])},j=v=>{n(v.target.value)},f=()=>{m(!0);const v=Et(N);u({did:o,holiday:{reason:b,dates:v}}).then(()=>{s(),n(""),m(!1)}).catch(()=>{m(!1)}),x([])};return e.jsxs("div",{className:J.examForm,children:[e.jsxs("div",{className:J.formhead,children:[e.jsx("h6",{children:t("select_holidays_date")}),b&&N.length>0&&e.jsx("button",{className:J.savedateBtn,disabled:l,onClick:f,children:t("save_date")})]}),e.jsxs("div",{className:J.formcontent,children:[e.jsx(St,{removeDateArray:i,dateArr:c,addDateArray:p,allHoliday:a}),e.jsx("div",{className:J.reasoncontainer,children:e.jsx("div",{className:J.reason,onClick:()=>d(!0),children:t("reason")})})]}),h&&e.jsx(Ft,{clickAdd:h,hideModal:v=>d(v),handleReason:j,submitHandler:f,reason:b}),l&&e.jsx(B,{})]})}const Tt="_examListheader_t5jxj_1",It="_examListItems_t5jxj_12",Rt="_sidebarheader_t5jxj_21",Lt="_text_t5jxj_39",At="_date_t5jxj_49",Mt="_dates_t5jxj_84",qt="_insName_t5jxj_94",Y={examListheader:Tt,examListItems:It,sidebarheader:Rt,text:Lt,date:At,dates:Mt,insName:qt};function Yt({reason:s,dDate:o}){const{t:a}=k();return e.jsxs("div",{className:Y.sidebarheader,children:[e.jsx("img",{src:"/images/members/holiday-icon.svg",alt:""}),e.jsxs("div",{className:Y.text,children:[e.jsxs("div",{className:Y.insName,children:[e.jsxs("div",{className:Y.dates,children:[a("dates"),":",o.map((t,h)=>(o==null?void 0:o.length)===h+1?e.jsxs("h6",{children:[t==null?void 0:t.slice(0,2)," "]},h):e.jsxs("h6",{children:[t==null?void 0:t.slice(0,2),", "]},h))]}),e.jsxs("p",{children:[oe(o[-1]).format("MMM YYYY")," "]})]}),e.jsx("div",{className:Y.insUserName,children:e.jsx("p",{children:s})})]})]})}function Bt({holiday:s}){const{t:o}=k();return e.jsxs("div",{className:Y.examList,children:[e.jsx("div",{className:Y.examListheader,children:o("holiday_preview")}),e.jsx("div",{className:Y.examListItems,children:s==null?void 0:s.map(a=>e.jsx(Yt,{reason:a==null?void 0:a.dHolidayReason,dDate:a==null?void 0:a.dDate},a._id))})]})}function Ot({did:s}){var d,c;const[o,a]=_.useState([]),{departmentAllHoliday:t,departmentAllHolidayRefetch:h}=ss({did:s,page:1,limit:20});return _.useEffect(()=>{var x,N,g;if((x=t==null?void 0:t.depart)!=null&&x.holiday){const b=[];(g=(N=t==null?void 0:t.depart)==null?void 0:N.holiday)==null||g.map(n=>{var l;return(l=n==null?void 0:n.dDate)==null?void 0:l.map(m=>{var j,f;const u=m==null?void 0:m.split("/"),i=u[0]>9?u[0]:`${(j=u[0])==null?void 0:j.slice(1,2)}`,p=u[1]>9?u[1]:`${(f=u[1])==null?void 0:f.slice(1,2)}`;return b.push(`${i}-${p}-${u[2]}`),""})}),a(b)}},[(d=t==null?void 0:t.depart)==null?void 0:d.holiday]),e.jsx("div",{className:le.checklistContainer,children:e.jsxs("div",{className:le.holiday,children:[e.jsx("div",{className:le.form,children:e.jsx(Dt,{did:s,onRefetch:h,allHoliday:o})}),e.jsx("div",{className:le.list,children:e.jsx(Bt,{holiday:(c=t==null?void 0:t.depart)==null?void 0:c.holiday})})]})})}const ke=({viewAs:s,customStyleContainer:o,mentee:a,setOpenMenteeMenu:t})=>{const{t:h}=k();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:de.student_card_container,style:o,children:[e.jsx("img",{src:a!=null&&a.studentProfilePhoto?`${he}/${a==null?void 0:a.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"student avatar",loading:"lazy"}),e.jsxs("div",{className:de.student_container_inner,children:[e.jsx("h6",{children:`${(a==null?void 0:a.studentFirstName)??""} ${(a==null?void 0:a.studentMiddleName)??""} ${(a==null?void 0:a.studentLastName)??""}`}),e.jsxs("div",{className:de.student_inner_bottom,children:[e.jsxs("p",{style:{marginTop:"0.6rem"},children:[`${(a==null?void 0:a.total_query)??0} `,h("queries_pending")]}),s==="MENTOR_DETAIL"&&e.jsx("button",{className:de.remove_btn,onClick:()=>t(a),children:h("remove")})]})]})]}),e.jsx(T,{customStyle:{width:"100%",marginTop:"0.6rem"}})]})},Ut=({onBack:s,onSelect:o,did:a})=>{const{t}=k(),[h,d]=be(),[c,x]=_.useState(1),[N,g]=_.useState(!0),[b,n]=_.useState(!0),[l,m]=_.useState([]),{getAllMentorClassList:u,getAllMentorClassListRefetch:i}=ts({data:{did:a,page:c,limit:10},skip:!a});_.useEffect(()=>{a&&(n(!0),i())},[a,c,i]),_.useEffect(()=>{d&&N&&x(j=>j+1)},[d,N]),_.useEffect(()=>{var j,f;u!=null&&u.all_classes?(m(v=>[...new Set([...v,...u==null?void 0:u.all_classes].map(JSON.stringify))].map(JSON.parse)),n(!1)):((j=u==null?void 0:u.all_classes)==null?void 0:j.length)===0&&n(!1),((f=u==null?void 0:u.all_classes)==null?void 0:f.length)===10?g(!0):g(!1)},[u==null?void 0:u.all_classes]);const p=j=>{o(j)};return e.jsx(xe,{onClose:s,children:e.jsxs("div",{className:w.seating_modal,children:[e.jsxs("section",{className:w.seating_modal_title_left,style:{position:"relative"},children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:s,alt:""}),e.jsx("h6",{children:t("select_class")})]}),e.jsx(T,{customStyle:{width:"100%"}}),l==null?void 0:l.map((j,f)=>{var v,r;return(l==null?void 0:l.length)===f+1?e.jsxs("div",{className:w.classes_main_container,ref:h,onClick:()=>p(j==null?void 0:j._id),children:[e.jsx("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),e.jsx("div",{className:w.with_check_container,children:e.jsxs("div",{className:w.person_container_text,children:[e.jsx("h6",{children:`${(j==null?void 0:j.className)??""} ${(j==null?void 0:j.classTitle)??""}`})," ",e.jsxs("span",{style:{fontWeight:"400",fontSize:"12px"},children:["(",((v=j==null?void 0:j.batch)==null?void 0:v.batchName)??"",")"]})]})})]},j._id):e.jsxs("div",{className:w.classes_main_container,onClick:()=>p(j==null?void 0:j._id),children:[e.jsx("img",{src:"/images/master-24-grey-icon.svg",alt:"classes icon"}),e.jsx("div",{className:w.with_check_container,children:e.jsxs("div",{className:w.person_container_text,children:[e.jsx("h6",{children:`${(j==null?void 0:j.className)??""} ${(j==null?void 0:j.classTitle)??""}`}),e.jsxs("span",{style:{fontWeight:"400",fontSize:"12px"},children:["(",((r=j==null?void 0:j.batch)==null?void 0:r.batchName)??"",")"]})]})})]},j._id)}),b&&e.jsx(H,{})]})})},Ht=({disabled:s,onClose:o,onAddStudent:a,cid:t})=>{const{t:h}=k(),[d,c]=_.useState(!0),[x,N]=_.useState([]),[g,b]=_.useState([]),[n,l]=_.useState(!1),{getClassStudentList:m,getClassStudentListRefetch:u}=as({cid:t,skip:!t});_.useEffect(()=>{t&&(c(!0),u())},[t,u]),_.useEffect(()=>{var r;m!=null&&m.assigned_mentee?(N(m==null?void 0:m.assigned_mentee),c(!1)):((r=m==null?void 0:m.assigned_mentee)==null?void 0:r.length)===0&&c(!1)},[m==null?void 0:m.assigned_mentee]);const i=r=>{var S;if(r.target.value){const y=(S=m==null?void 0:m.assigned_mentee)==null?void 0:S.filter($=>{var E,R,L;return(L=(E=`${$==null?void 0:$.studentFirstName}${$!=null&&$.studentMiddleName?` ${$==null?void 0:$.studentMiddleName}`:" "}${$==null?void 0:$.studentLastName}`)==null?void 0:E.toLowerCase())!=null&&L.includes((R=r.target.value)==null?void 0:R.toLowerCase())?$:null});N(y)}else N(m==null?void 0:m.assigned_mentee)},p=()=>{let r=[];for(let S of x)r.push(S==null?void 0:S._id);b(r),l(!0)},j=()=>{b([]),l(!1)},f=r=>{g!=null&&g.includes(r)?b(S=>S==null?void 0:S.filter(y=>y!==r)):b(S=>[...S,r])},v=()=>{(g==null?void 0:g.length)>0&&a(g)};return e.jsx(xe,{onClose:o,children:e.jsxs("div",{className:w.seating_modal,children:[e.jsxs("section",{className:w.seating_modal_title_left,style:{position:"relative"},children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:o,alt:""}),e.jsx("h6",{children:h("select_student")}),e.jsx("button",{className:w.next_btn,title:"Add mentee",onClick:v,children:h("add")})]}),e.jsx(T,{customStyle:{width:"100%"}}),e.jsxs("div",{className:w.select_mutliple,children:[e.jsxs("p",{children:[g!=null&&g.length?g==null?void 0:g.length:""," "," ",h("selected")]}),n?e.jsx("button",{onClick:j,children:h("remove_all")}):e.jsx("button",{onClick:p,children:h("select_all")})]}),e.jsx("div",{className:w.search_container,style:{marginBottom:"0.5rem"},children:e.jsxs("div",{className:w.search_container_input,style:{width:"100%"},children:[e.jsx("img",{className:w.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),e.jsx("input",{type:"text",placeholder:h("search-label"),style:{width:"100%"},onChange:i})]})}),x==null?void 0:x.map(r=>e.jsxs("div",{className:w.person_container,onClick:()=>f(r==null?void 0:r._id),children:[e.jsx("img",{src:r!=null&&r.studentProfilePhoto?`${he}/${r.studentProfilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:"student profile avatar",loading:"lazy"}),e.jsxs("div",{className:w.with_check_container,children:[e.jsxs("div",{className:w.person_container_text,children:[e.jsx("h6",{children:`${(r==null?void 0:r.studentFirstName)??""} ${(r==null?void 0:r.studentMiddleName)??""} ${(r==null?void 0:r.studentLastName)??""}`}),e.jsxs("p",{children:[h("index")," ",r==null?void 0:r.studentROLLNO]})]}),g!=null&&g.includes(r==null?void 0:r._id)?e.jsx("img",{src:"/images/department/blue-check-icon.svg",alt:"checkbox icon",title:"Select student"}):e.jsx("img",{src:"/images/department/uncheck-icon.svg",alt:"checkbox icon",title:"Unselect student"})]})]},r._id)),d&&e.jsx(H,{}),s&&e.jsx(B,{})]})})},Gt=({onClose:s,onRefetch:o,did:a,mid:t})=>{const[h,d]=_.useState(!1),[c,x]=_.useState("SELECT_CLASS"),[N,g]=_.useState(""),[b]=ns(),n=u=>{x(u)},l=u=>{g(u),n("SELECT_STUDENT")},m=u=>{d(i=>!i),b({did:a,mid:t,add_mentee:{student_array:u}}).then(()=>{o(),s(),d(i=>!i)}).catch({})};return e.jsxs(e.Fragment,{children:[c==="SELECT_CLASS"&&e.jsx(Ut,{onBack:s,did:a,onSelect:l}),c==="SELECT_STUDENT"&&e.jsx(Ht,{onClose:()=>n("SELECT_CLASS"),cid:N,onAddStudent:m,disabled:h})]})},Jt=({onClose:s,openMenteeMenu:o,onRefetch:a,did:t,mid:h})=>{const[d,c]=_.useState(!1),[x]=is(),N=()=>{c(g=>!g),x({did:t,mid:h,destroy_mentee:{sid:o==null?void 0:o._id}}).then(()=>{a(),s(),c(g=>!g)}).catch({})};return e.jsxs(e.Fragment,{children:[e.jsx(Te,{onClose:s}),e.jsxs(De,{customStyle:{zIndex:"1200"},children:[e.jsxs("div",{className:ce.edit_modal_container,style:{width:"300px"},children:[e.jsx("h6",{children:Ye("confirm_to_remove_mentee")}),e.jsx("button",{className:ce.update_to_btn,onClick:N,children:"Confirm"})]}),d&&e.jsx(B,{})]})]})},zt=({did:s})=>{var E,R,L,W,K,X,Z,V,Q,P,ee,se,te,ae;const o=_e(),[a,t]=_.useState(!1),[h,d]=be(),[c,x]=_.useState(1),[N,g]=_.useState(!0),[b,n]=_.useState(!0),[l,m]=_.useState([]),[u,i]=_.useState(!1),[p,j]=_.useState(""),{getOneMentorDetail:f,getOneMentorDetailRefetch:v}=cs({mid:(E=o.state)==null?void 0:E.mid,skip:!((R=o.state)!=null&&R.mid)});_.useEffect(()=>{var C;(C=o.state)!=null&&C.mid&&v()},[(L=o.state)==null?void 0:L.mid,v]);const{getOneMentorMenteeList:r,getOneMentorMenteeListRefetch:S}=os({data:{mid:(W=o.state)==null?void 0:W.mid,page:c,limit:10},skip:!((K=o.state)!=null&&K.mid)});_.useEffect(()=>{var C;(C=o.state)!=null&&C.mid&&(n(!0),S())},[(X=o.state)==null?void 0:X.mid,c,S]),_.useEffect(()=>{d&&N&&x(C=>C+1)},[d,N]),_.useEffect(()=>{var C,O;u?(m(r==null?void 0:r.all_mentees),n(!1),i(!1)):r!=null&&r.all_mentees?(m(re=>[...new Set([...re,...r==null?void 0:r.all_mentees].map(JSON.stringify))].map(JSON.parse)),n(!1)):((C=r==null?void 0:r.all_mentees)==null?void 0:C.length)===0&&n(!1),((O=r==null?void 0:r.all_mentees)==null?void 0:O.length)===10?g(!0):g(!1)},[r==null?void 0:r.all_mentees]);const y=()=>{t(C=>!C)},$=()=>{x(1),i(!0),n(!0),S()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:q.with_search,children:[e.jsx("h6",{children:`${((V=(Z=f==null?void 0:f.mentor)==null?void 0:Z.mentor_head)==null?void 0:V.staffFirstName)??""} ${((P=(Q=f==null?void 0:f.mentor)==null?void 0:Q.mentor_head)==null?void 0:P.staffMiddleName)??""} ${((se=(ee=f==null?void 0:f.mentor)==null?void 0:ee.mentor_head)==null?void 0:se.staffLastName)??""}`}),e.jsxs("div",{className:q.search_container_filter,children:[e.jsx("section",{className:q.search_container,children:e.jsxs("div",{className:q.search_container_input,children:[e.jsx("img",{className:q.searchIcon,alt:"search icon",src:"/images/search-dash-icon.svg"}),e.jsx("input",{type:"text",placeholder:"Search"})]})}),e.jsx("img",{src:"/images/add-plus-blue-icon.svg",alt:"back arrow",className:q.add_plus_icon,onClick:y,title:"Add seating arrangements"})]})]}),e.jsx(T,{customStyle:{marginTop:"0.5rem",marginBottom:"0.6rem",width:"100%"}}),e.jsx(je,{viewAs:"MENTOR_DETAIL",mentor:f==null?void 0:f.mentor}),l==null?void 0:l.map((C,O)=>(l==null?void 0:l.length)===O+1?e.jsx("div",{ref:h,children:e.jsx(ke,{mentee:C,viewAs:"MENTOR_DETAIL",setOpenMenteeMenu:j})},C==null?void 0:C._id):e.jsx(ke,{mentee:C,viewAs:"MENTOR_DETAIL",setOpenMenteeMenu:j},C==null?void 0:C._id)),b&&e.jsx(H,{}),a&&e.jsx(Gt,{onClose:y,did:s,mid:(te=o.state)==null?void 0:te.mid,onRefetch:$}),p&&e.jsx(Jt,{onClose:()=>j(""),did:s,mid:(ae=o.state)==null?void 0:ae.mid,onRefetch:$,openMenteeMenu:p})]})},Wt=({instituteId:s,onClose:o,onRefetch:a,did:t})=>{const{t:h}=k(),[d,c]=_.useState(!1),[x,N]=_.useState(!0),[g]=rs(),b=n=>{N(!1),c(l=>!l),g({did:t,sid:n==null?void 0:n._id}).then(()=>{a(),o(),c(l=>!l)}).catch({})};return e.jsxs(e.Fragment,{children:[x&&e.jsx(xe,{onClose:o,children:e.jsx(fs,{assignHead:x,headSelect:b,title:h("staff_list"),onClose:()=>N(n=>!n),viewAs:"ADMISSION_ADMIN",instituteId:s})}),d&&e.jsx(B,{})]})},Kt=({carryParentState:s,instituteId:o,did:a})=>{const{t}=k(),[h,d]=_.useState(!1),[c,x]=be(),[N,g]=_.useState(1),[b,n]=_.useState(!0),[l,m]=_.useState(!0),[u,i]=_.useState([]),[p,j]=_.useState(!1),{getMentorList:f,getMentorListRefetch:v}=ds({data:{did:a,page:N,limit:10},skip:!a});_.useEffect(()=>{a&&(m(!0),v())},[a,N,v]),_.useEffect(()=>{x&&b&&g(y=>y+1)},[x,b]),_.useEffect(()=>{var y,$;p?(i(f==null?void 0:f.all_mentor),m(!1),j(!1)):f!=null&&f.all_mentor?(i(E=>[...new Set([...E,...f==null?void 0:f.all_mentor].map(JSON.stringify))].map(JSON.parse)),m(!1)):((y=f==null?void 0:f.all_mentor)==null?void 0:y.length)===0&&m(!1),(($=f==null?void 0:f.all_mentor)==null?void 0:$.length)===10?n(!0):n(!1)},[f==null?void 0:f.all_mentor]);const r=()=>{d(y=>!y)},S=()=>{g(1),j(!0),m(!0),v()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("h6",{className:q.add_new_category,onClick:r,children:t("create_new_mentor")})}),u==null?void 0:u.map((y,$)=>(u==null?void 0:u.length)===$+1?e.jsx("div",{ref:c,children:e.jsx(je,{mentor:y,carryParentState:s})},y==null?void 0:y._id):e.jsx(je,{mentor:y,carryParentState:s},y==null?void 0:y._id)),l&&e.jsx(H,{}),h&&e.jsx(Wt,{onClose:r,instituteId:o,onRefetch:S,did:a})]})},Xt=({carryParentState:s,did:o,instituteId:a})=>{var g,b,n,l,m,u,i,p;const{t}=k(),h=Be(),d=_e(),c=Ne(),x=[{name:t("mentors"),id:0,url:`member/department/${c.deptname}?a=mentor`},{name:t("queries"),id:1,url:`member/department/${c.deptname}?a=mentor&n=queries`}],N=()=>{h(-1)};return e.jsxs(e.Fragment,{children:[(((g=d.search)==null?void 0:g.substring(3))==="mentor"||((b=d.search)==null?void 0:b.substring(3))==="mentor&n=queries")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:q.with_search,style:{justifyContent:"flex-start",gap:"1rem"},children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:N,alt:"go to previous tab",title:"Go Back",style:{cursor:"pointer"}}),e.jsx("h6",{children:t("mentoring")})]}),e.jsx(js,{tabList:x,activeIndexTab:((n=d.search)==null?void 0:n.substring(3))==="mentor"?0:((l=d.search)==null?void 0:l.substring(3))==="mentor&n=queries"?1:2,showAs:!0,customStyleLink:{width:"50%"},carryParentState:s}),e.jsx(T,{customStyle:{width:"100%",marginBottom:"0.5rem"}}),((m=d.search)==null?void 0:m.substring(3))==="mentor"&&e.jsx(Kt,{instituteId:a,did:o,carryParentState:s}),((u=d.search)==null?void 0:u.substring(3))==="mentor&n=queries"&&e.jsx(gs,{did:o,carryParentState:s,queryFlow:"By_Department_Head"})]}),((i=d.search)==null?void 0:i.substring(3))==="mentor&n=detail"&&e.jsx(zt,{did:o}),((p=d.search)==null?void 0:p.substring(3))==="mentor&n=queries&query"&&e.jsx(vs,{queryFlow:"By_Department_Head"})]})},Zt="_ClassSetting_1whll_1",Vt="_tabsContainer_1whll_5",Qt="_backh_1whll_11",Pt="_department_container_1whll_24",ea="_department_setting_btn_1whll_33",ge={ClassSetting:Zt,tabsContainer:Vt,backh:Qt,department_container:Pt,department_setting_btn:ea};const sa="_complaints_1itm9_1",ta="_complaintList_1itm9_9",aa="_complaintDetail_1itm9_13",na={complaints:sa,complaintList:ta,complaintDetail:aa},ia="_complaintList_11fy1_1",ca="_listHead_11fy1_17",oa="_tabs_11fy1_24",ra="_tabss_11fy1_29",da="_tabb_11fy1_34",la="_tabActive_11fy1_54",I={complaintList:ia,listHead:ca,tabs:oa,tabss:ra,tabb:da,tabActive:la};const ma="_list_tip4d_1",ha="_item_tip4d_8",_a="_datetime_tip4d_34",ve={list:ma,item:ha,datetime:_a},xa="_addDisplay_3hvvc_1",ua="_title_3hvvc_7",ja="_text_3hvvc_19",ga="_content_3hvvc_45",va="_footer_3hvvc_61",fa="_btn_3hvvc_67",M={addDisplay:xa,title:ua,text:ja,content:ga,footer:va,btn:fa};function Re({addDisplay:s,setAddDisplay:o,complaintId:a,onRefetch:t}){var n,l,m,u,i,p,j,f,v,r,S,y;const[h,d]=_.useState(!1),{departmentComplaintDetail:c,departmentComplaintDetailRefetch:x}=ls({data:{cid:a},skip:!a}),[N]=ms();_.useEffect(()=>{a&&x()},[a,x]);const g=()=>{o(!1)},b=$=>{$==="Solved"||(d(E=>!E),N({cid:a,complaintSolve:{status:"Solved"}}).then(()=>{t(),d(E=>!E)}).catch({}))};return e.jsx(e.Fragment,{children:e.jsxs(Fe,{open:s,onClose:g,children:[e.jsxs("div",{className:M.addDisplay,children:[e.jsxs("div",{className:M.title,children:[e.jsx("img",{src:"/images/complaint-white.svg",alt:""}),e.jsxs("div",{className:M.text,children:[e.jsx("div",{className:M.insName,children:e.jsx("h6",{children:((n=c==null?void 0:c.complaint)==null?void 0:n.complaintType)==="Open"?`${(m=(l=c==null?void 0:c.complaint)==null?void 0:l.student)==null?void 0:m.studentFirstName}
        ${(i=(u=c==null?void 0:c.complaint)==null?void 0:u.student)!=null&&i.studentMiddleName?(j=(p=c==null?void 0:c.complaint)==null?void 0:p.student)==null?void 0:j.studentMiddleName:" "}
        ${(v=(f=c==null?void 0:c.complaint)==null?void 0:f.student)==null?void 0:v.studentLastName}`:"Anonymous"})}),e.jsx("div",{className:M.insUserName,children:e.jsx("p",{children:oe((r=c==null?void 0:c.complaint)==null?void 0:r.createdAt).format("DD-MM-YYYY")})})]})]}),e.jsx("div",{className:M.content,children:(S=c==null?void 0:c.complaint)==null?void 0:S.complaintContent}),((y=c==null?void 0:c.complaint)==null?void 0:y.complaintStatus)!=="Solved"?e.jsx("div",{className:M.footer,children:e.jsx("div",{className:M.btn,onClick:()=>{var $;return b(($=c==null?void 0:c.complaint)==null?void 0:$.complaintStatus)},children:"Solved"})}):""]}),h&&e.jsx(B,{})]})})}function Na({complaint:s,onRefetch:o}){var h,d,c,x;const[a,t]=_.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:ve.item,onClick:()=>t(N=>!N),children:[e.jsx("img",{src:"/images/complainIcon.svg",alt:""}),e.jsxs("div",{children:[e.jsx("h6",{children:(s==null?void 0:s.complaintType)==="Open"?`${(h=s==null?void 0:s.student)==null?void 0:h.studentFirstName}
        ${(d=s==null?void 0:s.student)!=null&&d.studentMiddleName?(c=s==null?void 0:s.student)==null?void 0:c.studentMiddleName:" "}
        ${(x=s==null?void 0:s.student)==null?void 0:x.studentLastName}`:"Anonymous"}),e.jsx("div",{className:ve.datetime,children:e.jsx("p",{children:oe(s==null?void 0:s.createdAt).format("DD-MM-YYYY")})})]})]}),a&&e.jsx(Re,{setAddDisplay:t,addDisplay:a,complaintId:s==null?void 0:s._id,onRefetch:o})]})}function ba({did:s}){var t;const{departmentAllComplaint:o,departmentAllComplaintRefetch:a}=Ee({data:{did:s,status:"Unsolved",page:1,limit:50},skip:!s});return _.useEffect(()=>{s&&a()},[s,a]),e.jsx("div",{className:ve.list,children:(t=o==null?void 0:o.complaints)==null?void 0:t.map(h=>e.jsx(Na,{complaint:h,onRefetch:a},h==null?void 0:h._id))})}const pa="_list_y64uh_1",Sa="_item_y64uh_8",ya="_datetime_y64uh_34",fe={list:pa,item:Sa,datetime:ya};function $a({complaint:s}){var t,h,d,c;const[o,a]=_.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:fe.item,onClick:()=>a(x=>!x),children:[e.jsx("img",{src:"/images/complainIcon.svg",alt:""}),e.jsxs("div",{children:[e.jsx("h6",{children:(s==null?void 0:s.complaintType)==="Open"?`${(t=s==null?void 0:s.student)==null?void 0:t.studentFirstName}
        ${(h=s==null?void 0:s.student)!=null&&h.studentMiddleName?(d=s==null?void 0:s.student)==null?void 0:d.studentMiddleName:" "}
        ${(c=s==null?void 0:s.student)==null?void 0:c.studentLastName}`:"Anonymous"}),e.jsx("div",{className:fe.datetime,children:e.jsx("p",{children:oe(s==null?void 0:s.createdAt).format("DD-MM-YYYY")})})]})]}),o&&e.jsx(Re,{setAddDisplay:a,addDisplay:o,complaintId:s==null?void 0:s._id})]})}function wa({did:s}){var t;const{departmentAllComplaint:o,departmentAllComplaintRefetch:a}=Ee({data:{did:s,status:"Solved",page:1,limit:50},skip:!s});return _.useEffect(()=>{s&&a()},[s,a]),e.jsx("div",{className:fe.list,children:(t=o==null?void 0:o.complaints)==null?void 0:t.map(h=>e.jsx($a,{complaint:h},h==null?void 0:h._id))})}function Ca({did:s}){const[o,a]=_.useState(!1),{t}=k();return e.jsxs("div",{className:I.complaintList,children:[e.jsxs("div",{className:I.tabss,children:[e.jsx("div",{className:o?I.tabb:`${I.tabb} ${I.tabActive}`,onClick:()=>a(!1),children:t("unsolved")}),e.jsx("div",{className:o?`${I.tabb} ${I.tabActive}`:I.tabb,onClick:()=>a(!0),children:t("Solved")})]}),e.jsx("div",{className:I.listHead,children:o?e.jsx(wa,{did:s}):e.jsx(ba,{did:s})})]})}function ka({did:s}){return e.jsx("div",{className:na.complaints,children:e.jsx(Ca,{did:s})})}const Fa=({did:s})=>{const{t:o}=k();return e.jsxs("div",{className:ge.ClassSetting,children:[e.jsx("h6",{children:o("complaints")}),e.jsx(T,{customStyle:{width:"100%"}}),e.jsx(ka,{did:s})]})},Ea=({did:s,ia:o,ea:a})=>{const{t}=k(),[h,d]=_.useState(""),[c,x]=_.useState({internal_assesment:"",external_assesment:""}),[N]=hs();_.useEffect(()=>{(a||o)&&x({internal_assesment:o??"",external_assesment:a??""})},[a,o]);const g=n=>{x(l=>({...l,[n.target.name]:+n.target.value}))},b=()=>{s&&(d(n=>!n),N({did:s,copoSetting:c}).then(()=>{d(n=>!n)}).catch({}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:ge.department_container,children:[e.jsx("h6",{children:t("setting")}),e.jsx(T,{customStyle:{width:"100%"}}),e.jsx(me,{labelText:t("internal_assesment"),placeholder:t("internal_assesment_placeholder"),name:"internal_assesment",value:c.internal_assesment,type:"number",onChange:g}),e.jsx(me,{labelText:t("external_assesment"),placeholder:t("external_assesment_placeholder"),name:"external_assesment",value:c.external_assesment,type:"number",onChange:g}),e.jsx("button",{className:ge.department_setting_btn,onClick:b,children:t("update")})]}),h&&e.jsx(B,{})]})};function Da({onClickValue:s,carryParentState:o}){var d,c,x,N,g,b,n,l,m,u,i,p,j,f,v,r,S,y,$,E,R,L,W,K,X,Z,V,Q,P,ee,se,te,ae,C,O,re,pe,Se,ye,$e,we,Ce;const a=_e(),{departmentProfile:t,departmentProfileRefetch:h}=_s({did:s==null?void 0:s._id,skip:!(s!=null&&s._id)});return ie.useEffect(()=>{s!=null&&s._id&&h()},[s==null?void 0:s._id,h]),e.jsxs("div",{className:ys.departmenthead,children:[!(a!=null&&a.search)&&e.jsx(Hs,{departmentProfile:t==null?void 0:t.department,carryParentState:o,instituteId:(c=(d=t==null?void 0:t.department)==null?void 0:d.institute)==null?void 0:c._id}),(a==null?void 0:a.search)&&e.jsxs(e.Fragment,{children:[((x=a==null?void 0:a.search)==null?void 0:x.substring(3))==="staff"&&e.jsx(Vs,{did:(N=t==null?void 0:t.department)==null?void 0:N._id}),((g=a==null?void 0:a.search)==null?void 0:g.substring(3,7))==="exam"&&e.jsx(He,{did:(b=t==null?void 0:t.department)==null?void 0:b._id,bid:(l=(n=t==null?void 0:t.department)==null?void 0:n.userBatch)==null?void 0:l._id,carryParentState:o,instituteId:(u=(m=t==null?void 0:t.department)==null?void 0:m.institute)==null?void 0:u._id}),((i=a==null?void 0:a.search)==null?void 0:i.substring(3))==="fees"&&e.jsx(Ge,{did:(p=t==null?void 0:t.department)==null?void 0:p._id,bid:(f=(j=t==null?void 0:t.department)==null?void 0:j.userBatch)==null?void 0:f._id}),((v=a==null?void 0:a.search)==null?void 0:v.substring(3))==="holiday"&&e.jsx(Ot,{did:(r=t==null?void 0:t.department)==null?void 0:r._id,bid:(y=(S=t==null?void 0:t.department)==null?void 0:S.userBatch)==null?void 0:y._id}),(($=a==null?void 0:a.search)==null?void 0:$.substring(3))==="complaint"&&e.jsx(Fa,{did:(E=t==null?void 0:t.department)==null?void 0:E._id}),((R=a==null?void 0:a.search)==null?void 0:R.substring(3))==="setting"&&e.jsx(Ea,{did:(L=t==null?void 0:t.department)==null?void 0:L._id,ea:(W=t==null?void 0:t.department)==null?void 0:W.external_assesment,ia:(K=t==null?void 0:t.department)==null?void 0:K.internal_assesment}),((X=a==null?void 0:a.search)==null?void 0:X.substring(3))==="checklist"&&e.jsx(rt,{did:(Z=t==null?void 0:t.department)==null?void 0:Z._id,bid:(Q=(V=t==null?void 0:t.department)==null?void 0:V.userBatch)==null?void 0:Q._id}),((P=a==null?void 0:a.search)==null?void 0:P.substring(3,10))==="backlog"&&e.jsx(Je,{did:(ee=t==null?void 0:t.department)==null?void 0:ee._id,carryParentState:o,instituteId:(te=(se=t==null?void 0:t.department)==null?void 0:se.institute)==null?void 0:te._id,viewAs:"DEPARTMENT_BACKLOG"}),((ae=a==null?void 0:a.search)==null?void 0:ae.substring(3,9))==="mentor"&&e.jsx(Xt,{did:(C=t==null?void 0:t.department)==null?void 0:C._id,instituteId:(re=(O=t==null?void 0:t.department)==null?void 0:O.institute)==null?void 0:re._id,carryParentState:o}),(((pe=a.search)==null?void 0:pe.substring(3,8))==="class"||((Se=a.search)==null?void 0:Se.substring(3,10))==="subject"||((ye=a.search)==null?void 0:ye.substring(3,13))==="assignment")&&e.jsx(Ns,{carryParentState:o,viewAs:"DEPARTMENT_HEAD",did:($e=t==null?void 0:t.department)==null?void 0:$e._id,instituteId:(Ce=(we=t==null?void 0:t.department)==null?void 0:we.institute)==null?void 0:Ce._id})]})]})}const Gn=()=>{var o,a,t,h,d,c;const s=_e();return e.jsx(e.Fragment,{children:((o=s==null?void 0:s.search)==null?void 0:o.substring(3))==="site"?e.jsx(bs,{did:(t=(a=s==null?void 0:s.state)==null?void 0:a.onClickValue)==null?void 0:t._id}):e.jsx(Oe,{index:"1",sid:((h=s==null?void 0:s.state)==null?void 0:h.sid)??"",onClickValue:((d=s==null?void 0:s.state)==null?void 0:d.onClickValue)??"",children:e.jsx(Da,{onClickValue:((c=s==null?void 0:s.state)==null?void 0:c.onClickValue)??"",carryParentState:s==null?void 0:s.state})})})};export{Gn as default};
