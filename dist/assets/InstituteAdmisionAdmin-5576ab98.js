import{R as q,_ as J,u as w,n as A,k as L,r as F,j as s,G as K,o as W,e as X,p as O,q as G,b as B,d as Q,s as Y}from"./index-731451a5.js";import{s as $}from"./AdmisionAdmin.module-940a8610.js";import{C as z}from"./CustomSuspense-e90dc607.js";import{c as U}from"./admission-api-56b87fde.js";import{s as N,C as H}from"./CommonLinkTab-7c8e0314.js";import{I as C,R as Z,A as I,C as P,a as D,b as ii,c as si}from"./AdmissionSiteInfo-51fa14b4.js";import"./BorderBottom-47800983.js";import"./AssignStaffModal-61be8e90.js";import"./search-api-15f7f9f9.js";import"./AssignStaffModal.module-a60b32e1.js";import"./CustomNormalSelectInput-9ec7329b.js";import"./JoinForm.module-212f9bb3.js";import"./PopupWrapper-ffbaef7a.js";import"./Overlay-07ce6f88.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalWrapper-6e85c9f3.js";import"./SearchModalBackdrop-5b309d60.js";import"./SearchHeader.module-b69c8942.js";import"./AdmissionModerator.module-e8abdfd3.js";import"./EditConfirm.module-344fbdb9.js";import"./AdmisisonRefund.module-c6c85188.js";import"./Funds.module-95df49a8.js";import"./CustomSelectDepartment-a5dd9a35.js";import"./constant_value-4cd2b3e0.js";import"./finance-api-5c6c5671.js";import"./AdmissionExportEdit-055c7a3d.js";import"./JoinFormInput-8e74a0e0.js";import"./AdmissionApplicationRequest.module-43e4e129.js";import"./CreateAdmissionApplication-3142beca.js";import"./SeatingArrangement.module-3f4ae6aa.js";import"./hostel-api-4d11cb04.js";import"./JoinFormCalender-5158d888.js";import"./DatePicker-305f3dc6.js";import"./JoinFormTextArea-7f6dded0.js";import"./JoinFormFile-110be590.js";import"./department-api-a4f0b4b7.js";import"./ClassCard-ebc64e14.js";import"./SelectFeeStructure-05d0a31f.js";import"./FeesStructure.module-7a88fbbc.js";import"./SelectHostelFeeStrucutre-6ca88b34.js";import"./ApplicationPreviewDetail-fd29a331.js";import"./JoinFormInputView-879755fe.js";import"./StringLength.module-75a6e080.js";import"./transport-api-9ab21e71.js";import"./AdmissionApplicationDetail-39b2aa3d.js";import"./AdmissionApplicationCalender-28d9a66e.js";import"./Attendence.module-a5391855.js";import"./UniversalTab-d4f2174c.js";import"./PaymentModeType-cf3d04e2.js";import"./pdf-convertor-function-e794de58.js";import"./main.receipt.pdf.worker-5753b302.js";import"./numberToWords.min-dbca819b.js";import"./PromoteDepartment.module-1bdd3b1d.js";import"./OsReminderStudentCard-db46fbab.js";import"./EmptyInfo-7233226d.js";import"./AllStudentFilter-2a0b02e0.js";import"./RemainingFees.module-bd1517de.js";import"./AdmissionSiteInfo.module-332fbdef.js";import"./JoinFormFileEdit-e41481d6.js";import"./ViewFileDialog-0c131c06.js";const ei="_institute_admission_body_1ddep_1",ti="_institute_ads_container_1ddep_7",ni="_institute_ads_container_other_1ddep_15",oi="_institute_ads_container_border_1ddep_21",di="_admission_tab_tabs_1ddep_26",ai="_item_1ddep_30",mi="_itemIcon_1ddep_41",M={institute_admission_body:ei,institute_ads_container:ti,institute_ads_container_other:ni,institute_ads_container_border:oi,admission_tab_tabs:di,item:ai,itemIcon:mi},ri=q.lazy(()=>J(()=>import("./AdmissionModal-d0d36078.js"),["assets/AdmissionModal-d0d36078.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/AssignStaffModal-61be8e90.js","assets/search-api-15f7f9f9.js","assets/AssignStaffModal.module-a60b32e1.js","assets/AssignStaffModal-60e26c07.css","assets/admission-api-56b87fde.js","assets/Divider-6278282f.js","assets/AdmissionModal-13a0b05b.css"])),ci=({username:d,admissionId:e})=>{var p,_,l,u,f,x,j,g,a,R,y,S,E,h,v;const{t}=w(),m=A(),i=L(k=>k.admissionChange),[b,o]=q.useState(!1),{getAdmissionDetail:n,getAdmissionDetailRefetch:r}=U({data:{aid:`${i!=null&&i.aid?i==null?void 0:i.aid:e}`,sid:""},skip:i!=null&&i.aid?!(i!=null&&i.aid):!e});F.useEffect(()=>{(i!=null&&i.aid||e)&&r()},[i==null?void 0:i.aid,e,r]);const c=()=>{o(k=>!k)};return s.jsxs("div",{style:{position:"sticky",top:"77px",height:"fit-content",width:"30%"},children:[s.jsx(K,{whichType:"PREVIOUS_GO"}),s.jsx(W,{dynamicImage:(p=n==null?void 0:n.admission)!=null&&p.cover?`${X}/${(_=n==null?void 0:n.admission)==null?void 0:_.cover}`:"/images/profileAndCover/admission-cover.svg",edit:!0,onEditAction:c,redirectUrl:`/q/${m.username}/admission?a=site`,isSiteInfo:"ADMISSION",carryParentState:{aid:(l=n==null?void 0:n.admission)==null?void 0:l._id}}),s.jsx(O,{cardAsHead:!0,heading:` ${((f=(u=n==null?void 0:n.admission)==null?void 0:u.admissionAdminHead)==null?void 0:f.staffFirstName)||""} ${(j=(x=n==null?void 0:n.admission)==null?void 0:x.admissionAdminHead)!=null&&j.staffMiddleName?(a=(g=n==null?void 0:n.admission)==null?void 0:g.admissionAdminHead)==null?void 0:a.staffMiddleName:""} ${((y=(R=n==null?void 0:n.admission)==null?void 0:R.admissionAdminHead)==null?void 0:y.staffLastName)||""}`,description:t("admission_admin"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw"}}),s.jsx(O,{cardAsHead:!1,heading:t("ongoing_add"),description:t("admissions"),count:((S=n==null?void 0:n.admission)==null?void 0:S.newAppCount)||0}),s.jsx(O,{cardAsHead:!1,heading:t("application"),description:t("received_from_students"),count:((E=n==null?void 0:n.admission)==null?void 0:E.newAppCount)+((h=n==null?void 0:n.admission)==null?void 0:h.completedCount)||0,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}}),s.jsx(z,{children:s.jsx(ri,{admissionModal:b,hideModal:c,edit:!0,admissionManagerName:(v=n==null?void 0:n.admission)==null?void 0:v.admissionAdminHead,onParentRefetch:r})})]})},pi="_funds2_gflb5_1",_i="_fundscontent_gflb5_4",li="_sidebarbottomitem_gflb5_10",ui="_namee_gflb5_26",fi="_desig_gflb5_35",xi="_balanceItem_gflb5_44",ji="_fundbtn_gflb5_60",T={funds2:pi,fundscontent:_i,sidebarbottomitem:li,namee:ui,desig:fi,balanceItem:xi,fundbtn:ji};function V({bal:d,value:e}){return s.jsxs("div",{className:T.balanceItem,children:[s.jsxs("p",{children:[d,":"]}),s.jsxs("p",{children:["Rs. ",e]})]})}function gi({carryParentState:d}){var r,c,p,_,l,u,f,x,j,g;const{t:e}=w(),t=L(a=>a.admissionChange),m=L(a=>a.idChange.id),{oneInstituteDashboard:i,oneInstituteDashboardRefetch:b}=G({id:m,skip:!m}),{getAdmissionDetail:o,getAdmissionDetailRefetch:n}=U({data:{aid:`${t!=null&&t.aid?t==null?void 0:t.aid:(r=i==null?void 0:i.institute)==null?void 0:r.admissionDepart[0]}`,sid:""},skip:t!=null&&t.aid?!(t!=null&&t.aid):!((c=i==null?void 0:i.institute)!=null&&c.admissionDepart[0])});return F.useEffect(()=>{m&&b()},[m,b]),F.useEffect(()=>{var a;(t!=null&&t.aid||(a=i==null?void 0:i.institute)!=null&&a.admissionDepart[0])&&n()},[t==null?void 0:t.aid,(p=i==null?void 0:i.institute)==null?void 0:p.admissionDepart[0],n]),s.jsx("div",{className:T.funds2,children:s.jsxs("div",{className:T.fundscontent,children:[s.jsxs("div",{className:T.sidebarbottomitem,children:[s.jsx("img",{alt:"not found",src:"/images/finance/doller-icon.svg"}),s.jsxs("div",{children:[s.jsxs("p",{className:T.namee,children:["Rs."," ",(((_=o==null?void 0:o.admission)==null?void 0:_.onlineFee)+((l=o==null?void 0:o.admission)==null?void 0:l.offlineFee)).toFixed(2)]}),s.jsx("p",{className:T.desig,children:e("total_admission_fees")})]})]}),s.jsx(V,{bal:e("online_fees"),value:(f=(u=o==null?void 0:o.admission)==null?void 0:u.onlineFee)==null?void 0:f.toFixed(2)}),s.jsx(V,{bal:e("offline_fees"),value:(j=(x=o==null?void 0:o.admission)==null?void 0:x.offlineFee)==null?void 0:j.toFixed(2)}),s.jsx(C,{carryParentState:d,activeTab:"?a=pending",children:s.jsxs("div",{className:T.fundbtn,children:[e("remaining_fees")," : Rs."," ",(g=o==null?void 0:o.admission)==null?void 0:g.remainingFeeCount]})})]})})}const bi=({carryParentState:d})=>{const{t:e}=w(),[t]=B();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:N.finance_tab_tabs,children:[s.jsx(H,{tabLevel:e("menu"),customStyleContainer:{width:"50%",marginRight:"2px",borderTopLeftRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"menu",currentValue:t!=null&&t.get("a")?"other":"menu",carryParentState:d,activeUrl:"admission"}),s.jsx(H,{tabLevel:e("fund"),customStyleContainer:{width:"50%",borderTopRightRadius:"6px"},customStyleLevel:{borderTopLeftRadius:"6px"},tabValue:"fund",currentValue:(t==null?void 0:t.get("a"))==="fund"?"fund":"other",carryParentState:d,activeUrl:"admission?a=fund"})]}),t!=null&&t.get("a")?(t==null?void 0:t.get("a"))==="fund"?s.jsx(gi,{carryParentState:d}):null:s.jsxs("div",{className:N.item,children:[s.jsx(C,{carryParentState:d,activeTab:"?a=ongoing",children:s.jsxs("div",{className:N.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/admission/admission-ongoing-icon.svg",alt:"Class Catalog"}),s.jsx("p",{children:e("admission_ongoing")})]})}),s.jsx(C,{carryParentState:d,activeTab:"?a=pending",children:s.jsxs("div",{className:N.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/finance/finance-pending-icon.svg",alt:"inquery"}),s.jsx("p",{children:e("pending_fees")})]})}),s.jsx(C,{carryParentState:d,activeTab:"?a=completed",children:s.jsxs("div",{className:N.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/admission/admission-complete-icon.svg",alt:"completed"}),s.jsx("p",{children:e("admission_complete")})]})}),s.jsx(C,{carryParentState:d,activeTab:"?a=export",children:s.jsxs("div",{className:N.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/finance/finance-export-icon.svg",alt:"refund"}),s.jsx("p",{children:e("data_exporting")})]})}),s.jsx(C,{carryParentState:d,activeTab:"?a=moderator",children:s.jsxs("div",{className:N.itemIcon,children:[s.jsx("img",{src:"/images/member_tab/admission/admission-moderator-icon.svg",alt:"moderator icon"}),s.jsx("p",{children:e("admission_moderators")})]})})]})]})};function vi(){var r,c,p,_,l,u,f,x,j,g,a,R,y,S,E,h;const d=A(),[e]=B(),t=Q(),m=L(v=>v.idChange.id),{oneInstituteDashboard:i,oneInstituteDashboardRefetch:b}=G({id:m,skip:!m}),{getAdmissionDetail:o,getAdmissionDetailRefetch:n}=U({data:{aid:(r=i==null?void 0:i.institute)==null?void 0:r.admissionDepart[0],mod_id:""},skip:!((c=i==null?void 0:i.institute)!=null&&c.admissionDepart[0])});return F.useEffect(()=>{m&&b()},[m,b]),F.useEffect(()=>{var v;(v=i==null?void 0:i.institute)!=null&&v.admissionDepart[0]&&n()},[(p=i==null?void 0:i.institute)==null?void 0:p.admissionDepart[0],n]),s.jsxs("div",{className:M.institute_admission_body,children:[s.jsx(ci,{username:d.username,admissionId:(_=i==null?void 0:i.institute)==null?void 0:_.admissionDepart[0]}),s.jsxs("div",{className:!(e!=null&&e.get("a"))||(e==null?void 0:e.get("a"))==="fund"||(e==null?void 0:e.get("a"))==="export"||(e==null?void 0:e.get("a"))==="moderator"?M.institute_ads_container:M.institute_ads_container_other,children:[(!(e!=null&&e.get("a"))||(e==null?void 0:e.get("a"))==="fund")&&s.jsx(bi,{carryParentState:t.state}),s.jsxs(z,{children:[(e==null?void 0:e.get("a"))==="pending"&&s.jsx(Z,{carryParentState:t.state,admissionId:(l=i==null?void 0:i.institute)==null?void 0:l.admissionDepart[0],isEnable:((u=o==null?void 0:o.admission)==null?void 0:u.alarm_enable_status)==="Enable",onRefetch:n,instituteId:(x=(f=o==null?void 0:o.admission)==null?void 0:f.institute)==null?void 0:x._id,pageOpenAs:"INSTITUTE"}),(e==null?void 0:e.get("a"))==="ongoing"&&s.jsx(I,{admissionId:(j=i==null?void 0:i.institute)==null?void 0:j.admissionDepart[0],instituteId:(g=i==null?void 0:i.institute)==null?void 0:g._id,carryParentState:t.state,pageOpenAs:"INSTITUTE"}),(e==null?void 0:e.get("a"))==="completed"&&s.jsx(P,{admissionId:(a=i==null?void 0:i.institute)==null?void 0:a.admissionDepart[0],instituteId:(R=i==null?void 0:i.institute)==null?void 0:R._id,carryParentState:t.state,pageOpenAs:"INSTITUTE"}),(e==null?void 0:e.get("a"))==="export"&&s.jsx("div",{className:M.institute_ads_container_border,children:s.jsx(D,{admissionId:(y=i==null?void 0:i.institute)==null?void 0:y.admissionDepart[0],instituteId:(S=i==null?void 0:i.institute)==null?void 0:S._id,funds:i})}),(e==null?void 0:e.get("a"))==="moderator"&&s.jsx("div",{className:M.institute_ads_container_border,children:s.jsx(ii,{admissionId:(E=i==null?void 0:i.institute)==null?void 0:E.admissionDepart[0],instituteId:(h=i==null?void 0:i.institute)==null?void 0:h._id})})]})]})]})}function Es(){var e,t;const d=Q();return s.jsxs("div",{className:$.insChat,children:[s.jsx("div",{className:$.navbarr,children:s.jsx(Y,{status:"home"})}),((e=d.search)==null?void 0:e.substring(3))==="site"?s.jsx(si,{aid:(t=d.state)==null?void 0:t.aid,viewAs:"INSTITUTE"}):s.jsx("div",{className:$.admission_ins_container,children:s.jsx(vi,{})})]})}export{Es as default};
