import{u as ie,j as e,e as oe,L as Ae,t as Ie,r as t,S as Re,nk as Ne,k as _e,g as je,bS as ge,nw as Oe,A as Qe,w as He,v as Ue,R as Fe,x as Ee}from"./index-0ca76035.js";import{P as ye,s as ve,a as We}from"./Posts-5a667711.js";import{P as Te}from"./PollsModal-f50fcc28.js";import{L as we}from"./LoaderButton-56f541f9.js";import{A as Be,B as Ve,C as Je,D as Me,E as ze,F as Ge}from"./post-api-b04eb54b.js";import{G as xe}from"./constant_value-4cd2b3e0.js";import{S as Ke}from"./StudentInternalFeesCard-d583cef8.js";import Xe from"./TagPeople-496e5c18.js";import{b as Ye}from"./plateform-api-cc7e48ee.js";import Ze from"./RepostQuestionAnswer-4dd87298.js";import"./ProfileSidebarBottom.module-965e8506.js";import"./index-c08ef366.js";import"./NeedHelp-0b224024.js";import"./search-api-b192a53f.js";import"./Divider-2f807990.js";import"./FormControlLabel-b4cb2fc2.js";import"./SwitchBase-e3c2ff35.js";import"./Radio-4a0385d3.js";import"./EachQuestion-cfe1393e.js";import"./VideoPlayer-9f9fbe51.js";import"./index-1f591308.js";import"./index-387d7a00.js";import"./PostModal-e647b5d0.js";import"./CheckOutsideClick-e8a6bc7c.js";import"./Menu-f7e57469.js";import"./index-93406a40.js";import"./Checkbox-d3fc23de.js";import"./DialogTitle-11abc21d.js";import"./Switch-4bb87998.js";import"./Reactions-adfc4e73.js";import"./Save-f98edaa0.js";import"./StudentAllFeesData.module-f5c3243d.js";import"./StudentInternalFeeReceipt-723a549f.js";import"./admission-api-925391d9.js";import"./pdfInternalFeeReceipt-24199e26.js";import"./numberToWords.min-081ca735.js";import"./paytmUpiInitiative-43604424.js";import"./Comment-7c9a49ba.js";import"./CustomSuspenseGif-96fc12fa.js";import"./Avatar-e65c49d9.js";import"./Avatar.module-fb7ee634.js";const De="_navbar_1r7l0_1",qe={navbar:De},es="_mainbody_v6i88_1",ss="_main_v6i88_1",ts="_stats_v6i88_12",ns="_sidebar_v6i88_17",os="_sidebarright_v6i88_29",is="_test_v6i88_33",cs="_newPost_v6i88_37",rs="_newAnnouncement_v6i88_42",ee={mainbody:es,main:ss,stats:ts,sidebar:ns,sidebarright:os,test:is,newPost:cs,newAnnouncement:rs},as="_sidebar_1uanp_1",ls={sidebar:as},ds="_sidebartop_rm4tq_1",_s="_sidebartopp_rm4tq_2",ms="_sidebartoppHead_rm4tq_23",ps="_defaultcover_rm4tq_28",us="_imgcontainer_rm4tq_40",hs="_imgcontainerr_rm4tq_53",gs="_textContainer_rm4tq_67",xs="_btn_rm4tq_119",vs="_imgposition_rm4tq_131",js="_username_rm4tq_138",fs="_followers_rm4tq_155",bs="_defaultcoverr_rm4tq_202",Ns="_defaultcoverwaveleft_rm4tq_211",ws="_defaultcoverwaveright_rm4tq_220",A={sidebartop:ds,sidebartopp:_s,sidebartoppHead:ms,defaultcover:ps,imgcontainer:us,imgcontainerr:hs,textContainer:gs,btn:xs,imgposition:vs,username:js,followers:fs,defaultcoverr:bs,defaultcoverwaveleft:Ns,defaultcoverwaveright:ws};function ks({data:s}){var y,v,l;const{t:n}=ie();return e.jsx("div",{className:A.sidebartopp,children:e.jsxs("div",{className:A.sidebartoppHead,children:[(s==null?void 0:s.coverId)!=="2"?e.jsx("div",{className:A.defaultcover,children:e.jsx("img",{src:`${oe}/${s==null?void 0:s.profileCoverPhoto}`})}):e.jsxs("div",{className:A.defaultcoverr,children:[e.jsx("img",{className:A.defaultcoverwaveleft,src:"/images/profile/cover-wave-2.svg",alt:""}),e.jsx("img",{className:A.defaultcoverwaveright,src:"/images/profile/cover-wave.svg",alt:""})]}),(s==null?void 0:s.photoId)!=="1"?e.jsx("div",{className:`${A.imgcontainer} ${A.imgposition}`,children:e.jsx("img",{alt:"not found",src:`${oe}/${s==null?void 0:s.profilePhoto}`})}):e.jsx("div",{className:`${A.imgcontainerr} ${A.imgposition}`,children:e.jsx("img",{alt:"not found",src:"/images/member_tab/class/default_avatar.svg"})}),e.jsxs("div",{className:A.textContainer,children:[e.jsx(Ae,{to:`/q/${s==null?void 0:s.username}/profile`,children:e.jsx("h6",{children:s==null?void 0:s.userLegalName})}),e.jsxs("p",{className:A.username,children:["@",s==null?void 0:s.username]}),s!=null&&s.one_line_about?e.jsx("p",{className:A.followers,children:((y=s==null?void 0:s.one_line_about)==null?void 0:y.length)>20?`${(v=s==null?void 0:s.one_line_about)==null?void 0:v.match(/.{1,20}/g)[0]}`:((l=s==null?void 0:s.one_line_about)==null?void 0:l.length)<=20?s==null?void 0:s.one_line_about:""}):(s==null?void 0:s.followerCount)<2?e.jsxs("p",{className:A.followers,children:[s==null?void 0:s.followerCount," ",n("follower_")]}):e.jsxs("p",{className:A.followers,children:[s==null?void 0:s.followerCount," ",n("followers_")]})]})]})})}const Cs="_instruction_197nz_1",$s="_header_197nz_23",ys="_list_197nz_35",be={instruction:Cs,header:$s,list:ys};function Se(){const{t:s}=ie();return e.jsxs("div",{className:be.instruction,children:[e.jsx("div",{className:be.header,children:e.jsx("h6",{children:s("instructions")})}),e.jsx("div",{className:be.list,children:e.jsxs("ol",{children:[e.jsx("li",{children:e.jsx("p",{children:s("age_eligibility")})}),e.jsx("li",{children:e.jsx("p",{children:s("initially_users")})}),e.jsx("li",{children:e.jsx("p",{children:s("eligibility_criteria")})}),e.jsx("li",{children:e.jsx("p",{children:s("announcements_ins")})}),e.jsx("li",{children:e.jsx("p",{children:s("take_care")})})]})})]})}function qs({status:s,userData:n}){return e.jsxs("div",{className:ls.sidebar,children:[e.jsx(ks,{data:n&&n,status:s}),s==="post"&&e.jsx(ye,{userData:n}),s==="profile"&&e.jsx(ye,{userData:n}),s==="newPost"&&e.jsx(Se,{}),s==="newAnnouncement"&&e.jsx(Se,{})]})}const Ss="_newPost_at7kw_1",Ps="_header_at7kw_11",Is="_imgContainer_at7kw_31",Ts="_title_at7kw_42",Ls="_privacyIcon_at7kw_53",As="_select_at7kw_56",Rs="_arrow_at7kw_65",Os="_arrowIcon_at7kw_75",Qs="_hr_at7kw_104",Hs="_userName_at7kw_110",Us="_postTitle_at7kw_121",Fs="_QAns_at7kw_147",Es="_length_at7kw_151",Ws="_postDesc_at7kw_163",Bs="_pollTextarea_at7kw_168",Vs="_validBorder_at7kw_197",Js="_validcolor_at7kw_201",Ms="_pollInput_at7kw_205",zs="_duration_at7kw_237",Gs="_addOption_at7kw_265",Ks="_btn_at7kw_279",Xs="_upload_at7kw_297",Ys="_Container_at7kw_301",Zs="_selectedImg_at7kw_306",Ds="_addfiles_at7kw_319",et="_iconsContainer_at7kw_338",st="_icons_at7kw_338",tt="_tille_at7kw_365",nt="_description_at7kw_375",ot="_afterbtn_at7kw_386",it="_hashtag_at7kw_390",ct="_listContainer_at7kw_396",rt="_documentList_at7kw_402",at="_pdfList_at7kw_403",lt="_pdfPreview_at7kw_428",dt="_border2_at7kw_451",_t="_border1_at7kw_457",mt="_border3_at7kw_462",pt="_border4_at7kw_468",ut="_border5_at7kw_475",ht="_hashTag_at7kw_508",gt="_mainbody_at7kw_518",xt="_optionDiv_at7kw_526",p={newPost:Ss,header:Ps,imgContainer:Is,title:Ts,public:"_public_at7kw_47",privacyIcon:Ls,select:As,arrow:Rs,arrowIcon:Os,hr:Qs,userName:Hs,postTitle:Us,QAns:Fs,length:Es,postDesc:Ws,pollTextarea:Bs,validBorder:Vs,validcolor:Js,pollInput:Ms,duration:zs,addOption:Gs,btn:Ks,upload:Xs,Container:Ys,selectedImg:Zs,addfiles:Ds,iconsContainer:et,icons:st,tille:tt,description:nt,afterbtn:ot,hashtag:it,listContainer:ct,documentList:rt,pdfList:at,pdfPreview:lt,border2:dt,border1:_t,border3:mt,border4:pt,border5:ut,hashTag:ht,mainbody:gt,optionDiv:xt};const Le=({searchHashtag:s,onSelectHashtag:n,viewAs:y})=>{const[v,l]=Ie(),[u,N]=t.useState(1),[w,f]=t.useState(!0),[q,h]=t.useState(!0),[m,P]=t.useState([]),{getHashtagList:r,getHashtagListRefetch:b}=Be({data:{page:u,limit:10,search:s}});return t.useEffect(()=>{h(!0),b()},[s,u,b]),t.useEffect(()=>{l&&w&&N(o=>o+1)},[l,w]),t.useEffect(()=>{var o,c;r!=null&&r.hash?s?(P(r==null?void 0:r.hash),h(!1)):(P(d=>[...new Set([...d,...r==null?void 0:r.hash].map(JSON.stringify))].map(JSON.parse)),h(!1)):((o=r==null?void 0:r.hash)==null?void 0:o.length)===0&&h(!1),((c=r==null?void 0:r.hash)==null?void 0:c.length)===10?f(!0):f(!1)},[r==null?void 0:r.hash]),e.jsxs("div",{className:y==="POLL"?ve.add_hashtag_poll:ve.add_hashtag,children:[m==null?void 0:m.map((o,c)=>(m==null?void 0:m.length)===c+1?e.jsxs("div",{className:ve.add_hashtag_card,title:"Select hashtag",ref:v,onClick:()=>n(o),children:[e.jsx("img",{src:o!=null&&o.hashtag_profile_photo?`${oe}/${o==null?void 0:o.hashtag_profile_photo}`:"/images/user-icon.svg",loading:"lazy",alt:"bg-card icon"}),e.jsx("h6",{children:o==null?void 0:o.hashtag_name})]}):e.jsxs("div",{className:ve.add_hashtag_card,title:"Select hashtag",onClick:()=>n(o),children:[e.jsx("img",{src:o!=null&&o.hashtag_profile_photo?`${oe}/${o==null?void 0:o.hashtag_profile_photo}`:"/images/user-icon.svg",loading:"lazy",alt:"bg-card icon"}),e.jsx("h6",{children:o==null?void 0:o.hashtag_name})]})),q&&e.jsx(Re,{})]})};function vt({closeAnnouncement:s,clickNewPost:n,changePostType:y,clickNewAnnouncement:v,clickNewQuestion:l}){var O,B,le;const{t:u}=ie(),[N,w]=t.useState(!0),[f,q]=t.useState(!1),[h,m]=t.useState(!1),[P,r]=t.useState(!1),{data:b}=Ne(),o=_e(a=>a.idChange),c=je(),[d,te]=t.useState(""),[L,X]=t.useState(""),[S,M]=t.useState([{content:""},{content:""}]),[re,ae]=t.useState(!1),[me,F]=t.useState(""),[ce,pe]=t.useState([]),ne=30,E=140,[Y]=Ve(),W=document.querySelector("textarea");W==null||W.addEventListener("keyup",a=>{W.style.height="auto";let j=a.target.scrollHeight;W.style.height=`${j}px`});const k=(a,j)=>{const Q=[...S];Q[a][j.target.name]=j.target.value,M(Q)},T=()=>{M([...S,{content:""}])},z=a=>{if((S==null?void 0:S.length)>2){const j=[...S];j.splice(a,1),M([...j])}},V=a=>{var Q,Z;const j=(Q=a.target.value)==null?void 0:Q.length;if(a.target.value[j-1]==="#"){const G=d.length;(d[G-1]===" "||d==="")&&ae(!0)}if(re){const G=(Z=a.target.value)==null?void 0:Z.split("#"),de=G.length;F(G[de-1])}te(a.target.value),r(!1)},R=a=>{var de;pe(D=>D!=null&&D.length?[...D,a==null?void 0:a._id]:[a==null?void 0:a._id]);const j=d==null?void 0:d.split("#"),Q=j.length;j[Q-1]=(de=a.hashtag_name)==null?void 0:de.substring(1);const Z=[""];let G=0;for(let D of j){if(G===0)Z[0]=D;else{const fe=`${Z[0]}#${D}`;Z[0]=fe}++G}te(Z[0]),ae(!1)},J=()=>{d!==""?(m(!0),Y({post:{poll_question:d,trend_category:L,day:7,pollAnswer:S,hashtag:ce},id:o==null?void 0:o.id,viewAs:xe}).then(a=>{var j,Q;console.info("this is response of post",(j=a.data)==null?void 0:j.post),c(ge.addCreatedPost({post:(Q=a.data)==null?void 0:Q.post})),m(!1),s()}).catch({})):r(!P)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:p.newPost,children:[N&&e.jsx(Te,{open:N,setOpen:w,setTrendCategoryRef:X}),e.jsxs("div",{className:p.header,children:[e.jsx("h4",{children:u("create_poll")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:s,alt:""})]}),e.jsx("hr",{className:p.hr}),e.jsxs("div",{className:p.title,children:[e.jsx("div",{className:p.imgContainer,children:e.jsx("img",{src:((O=b==null?void 0:b.user)==null?void 0:O.photoId)!=="1"?`${oe}/${(B=b==null?void 0:b.user)==null?void 0:B.profilePhoto}`:"/images/ins_default_profile.svg",alt:"not found"})}),e.jsxs("div",{className:p.userName,children:[e.jsx("h6",{children:(le=b==null?void 0:b.user)==null?void 0:le.userLegalName}),e.jsxs("div",{className:p.public,children:[e.jsx("img",{className:p.privacyIcon,src:f?"/images/post-private-icon.svg":"/images/privacy-icon.svg",alt:""}),e.jsxs("div",{className:p.select,children:[e.jsx("span",{className:p.arrow}),e.jsx("img",{className:p.arrowIcon,src:"/images/dropdown-icon.svg",alt:""}),e.jsxs("select",{name:"cars",id:"cars",onChange:a=>a.target.value==="Anyone"?q(!1):q(!0),children:[e.jsx("option",{value:"Anyone",children:u("public")}),e.jsxs("option",{value:"Private",children:[u("private")," "]})]})]})]})]})]}),e.jsxs("div",{className:p.QAns,style:{position:"relative"},children:[e.jsx("h6",{children:u("question_")}),e.jsx("textarea",{className:d.length===E?`${p.pollTextarea} ${p.validBorder}`:p.pollTextarea,id:"pollTextArea",type:"text",required:!0,maxlength:"140",placeholder:u("ask_question"),value:d,onChange:V}),re&&e.jsx(Le,{searchHashtag:me,onSelectHashtag:R,viewAs:"POLL"}),e.jsx("div",{className:p.length,children:e.jsxs("p",{className:d.length===E?p.validcolor:"",children:[d.length,"/",E]})}),S.map((a,j)=>e.jsxs("div",{className:p.options,children:[e.jsxs("div",{className:p.optionDiv,children:[e.jsxs("h6",{children:[" ",u("option")," ",j+1]}),j>1?e.jsxs("p",{onClick:()=>z(j),children:[" ",u("remove")," "]}):""]}),e.jsx("input",{name:"content",placeholder:u("add_option_"),className:a.length===ne?`${p.pollInput} ${p.validBorder}`:p.pollInput,type:"text",maxlength:"30",required:!0,value:a.content,onChange:Q=>{k(j,Q)}}),e.jsx("div",{className:p.length,children:e.jsxs("p",{className:a.content.length===ne?p.validcolor:"",children:[a.content.length>0?a.content.length:0,"/",ne]})})]},j)),S.length<=4&&e.jsx("div",{className:p.addOption,onClick:T,children:u("add_option")})]}),P&&e.jsx("div",{style:{color:"red"},children:u("please_add")}),e.jsxs("button",{className:p.btn,disabled:h,onClick:J,children:[e.jsx("p",{children:u("post")}),h&&e.jsx("div",{children:e.jsx(we,{})})]}),e.jsx("hr",{className:p.hr}),e.jsxs("div",{className:p.iconsContainer,children:[e.jsxs("div",{className:p.icons,children:[e.jsx("div",{children:e.jsx("img",{src:"/images/edit-icon.svg",onClick:()=>{n(),y("text")},alt:""})}),e.jsx("div",{children:e.jsx("img",{src:"/images/img-post-icon.svg",onClick:()=>{n(),y("image")},alt:""})}),e.jsxs("div",{children:[e.jsx("img",{src:"/images/shorts-icon.svg",alt:""}),e.jsx("div",{className:p.border5})]}),e.jsx("div",{children:e.jsx("img",{onClick:l,src:"/images/document-icon.svg",alt:""})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"document",style:{cursor:"pointer"},children:e.jsx("p",{className:p.addfiles,children:u("Add Files")})}),e.jsx("input",{className:p.upload,multiple:!0,id:"document",name:"file",type:"file",accept:"image/gif, image/jpeg, image/png,  application/pdf, application/msword"})]})]})]})})}const jt="_stati_783b4_2",ft="_student_internal_card_783b4_6",Pe={stati:jt,student_internal_card:ft},bt="_CreatePostSection_6dftn_1",Nt="_posthead_6dftn_8",wt="_posttsearch_6dftn_34",kt="_imgcontainer_6dftn_40",Ct="_searchContainer_6dftn_51",$t="_searchinput_6dftn_74",yt="_posttype_6dftn_87",qt="_posticon_6dftn_97",St="_select_6dftn_118",Pt="_arrow_6dftn_122",It="_arrowIcon_6dftn_132",Tt="_CreatePostSectionNotApprooved_6dftn_192",Lt="_quotes_container_6dftn_251",se={CreatePostSection:bt,posthead:Nt,posttsearch:wt,imgcontainer:kt,searchContainer:Ct,searchinput:$t,posttype:yt,posticon:qt,select:St,arrow:Pt,arrowIcon:It,CreatePostSectionNotApprooved:Tt,quotes_container:Lt};function At({profileData:s,onValueHandler:n,onRefetchUser:y}){var w,f,q,h,m,P,r,b;const{t:v}=ie(),l=_e(o=>o.authChange.id),[u]=Oe();t.useEffect(()=>{var o,c;l&&!((c=(o=s==null?void 0:s.daily_quote_query)==null?void 0:o.quote)!=null&&c.quote_text)&&u({id:l}).then(()=>{y()}).catch({})},[l,(f=(w=s==null?void 0:s.daily_quote_query)==null?void 0:w.quote)==null?void 0:f.quote_text]);const N=o=>{(s==null?void 0:s.status)==="Not Approved"||n(o)};return e.jsx(e.Fragment,{children:(s==null?void 0:s.status)==="Not Approved"?e.jsxs("div",{className:se.CreatePostSectionNotApprooved,children:[e.jsx("h6",{children:v("welcome_qviple")}),e.jsx("p",{children:v("manage_your_profile")})]}):e.jsxs("div",{className:se.CreatePostSection,children:[e.jsxs("div",{className:se.posttsearch,children:[e.jsx("div",{className:se.imgcontainer,children:e.jsx("img",{alt:"",src:(s==null?void 0:s.photoId)!=="1"?`${oe}/${s==null?void 0:s.profilePhoto}`:"/images/ins_default_profile.svg"})}),e.jsxs("div",{className:se.quotes_container,children:[e.jsxs("h5",{children:["Hello, ",(s==null?void 0:s.userLegalName)??""]}),e.jsxs("h6",{children:['"',((h=(q=s==null?void 0:s.daily_quote_query)==null?void 0:q.quote)==null?void 0:h.quote_text)??"",'"',(P=(m=s==null?void 0:s.daily_quote_query)==null?void 0:m.quote)!=null&&P.quote_author?` - ${((b=(r=s==null?void 0:s.daily_quote_query)==null?void 0:r.quote)==null?void 0:b.quote_author)??""}`:""]})]})]}),e.jsxs("div",{className:se.posttype,children:[e.jsxs("div",{className:se.posticon,onClick:()=>N("text"),children:[e.jsx("img",{alt:"not found",src:"/images/edit-icon.svg"}),e.jsx("p",{children:v("text_")})]}),e.jsxs("div",{className:se.posticon,onClick:()=>N("poll"),children:[e.jsx("img",{alt:"not found",src:"/images/shorts-icon.svg"}),e.jsx("p",{children:v("poll")})]}),e.jsxs("div",{className:se.posticon,onClick:()=>N("question"),children:[e.jsx("img",{alt:"not found",src:"/images/document-icon.svg"}),e.jsx("p",{children:v("add_question")})]})]})]})})}function Rt({authorData:s,onValueHandler:n,onRefetchUser:y}){return e.jsxs("div",{className:Pe.stati,children:[e.jsx(At,{profileData:s&&s,onValueHandler:n,onRefetchUser:y}),(s==null?void 0:s.username)==="demo_user"&&e.jsx("div",{className:Pe.student_internal_card,children:e.jsx(Ke,{is_paid:"Not Paid",amount:10,is_static:!0})}),e.jsx(We,{profilePost:!1,profileData:s&&s})]})}const Ot="_newPost_x6mbm_1",Qt="_header_x6mbm_11",Ht="_imgContainer_x6mbm_31",Ut="_title_x6mbm_42",Ft="_privacyIcon_x6mbm_53",Et="_select_x6mbm_56",Wt="_arrow_x6mbm_65",Bt="_arrowIcon_x6mbm_75",Vt="_hr_x6mbm_104",Jt="_userName_x6mbm_110",Mt="_postTitle_x6mbm_121",zt="_postDesc_x6mbm_147",Gt="_postTextarea_x6mbm_152",Kt="_hashTag_x6mbm_176",Xt="_btn_x6mbm_193",Yt="_upload_x6mbm_212",Zt="_Container_x6mbm_216",Dt="_selectedImg_x6mbm_221",en="_border2_x6mbm_241",sn="_border1_x6mbm_247",tn="_border3_x6mbm_252",nn="_border4_x6mbm_258",on="_iconsContainer_x6mbm_285",cn="_icons_x6mbm_285",rn="_tille_x6mbm_311",an="_description_x6mbm_321",ln="_afterbtn_x6mbm_332",dn="_hashtag_x6mbm_336",_n="_mainbody_x6mbm_377",mn="_documentList_x6mbm_386",pn="_content_x6mbm_423",un="_tagList_x6mbm_427",_={newPost:Ot,header:Qt,imgContainer:Ht,title:Ut,public:"_public_x6mbm_47",privacyIcon:Ft,select:Et,arrow:Wt,arrowIcon:Bt,hr:Vt,userName:Jt,postTitle:Mt,postDesc:zt,postTextarea:Gt,hashTag:Kt,btn:Xt,upload:Yt,Container:Zt,selectedImg:Dt,border2:en,border1:sn,border3:tn,border4:nn,iconsContainer:on,icons:cn,tille:rn,description:an,afterbtn:ln,hashtag:dn,mainbody:_n,documentList:mn,content:pn,tagList:un};function hn({closeNewPost:s,clickNewAnnouncement:n,clickNewPoll:y,clickNewQuestion:v}){var ke,Ce,$e;const{t:l}=ie(),[u,N]=t.useState([]),[w,f]=t.useState(""),[q,h]=t.useState(""),[m,P]=t.useState(""),[r,b]=t.useState(1),[o,c]=t.useState(""),d=t.useRef(""),te=t.useRef(""),L=t.useRef(""),X=t.useRef(""),S=_e(i=>i.idChange),M=je(),[re]=Je(),[ae]=Me(),[me]=ze(),{data:F,refetch:ce}=Ne(),[pe,ne]=t.useState(!1),[E,Y]=t.useState(!1),[W,k]=t.useState(!1),[T,z]=t.useState(""),[V,R]=t.useState(""),[J,O]=t.useState([]),[B,le]=t.useState(""),[a,j]=t.useState(""),Q=i=>{var C,x;const g=(C=i.target.value)==null?void 0:C.length;if(i.target.value[g-1]==="@"){const $=T.length;(T[$-1]===" "||T==="")&&(Y(!0),k("title"))}if(E){const $=(x=i.target.value)==null?void 0:x.split("@"),H=$.length;R($[H-1])}z(i.target.value)},Z=i=>{var C,x;const g=(C=i.target.value)==null?void 0:C.length;if(i.target.value[g-1]==="@"){const $=B.length;(B[$-1]===" "||B==="")&&(Y(!0),k("description"))}if(E){const $=(x=i.target.value)==null?void 0:x.split("@"),H=$.length;R($[H-1])}le(i.target.value)},G=i=>{var C,x;const g=(C=i.target.value)==null?void 0:C.length;if(i.target.value[g-1]==="@"){const $=a.length;(a[$-1]===" "||a==="")&&(Y(!0),k("caption"))}if(E){const $=(x=i.target.value)==null?void 0:x.split("@"),H=$.length;R($[H-1])}j(i.target.value)},de=i=>{if(O([...J,i]),W==="title"){const g=T==null?void 0:T.split("@"),C=g.length;g[C-1]=i.tagUserName;const x=[""];let $=0;for(let H of g){if($===0)x[0]=H;else{const he=`${x[0]}@${H}`;x[0]=he}++$}z(x[0])}else if(W==="description"){const g=B==null?void 0:B.split("@"),C=g.length;g[C-1]=i.tagUserName;const x=[""];let $=0;for(let H of g){if($===0)x[0]=H;else{const he=`${x[0]}@${H}`;x[0]=he}++$}le(x[0])}else{const g=a==null?void 0:a.split("@"),C=g.length;g[C-1]=i.tagUserName;const x=[""];let $=0;for(let H of g){if($===0)x[0]=H;else{const he=`${x[0]}@${H}`;x[0]=he}++$}j(x[0])}},D=i=>{if(i.target.files&&i.target.files.length>0){c(i.target.files),f(i.target.files[0]);const g=Array.from(i.target.files).map(C=>URL.createObjectURL(C));N(C=>C.concat(g))}},fe=()=>{if(P(!0),!w&&!q)d.current.value!==""&&te.current.value!==""?re({id:S==null?void 0:S.id,viewAs:xe,post:{postTitle:d.current.value,postDescription:te.current.value,postStatus:L.current.value,people:J}}).then(i=>{var g;M(ge.addCreatedPost({post:(g=i.data)==null?void 0:g.post})),s(),P(!1),ce()}).catch({}):P(!1);else if(q){const i=new FormData,g=J;i.append("postTitle",X.current.value),i.append("postStatus",L.current.value),i.append("people",JSON.stringify(g)),i.append("file",q),me({id:S==null?void 0:S.id,viewAs:xe,post:i}).then(C=>{var x;M(ge.addCreatedPost({post:(x=C.data)==null?void 0:x.post})),s(),P(!1),ce()}).catch({})}else{const i=new FormData,g=J;i.append("postTitle",X.current.value),i.append("postStatus",L.current.value),i.append("people",JSON.stringify(g));for(let C of o)i.append("file",C);ae({id:S==null?void 0:S.id,viewAs:xe,post:i}).then(C=>{var x;M(ge.addCreatedPost({post:(x=C.data)==null?void 0:x.post})),s(),P(!1),ce()}).catch({})}},ue=document.querySelector("textarea");return ue==null||ue.addEventListener("keyup",i=>{ue.style.height="auto";let g=i.target.scrollHeight;ue.style.height=`${g}px`}),e.jsxs("div",{className:_.newPost,children:[e.jsxs("div",{className:_.header,children:[e.jsx("h4",{children:l("create-post")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:s,alt:""})]}),e.jsx("hr",{className:_.hr}),e.jsxs("div",{className:_.content,children:[e.jsxs("div",{className:_.title,children:[e.jsx("div",{className:_.imgContainer,children:e.jsx("img",{src:((ke=F==null?void 0:F.user)==null?void 0:ke.photoId)!=="1"?`${oe}/${(Ce=F==null?void 0:F.user)==null?void 0:Ce.profilePhoto}`:"/images/member_tab/class/default_avatar.svg",alt:""})}),e.jsxs("div",{className:_.userName,children:[e.jsx("h6",{children:($e=F==null?void 0:F.user)==null?void 0:$e.userLegalName}),e.jsxs("div",{className:_.public,children:[e.jsx("img",{className:_.privacyIcon,src:pe?"/images/post-private-icon.svg":"/images/privacy-icon.svg",alt:""}),e.jsxs("div",{className:_.select,children:[e.jsx("span",{className:_.arrow}),e.jsx("img",{className:_.arrowIcon,src:"/images/dropdown-icon.svg",alt:""}),e.jsxs("select",{name:"cars",id:"cars",ref:L,onChange:i=>i.target.value==="Anyone"?ne(!1):ne(!0),children:[e.jsx("option",{value:"Anyone",children:l("public-label")}),e.jsxs("option",{value:"Private",children:[l("private-label")," "]})]})]})]})]})]}),E&&e.jsx("div",{className:_.tagList,style:W==="description"?{marginTop:"7vw"}:{marginTop:"0"},children:e.jsx(Xe,{open:E,setOpen:Y,postTagSearch:V,setPostTagSearch:R,taggedPeoplehandler:de})}),u.length===0&&!q&&e.jsx("div",{className:_.postTitle,children:e.jsx("input",{className:_.input,type:"text",placeholder:l("title_post"),ref:d,onChange:Q,value:T})}),u.length===0&&!q&&e.jsx("div",{className:_.postDesc,children:e.jsx("textarea",{className:_.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:te,placeholder:l("desc_post"),onChange:Z,value:B})}),u.length>0&&e.jsxs("div",{className:_.Container,children:[e.jsx("p",{className:_.description,children:e.jsx("textarea",{className:_.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:X,placeholder:l("caption_post"),onChange:G,value:a})}),e.jsx("div",{className:_.selectedImg,children:u.map((i,g)=>e.jsx("img",{alt:"list",src:i},g))})]}),q&&e.jsxs("div",{className:_.Container,children:[e.jsx("p",{className:_.description,children:e.jsx("textarea",{className:_.postTextarea,rows:"3",type:"text",name:"CreateInsPost",ref:X,placeholder:l("caption_post"),onChange:G,value:a})}),e.jsx("div",{className:_.selectedImg,children:e.jsx("video",{controls:"controls",src:URL.createObjectURL(q),style:{width:"300px",height:"200px"}})})]}),e.jsxs("button",{className:w?`${_.btn} ${_.afterbtn}`:_.btn,onClick:fe,disabled:m,children:[e.jsx("p",{children:l("post")}),m&&e.jsx("div",{children:e.jsx(we,{})})]}),e.jsx("hr",{className:_.hr}),e.jsxs("div",{className:_.iconsContainer,children:[e.jsxs("div",{className:_.icons,children:[e.jsxs("div",{children:[e.jsx("img",{onClick:()=>{b(1),h(""),j(""),O([]),N([]),c([]),f("")},src:"/images/edit-icon.svg",style:{marginTop:"-10px"},alt:""}),r===1&&e.jsx("div",{className:_.border1})]}),e.jsxs("label",{htmlFor:"img",style:{cursor:"pointer"},children:[e.jsx("img",{style:{marginTop:"-10px"},src:"/images/img-post-icon.svg",onClick:()=>{b(2),O([]),h(""),j(""),z(""),le("")},alt:""}),r===2&&e.jsx("div",{className:_.border2})]}),e.jsx("input",{className:_.upload,id:"img",name:"file",multiple:!0,onChange:D,type:"file",accept:"image/gif, image/jpeg, image/png"}),e.jsx("img",{onClick:y,src:"/images/shorts-icon.svg",alt:""}),e.jsx("img",{onClick:v,src:"/images/document-icon.svg",alt:""})]}),e.jsx("p",{children:l("add_files")})]})]})]})}const gn="_newPost_uh2kx_1",xn="_header_uh2kx_11",vn="_content_uh2kx_16",jn="_tagList_uh2kx_20",fn="_eachposthead_uh2kx_35",bn="_imgcontainer_uh2kx_45",Nn="_iimg_uh2kx_62",wn="_eachpostUserName_uh2kx_68",kn="_eachpostUserTime_uh2kx_83",Cn="_imgContainer_uh2kx_111",$n="_title_uh2kx_122",yn="_privacyIcon_uh2kx_133",qn="_select_uh2kx_136",Sn="_arrow_uh2kx_145",Pn="_arrowIcon_uh2kx_155",In="_hr_uh2kx_184",Tn="_userName_uh2kx_190",Ln="_postTitle_uh2kx_201",An="_postDesc_uh2kx_227",Rn="_postTextarea_uh2kx_237",On="_hashTag_uh2kx_261",Qn="_btn_uh2kx_278",Hn="_upload_uh2kx_296",Un="_Container_uh2kx_300",Fn="_selectedImg_uh2kx_305",En="_addfiles_uh2kx_318",Wn="_iconsContainer_uh2kx_337",Bn="_icons_uh2kx_337",Vn="_tille_uh2kx_364",Jn="_description_uh2kx_374",Mn="_afterbtn_uh2kx_385",zn="_hashtag_uh2kx_389",Gn="_listContainer_uh2kx_395",Kn="_documentList_uh2kx_402",Xn="_pdfList_uh2kx_403",Yn="_pdfPreview_uh2kx_428",Zn="_border2_uh2kx_451",Dn="_border1_uh2kx_457",eo="_border3_uh2kx_462",so="_border6_uh2kx_468",to="_mainbody_uh2kx_511",I={newPost:gn,header:xn,content:vn,tagList:jn,eachposthead:fn,imgcontainer:bn,iimg:Nn,eachpostUserName:wn,eachpostUserTime:kn,imgContainer:Cn,title:$n,public:"_public_uh2kx_127",privacyIcon:yn,select:qn,arrow:Sn,arrowIcon:Pn,hr:In,userName:Tn,postTitle:Ln,postDesc:An,postTextarea:Rn,hashTag:On,btn:Qn,upload:Hn,Container:Un,selectedImg:Fn,addfiles:En,iconsContainer:Wn,icons:Bn,tille:Vn,description:Jn,afterbtn:Mn,hashtag:zn,listContainer:Gn,documentList:Kn,pdfList:Xn,pdfPreview:Yn,border2:Zn,border1:Dn,border3:eo,border6:so,mainbody:to};function no({closeAnnouncement:s,clickNewPost:n,changePostType:y,clickNewPoll:v}){var E,Y,W;const{t:l}=ie(),[u,N]=t.useState(!1),[w,f]=t.useState(!1),[q,h]=t.useState(!1),{data:m}=Ne(),[P]=Ge(),r=_e(k=>k.idChange),b=je(),[o,c]=t.useState(!0),[d,te]=t.useState(""),[L,X]=t.useState(""),[S,M]=t.useState(!1),[re,ae]=t.useState(""),[me,F]=t.useState([]),ce=k=>{var z,V;const T=(z=k.target.value)==null?void 0:z.length;if(k.target.value[T-1]==="#"){const R=L.length;(L[R-1]===" "||L==="")&&M(!0)}if(S){const R=(V=k.target.value)==null?void 0:V.split("#"),J=R.length;ae(R[J-1])}X(k.target.value),h(!1)},pe=k=>{var J;F(O=>O!=null&&O.length?[...O,k==null?void 0:k._id]:[k==null?void 0:k._id]);const T=L==null?void 0:L.split("#"),z=T.length;T[z-1]=(J=k.hashtag_name)==null?void 0:J.substring(1);const V=[""];let R=0;for(let O of T){if(R===0)V[0]=O;else{const B=`${V[0]}#${O}`;V[0]=B}++R}X(V[0]),M(!1)},ne=()=>{L!==""?(f(!0),P({post:{postQuestion:L,trend_category:d,file:[],hashtag:me},id:r==null?void 0:r.id,viewAs:xe}).then(k=>{var T;console.log(k),b(ge.addCreatedPost({post:(T=k.data)==null?void 0:T.post})),f(!1),s()}).catch({})):h(!0)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:I.newPost,children:[o&&e.jsx(Te,{open:o,setOpen:c,setTrendCategoryRef:te}),e.jsxs("div",{className:I.header,children:[e.jsx("h4",{children:l("create_post")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:s,alt:""})]}),e.jsx("hr",{className:I.hr}),e.jsxs("div",{className:I.content,children:[e.jsxs("div",{className:I.title,children:[e.jsx("div",{className:I.imgContainer,children:e.jsx("img",{src:((E=m==null?void 0:m.user)==null?void 0:E.photoId)!=="1"?`${oe}/${(Y=m==null?void 0:m.user)==null?void 0:Y.profilePhoto}`:"/images/ins_default_profile.svg",alt:"profile"})}),e.jsxs("div",{className:I.userName,children:[e.jsx("h6",{children:(W=m==null?void 0:m.user)==null?void 0:W.userLegalName}),e.jsxs("div",{className:I.public,children:[e.jsx("img",{className:I.privacyIcon,src:u?"/images/post-private-icon.svg":"/images/privacy-icon.svg",alt:"status dropdown"}),e.jsxs("div",{className:I.select,children:[e.jsx("span",{className:I.arrow}),e.jsx("img",{className:I.arrowIcon,src:"/images/dropdown-icon.svg",alt:""}),e.jsxs("select",{name:"cars",id:"cars",onChange:k=>k.target.value==="Anyone"?N(!1):N(!0),children:[e.jsx("option",{value:"Anyone",children:l("public")}),e.jsxs("option",{value:"Private",children:[l("private")," "]})]})]})]})]})]}),e.jsxs("div",{className:I.postTitle,style:{position:"relative"},children:[e.jsx("input",{className:I.input,type:"text",value:L,placeholder:l("ask_question"),onChange:ce}),S&&e.jsx(Le,{searchHashtag:re,onSelectHashtag:pe})]}),q&&e.jsx("div",{style:{color:"red"},children:l("please_type_question")}),e.jsxs("button",{className:I.btn,disabled:w,onClick:ne,children:[e.jsx("p",{children:l("post")}),w&&e.jsx("div",{children:e.jsx(we,{})})]}),e.jsx("hr",{className:I.hr}),e.jsx("div",{className:I.iconsContainer,children:e.jsxs("div",{className:I.icons,children:[e.jsx("div",{children:e.jsx("img",{src:"/images/edit-icon.svg",onClick:()=>{n(),y("text")},alt:""})}),e.jsx("div",{children:e.jsx("img",{src:"/images/img-post-icon.svg",onClick:()=>{n(),y("image")},alt:""})}),e.jsx("div",{children:e.jsx("img",{src:"/images/shorts-icon.svg",alt:"",onClick:()=>{v()}})}),e.jsxs("div",{children:[e.jsx("img",{src:"/images/document-icon.svg",alt:""}),e.jsx("div",{className:I.border6})]})]})})]})]})})}const oo="_item_1gv2a_1",io="_head_1gv2a_15",co="_imgContainer_1gv2a_20",ro="_text_1gv2a_35",ao="_content_1gv2a_63",lo="_bookmark_1gv2a_78",_o="_sidebarrightt_1gv2a_86",mo="_trendingquestions_1gv2a_91",po="_trendingquestionsheader_1gv2a_99",uo="_trendingquestionspara_1gv2a_110",ho="_trendingquestionslist_1gv2a_121",go="_trendingquestionp_1gv2a_125",xo="_trendingquestionh_1gv2a_135",vo="_trendingquestionsfooter_1gv2a_153",jo="_seemore_1gv2a_158",U={item:oo,head:io,imgContainer:co,text:ro,content:ao,bookmark:lo,sidebarrightt:_o,trendingquestions:mo,trendingquestionsheader:po,trendingquestionspara:uo,trendingquestionslist:ho,trendingquestionp:go,trendingquestionh:xo,trendingquestionsfooter:vo,seemore:jo},fo="_qvipleLinkscontainer_13234_1",bo="_qvipleLinks_13234_1",No="_linkitem_13234_18",wo="_qvipleLinkabout_13234_19",ko="_qviple_logo_13234_41",K={qvipleLinkscontainer:fo,qvipleLinks:bo,linkitem:No,qvipleLinkabout:wo,qviple_logo:ko};function Co(){const{t:s}=ie();return e.jsx("div",{className:K.qvipleLinkscontainer,children:e.jsxs("div",{className:K.qvipleLinks,children:[e.jsx("div",{className:K.qvipleLinkabout,children:e.jsx("a",{className:K.linkitem,href:"/",target:"_blank",rel:"noreferrer",children:s("about")})}),e.jsx("a",{className:K.linkitem,href:"/q/terms/condition",target:"_blank",rel:"noreferrer",children:s("terms_use")}),e.jsx("a",{className:K.linkitem,href:"/q/privacy/policy",target:"_blank",rel:"noreferrer",children:s("privacy_policy")}),e.jsx("a",{className:K.linkitem,href:"https://support.qviple.com/",target:"_blank",rel:"noreferrer",children:s("ins_guide_manual")}),e.jsx("a",{className:K.linkitem,href:"https://support.qviple.com/",target:"_blank",rel:"noreferrer",children:s("user_guide_manual")}),e.jsx("a",{className:K.linkitem,href:"https://play.google.com/store/apps/details?id=com.mithakalminds.qviple",target:"_blank",rel:"noreferrer",children:s("get_app")}),e.jsxs("p",{className:K.qviple_logo,children:[e.jsx("img",{src:"/images/qviple-logo.svg",alt:"company logo"}),"Mithkal Minds"," ",e.jsx("img",{src:"/images/dash-copy.svg",alt:"copy right symbol"})," 2022"]})]})})}function $o(){var b,o;t.useRef();const[s,n]=Ie(),y=je(),v=_e(c=>c.idChange),[l,u]=t.useState(!1),[N,w]=t.useState(!1),[f,q]=t.useState([]),{trendingPlateformQuestion:h,trendingPlateformQuestionRefetch:m}=Ye({page:1,limit:10});t.useEffect(()=>{n&&w(!0)},[n]),t.useEffect(()=>{m()},[m]),t.useEffect(()=>{if(h!=null&&h.filteredQuestion){const c=[...f,...h==null?void 0:h.filteredQuestion],d=[...new Set(c.map(JSON.stringify))].map(JSON.parse);q(d)}},[h==null?void 0:h.filteredQuestion]);const P=c=>{var d;y(Qe.openQuestionWithAnswer({repost:"repost",post:c,type:"question",otherOption:{profilePost:!1,selectOptions:(v==null?void 0:v.id)!==c?["Report"]:["Edit","Delete"],directAnswer:!1,question:"right question"},search:((d=v==null?void 0:v.searchProfile)==null?void 0:d.id)!==""?"search":"not search"}))},{t:r}=ie();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:U.sidebarrightt,children:[e.jsxs("div",{className:U.trendingquestions,children:[e.jsx("h6",{className:U.trendingquestionsheader,children:r("trending_questions")}),e.jsx("p",{className:U.trendingquestionspara,children:r("see_if")}),!l&&e.jsxs("div",{children:[e.jsx("ul",{className:U.trendingquestionslist,children:(b=f==null?void 0:f.slice(0,5))==null?void 0:b.map((c,d)=>e.jsxs("li",{onClick:()=>P(c._id),children:[e.jsx("h6",{className:U.trendingquestionh,children:c==null?void 0:c.postQuestion}),e.jsxs("p",{className:U.trendingquestionp,children:[c==null?void 0:c.needCount," ",r("Needs")," | ",c==null?void 0:c.answerCount," ",r("Answers")]})]},d))}),e.jsx("div",{className:U.trendingquestionsfooter,children:e.jsxs("div",{className:U.seemore,onClick:()=>u(!0),children:[e.jsx("p",{children:r("seen_less")}),e.jsx("img",{src:"/images/dashboard/arrow-below.svg",alt:""})]})})]}),l&&e.jsxs("div",{children:[e.jsx("ul",{className:U.trendingquestionslist,children:(o=f==null?void 0:f.slice(0,10))==null?void 0:o.map((c,d)=>e.jsxs("li",{children:[e.jsx("h6",{className:U.trendingquestionh,children:c==null?void 0:c.postQuestion}),e.jsxs("p",{className:U.trendingquestionp,children:[c==null?void 0:c.needCount," ",r("Needs")," | ",c==null?void 0:c.answerCount," ",r("Answers")]})]}))}),e.jsx("div",{className:U.trendingquestionsfooter,children:e.jsxs("div",{className:U.seemore,onClick:()=>u(!1),children:[e.jsx("p",{children:r("seen_less_")}),e.jsx("img",{src:"/images/dashboard/arrow-below.svg",alt:""})]})})]})]}),e.jsx(Co,{})]})})}function yo({profileData:s,onRefetchUser:n}){const[y,v]=t.useState(1),[l,u]=t.useState(!1),[N,w]=t.useState("post"),[f,q]=t.useState(""),h=_e(d=>d.idChange.repostQuestion.repostStatus),m=()=>{w("text")},P=()=>{w("post")},r=()=>{w("poll")},b=()=>{w("question")},o=()=>{w("post")},c=d=>{w(d)};return e.jsxs("div",{className:l?`${ee.mainbody} ${ee.main}`:ee.mainbody,children:[h==="post"&&e.jsx("div",{className:ee.sidebar,children:e.jsx(qs,{status:N,userData:s})}),h==="post"&&N==="post"&&e.jsx("div",{className:ee.test,children:e.jsx(Rt,{clickNewPost:m,closeNewPost:o,authorData:s,onValueHandler:c,onRefetchUser:n})}),h!=="post"&&e.jsx(Ze,{}),N==="post"&&e.jsx("div",{className:ee.sidebarright,children:e.jsx($o,{})}),N==="text"&&e.jsx("div",{className:ee.newPost,children:e.jsx(hn,{closeNewPost:o,clickNewPoll:r,clickNewQuestion:b,iconIndex:y,setIconIndex:v,postType:f})}),N==="poll"&&e.jsx("div",{className:ee.newAnnouncement,children:e.jsx(vt,{closeAnnouncement:P,clickNewPost:m,clickNewQuestion:b,setIconIndex:v,changePostType:d=>q(d)})}),N==="question"&&e.jsx("div",{className:ee.newAnnouncement,children:e.jsx(no,{clickNewPost:m,closeAnnouncement:P,clickNewPoll:r,setIconIndex:v,changePostType:d=>q(d)})})]})}function hi(){var l,u,N,w,f;const s=localStorage.getItem("user"),{data:n,refetch:y}=He(s),{showScrollbar:v}=Ue();return Fe.useEffect(()=>{v()},[]),e.jsxs("div",{className:qe.insDashboard,children:[e.jsx("div",{className:qe.navbar,children:e.jsx(Ee,{status:"dashboard",profileId:n?(l=n==null?void 0:n.user)==null?void 0:l._id:"",username:(u=n==null?void 0:n.user)==null?void 0:u.username,name:(N=n==null?void 0:n.user)==null?void 0:N.userLegalName,photoId:(w=n==null?void 0:n.user)==null?void 0:w.photoId,profilePhoto:(f=n==null?void 0:n.user)==null?void 0:f.profilePhoto,profileData:n==null?void 0:n.user})}),e.jsx(yo,{profileData:n==null?void 0:n.user,onRefetchUser:y})]})}export{hi as default};
