import{R as c,_ as b,u as M,n as H,k as O,Z as P,r as N,j as o,G as $,o as B,e as I,p as t}from"./index-731451a5.js";import{C as S}from"./CustomSuspense-e90dc607.js";const L="_oneRow_1482c_4",k="_oneRowLeft_1482c_14",V="_oneRowText_1482c_19",G="_oneRowRight_1482c_30",U="_borderBottom1_1482c_37",Z={oneRow:L,oneRowLeft:k,oneRowText:V,oneRowRight:G,borderBottom1:U},z=c.lazy(()=>b(()=>import("./CreateDepartment-0e32dda8.js"),["assets/CreateDepartment-0e32dda8.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/LoaderButton-71df50a7.js","assets/LoaderButton-43b48c5c.css","assets/AssignStaffModal-61be8e90.js","assets/search-api-15f7f9f9.js","assets/AssignStaffModal.module-a60b32e1.js","assets/AssignStaffModal-60e26c07.css","assets/StringLength-222a9fd1.js","assets/StringLength.module-75a6e080.js","assets/StringLength-7b1d3ded.css","assets/CreateDepartment-6993e3e8.css","assets/AddDisplay-fea182d7.css"])),F=c.lazy(()=>b(()=>import("./EditDepartment-c5b60212.js"),["assets/EditDepartment-c5b60212.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/Overlay-07ce6f88.js","assets/Overlay.module-9133d1bb.js","assets/Overlay-6f7772cd.css","assets/SearchModalWrapper-6e85c9f3.js","assets/SearchModalBackdrop-5b309d60.js","assets/SearchHeader.module-b69c8942.js","assets/SearchHeader-d07f850c.css","assets/Departments.module-820df3a1.js","assets/Departments-1f3d97a2.css"])),J=({department:s,onReftech:_,did:j})=>{var R,h,g,w,E;const{t:i}=M(),D=H(),n=O(e=>e.idChange),[v,C]=c.useState(!1),[l,f]=c.useState(!1),[T,x]=c.useState(!1),[a,y]=c.useState(""),{departmentEditDetail:u,departmentEditDetailRefetch:d}=P({did:a,skip:!a});N.useEffect(()=>{a&&d()},[a,d]);const A=e=>{y(e),x(!0),f(!0)},r=()=>{C(e=>!e)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{position:"sticky",top:"77px",height:"fit-content"},children:[o.jsx($,{whichType:"PREVIOUS_GO"}),o.jsx(B,{dynamicImage:s!=null&&s.cover?`${I}/${s==null?void 0:s.cover}`:"/images/profileAndCover/department-cover.svg",edit:!0,onEditAction:r,isView:"DEPARTMENT",redirectUrl:`/q/${D.username}/viewdept?a=site`,isSiteInfo:"DEPARTMENT",carryParentState:{did:j}}),o.jsx(t,{cardAsHead:!0,heading:`${(s==null?void 0:s.dTitle)||i("designation")}: ${((R=s==null?void 0:s.dHead)==null?void 0:R.staffFirstName)||""} ${(h=s==null?void 0:s.dHead)!=null&&h.staffMiddleName?(g=s==null?void 0:s.dHead)==null?void 0:g.staffMiddleName:""} ${((w=s==null?void 0:s.dHead)==null?void 0:w.staffLastName)||""}`,description:((E=s==null?void 0:s.departmentSelectBatch)==null?void 0:E.batchName)||i("not_active_batch"),customStyleCard:{borderRadius:"18px 18px 0px 0px",border:"none",marginTop:"-1.49vw",maxWidth:"264px"}}),o.jsx(t,{cardAsHead:!1,heading:i("classrooms"),description:i("class_in_batch"),count:(s==null?void 0:s.classCount)||0}),o.jsx(t,{cardAsHead:!1,heading:i("total_staffs"),description:i("active_staff"),count:(s==null?void 0:s.staffCount)||0}),o.jsx(t,{cardAsHead:!1,heading:i("total_students"),description:i("student_studying"),count:(s==null?void 0:s.studentCount)||0,customStyleCard:{borderRadius:"0 0 12px 12px",borderBottom:"0.4px solid rgba(0, 0, 0, 0.15)"}})]}),v&&o.jsx(S,{children:o.jsx(F,{onOpenMenu:r,onId:s==null?void 0:s._id,onReftech:_,editOneDepartment:A})}),l&&o.jsx(S,{children:o.jsx(z,{departmentModal:l,hideModal:f,id:n==null?void 0:n.id,edit:T,setEdit:x,editDepartment:u==null?void 0:u.department,onReftech:_})})]})};export{J as D,Z as s};
