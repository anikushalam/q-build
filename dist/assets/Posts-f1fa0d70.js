import{u as l,k as Y,g as P,r as g,t as ee,bS as te,j as u}from"./index-731451a5.js";import{u as se,x as ae,y as ne,z as ue}from"./post-api-f57ebb8f.js";import{i as A}from"./constant_value-4cd2b3e0.js";import{Q as T}from"./QvipleLoaderGif-827e9b4f.js";import{P as j}from"./PostTypeConfiguration-5adf64d4.js";function pe({profilePost:s,profileSavedPost:n}){var F,H,J,K,M,N,O,U,W,X;l();const t=Y(a=>a.idChange),e=Y(a=>a.postChange),b=P(),[x,Z]=g.useState(!0),[d,f]=ee(),[w,y]=g.useState(!0),[E,S]=g.useState(!0),[k,v]=g.useState(!0),[R,C]=g.useState(!0),[L,_]=g.useState(1),[Q,$]=g.useState(1),[V,D]=g.useState(1),[z,o]=g.useState(1),{allDashPost:i,allDashPostRefetch:G}=se({data:{id:t==null?void 0:t.id,page:L,limit:10,viewAs:A},skip:t!=null&&t.id?s:!0}),{allProfilePost:m,allProfilePostRefetch:I}=ae({data:{id:(F=t==null?void 0:t.searchProfile)!=null&&F.id?(H=t==null?void 0:t.searchProfile)==null?void 0:H.id:t==null?void 0:t.id,page:Q,limit:10,viewAs:A},skip:!s}),{allProfileSavedPost:p,allProfileSavedPostRefetch:q}=ne({data:{id:t==null?void 0:t.id,page:V,limit:10,viewAs:A},skip:n!=="save"&&!s}),{allProfileTagPost:r,allProfileTagPostRefetch:B}=ue({data:{id:t==null?void 0:t.id,page:z,limit:10,viewAs:A},skip:n!=="tag"&&!s});return g.useEffect(()=>{f&&w&&!s?_(a=>a+1):f&&E&&s?$(a=>a+1):f&&k&&n==="save"?D(a=>a+1):f&&R&&n==="tag"&&o(a=>a+1)},[f,w,E,k,R,s,n]),g.useEffect(()=>{s?n==="my"?I():n==="save"?q():n==="tag"&&B():G()},[L,Q,V,z,s,n,G,I,q,B]),g.useEffect(()=>{b(te.addPost({post:s?n==="my"?m==null?void 0:m.post:n==="save"?p==null?void 0:p.post:r==null?void 0:r.post:i==null?void 0:i.post,profilePost:s?n==="my"?"profile":n==="save"?"saved":"taged":"dash",id:t==null?void 0:t.id})),(i==null?void 0:i.post.length)===10?y(!0):y(!1),(m==null?void 0:m.post.length)===10?S(!0):S(!1),(p==null?void 0:p.post.length)===10?v(!0):v(!1),(r==null?void 0:r.post.length)===10?C(!0):C(!1)},[i==null?void 0:i.post,m==null?void 0:m.post,p==null?void 0:p.post,r==null?void 0:r.post,b,s,n,t==null?void 0:t.id]),g.useEffect(()=>{setTimeout(()=>{Z(!1)},5e3)},[]),u.jsxs("div",{children:[!((J=e==null?void 0:e.dashboardPosts)!=null&&J.length)&&!s&&x?u.jsx(T,{}):!s&&((K=e==null?void 0:e.dashboardPosts)==null?void 0:K.map((a,c)=>{var h;return((h=e==null?void 0:e.dashboardPosts)==null?void 0:h.length)===c+1?u.jsx("div",{ref:d,children:u.jsx(j,{post:a,profilePost:s,allPosts:e==null?void 0:e.dashboardPosts})},c):u.jsx(j,{post:a,profilePost:s,allPosts:e==null?void 0:e.dashboardPosts},c)})),s&&n==="my"&&(!((M=e==null?void 0:e.profilePosts)!=null&&M.length)&&x?u.jsx(T,{}):(N=e==null?void 0:e.profilePosts)==null?void 0:N.map((a,c)=>{var h;return((h=e==null?void 0:e.profilePosts)==null?void 0:h.length)===c+1?u.jsx("div",{ref:d,children:u.jsx(j,{post:a,profilePost:s,allPosts:[]})},c):u.jsx(j,{post:a,profilePost:s,allPosts:[]},c)})),s&&n==="save"&&(!((O=e==null?void 0:e.profileSavedPosts)!=null&&O.length)&&x?u.jsx(T,{}):(U=e==null?void 0:e.profileSavedPosts)==null?void 0:U.map((a,c)=>{var h;return((h=e==null?void 0:e.profileSavedPosts)==null?void 0:h.length)===c+1?u.jsx("div",{ref:d,children:u.jsx(j,{post:a,profilePost:s,allPosts:[]})},c):u.jsx(j,{post:a,profilePost:s,allPosts:[]},c)})),s&&n==="tag"&&(!((W=e==null?void 0:e.profileTagedPosts)!=null&&W.length)&&x?u.jsx(T,{}):(X=e==null?void 0:e.profileTagedPosts)==null?void 0:X.map((a,c)=>{var h;return((h=e==null?void 0:e.profileTagedPosts)==null?void 0:h.length)===c+1?u.jsx("div",{ref:d,children:u.jsx(j,{post:a,profilePost:s,allPosts:[]})},c):u.jsx(j,{post:a,profilePost:s,allPosts:[]},c)}))]})}export{pe as default};
