import{R as d,_ as q,k as h,u as x,r as N,j as t,e as y,a1 as S}from"./index-0ca76035.js";import{C as j}from"./institute-staff-student-api-7114d611.js";import{C as v}from"./CustomSuspense-25f8db15.js";const b="_requestParent_4eib7_1",C="_StaffRequestContainer_4eib7_9",P="_requestParentTop_4eib7_15",R="_requestAction_4eib7_18",g="_requestStudent_4eib7_30",D="_requestStudentActive_4eib7_41",A="_requestStudentChild_4eib7_45",I="_applyDate_4eib7_56",T="_applyNameDate_4eib7_68",$="_applyName_4eib7_68",E="_borderBottom_4eib7_85",s={requestParent:b,StaffRequestContainer:C,requestParentTop:P,requestAction:R,requestStudent:g,requestStudentActive:D,requestStudentChild:A,applyDate:I,applyNameDate:T,applyName:$,borderBottom:E},F=d.lazy(()=>q(()=>import("./StaffRequestProfile-787548e4.js"),["assets/StaffRequestProfile-787548e4.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/institute-staff-student-api-7114d611.js","assets/BorderBottom-1dc6f53e.js","assets/BorderBottom-eabbc1eb.css","assets/StaffHeader-88ef886a.js","assets/SendFilterStudentMessage-e0daf41f.js","assets/PopupWrapper-2578092d.js","assets/Overlay-c8100e0a.js","assets/Overlay.module-9133d1bb.js","assets/Overlay-6f7772cd.css","assets/SearchModalWrapper-0fa3f9a3.js","assets/SearchModalBackdrop-c4f123e6.js","assets/SearchHeader.module-b69c8942.js","assets/SearchHeader-d07f850c.css","assets/FeesStructure.module-7a88fbbc.js","assets/FeesStructure-45be5563.css","assets/JoinFormTextArea-394bf055.js","assets/JoinForm.module-212f9bb3.js","assets/JoinForm-e988a09c.css","assets/Switch-4bb87998.js","assets/SwitchBase-e3c2ff35.js","assets/StaffProfileAbout-597e447a.js","assets/StaffProfileEachInfo-93b9140d.js","assets/ViewFileDialog-f7d48575.js","assets/StaffProfilePhoto-5f3299fe.js","assets/student-api-05be0424.js","assets/StudentSubjectList-d5c4bef6.js","assets/StudentSubjectList-e5915585.css","assets/BonafideReason-170cf76d.js","assets/JoinFormInput-82706177.js","assets/pdf-convertor-function-4fe9e778.js","assets/department-api-e4b13f05.js","assets/main.certificate.pdf.worker-fdc20546.js","assets/numberToWords.min-081ca735.js","assets/index-a0d1f014.js","assets/index-387d7a00.js","assets/admission-api-925391d9.js","assets/export-data-api-674b559b.js","assets/StaffRequestProfile-3f85656f.css"])),B=({fetchArray:f})=>{var l,c,u;const a=h(e=>e.idChange),{t:m}=x(),{pendingStaffList:r,pendingStaffListRefetch:n}=j({id:a==null?void 0:a.id,skip:!(a!=null&&a.id)});d.useEffect(()=>{a!=null&&a.id&&n()},[a==null?void 0:a.id,n]);const[i,o]=N.useState(""),p=e=>{o(e)},_=()=>{o("")};return t.jsxs(t.Fragment,{children:[!i&&t.jsx("div",{className:`${s.StaffRequestContainer} row`,children:t.jsxs("div",{className:s.requestParent,children:[t.jsx("div",{className:s.requestParentTop,children:t.jsxs("div",{className:s.requestAction,children:[t.jsxs("span",{className:"mx-1",style:{display:"flex"},children:[t.jsx("img",{src:"/images/action-pending.svg",title:"Request",className:"mx-1",alt:"Request"}),m("action_pending")]}),t.jsx("span",{className:"mx-1",children:(l=r==null?void 0:r.staffIns)!=null&&l.staff?r.staffIns.staff.length:0})]})}),(u=(c=r==null?void 0:r.staffIns)==null?void 0:c.staff)==null?void 0:u.map(e=>t.jsx(t.Fragment,{children:t.jsx("div",{className:s.requestStudent,onClick:()=>p(e==null?void 0:e._id),children:t.jsxs("div",{className:s.requestStudentChild,children:[t.jsx("img",{src:(e==null?void 0:e.photoId)!=="1"?`${y}/${e==null?void 0:e.staffProfilePhoto}`:"/images/ins_default_profile.svg",loading:"lazy",alt:"Avatar"}),t.jsxs("div",{className:s.applyNameDate,children:[t.jsx("p",{className:s.applyName,children:`${e.staffFirstName} ${e.staffMiddleName?e.staffMiddleName:""} ${e.staffLastName}`}),t.jsx("p",{className:s.applyDate,children:S(e.staffApplyDate).format("DD-MM-yyyy")})]})]})},e._id)}))]})}),i&&t.jsx(v,{children:t.jsx(F,{requestId:i,requestFetch:n,queryFetch:f,onClose:_})})]})};export{B as default};
