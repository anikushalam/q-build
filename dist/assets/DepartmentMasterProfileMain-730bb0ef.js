import{u as N,r as _,j as e,n$ as w,o0 as A,Q as E,o1 as B,o2 as $,R as y,_ as P,ad as I,ni as V}from"./index-731451a5.js";import{C as J}from"./CustomSuspense-e90dc607.js";import{O as H}from"./OneRow-3ae29a7f.js";import{S as z}from"./Department-8db2547f.js";import{S as T}from"./SearchModalBackdrop-5b309d60.js";import{O as k}from"./Overlay-07ce6f88.js";import{P as v}from"./PopupWrapper-ffbaef7a.js";import{J as D}from"./JoinFormInput-8e74a0e0.js";import{B as L}from"./BorderBottom-47800983.js";import{s as g}from"./HostelFeeStructure.module-5a40a31e.js";import{S as F}from"./StringLength-222a9fd1.js";import{s as b}from"./EditConfirm.module-344fbdb9.js";import{C as q}from"./CustomSelectDepartment-a5dd9a35.js";import"./DepartmentSidebar-368c8f3b.js";import"./FormToggle-bf5ca79b.js";import"./UniversalForm.module-19614663.js";import"./Switch-81e70f2f.js";import"./SwitchBase-2ba5f868.js";import"./FormCheckbox-3a5ba026.js";import"./FormControlLabel-1c6af80c.js";import"./Checkbox-1498c124.js";import"./DeaprtmentSiteInfo-f6687810.js";import"./JoinFormTextArea-7f6dded0.js";import"./JoinForm.module-212f9bb3.js";import"./JoinFormFileEdit-e41481d6.js";import"./ViewFileDialog-0c131c06.js";import"./department-api-a4f0b4b7.js";import"./SearchHeader.module-b69c8942.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalWrapper-6e85c9f3.js";import"./StringLength.module-75a6e080.js";const Q="_subHeadContainer_1y4gi_1",Y="_subHead_1y4gi_1",W="_subHeadLeft_1y4gi_14",G="_subHeadMiddle_1y4gi_25",K="_subHeadActive_1y4gi_36",U="_subHeadRight_1y4gi_39",X="_borderBottom_1y4gi_51",Z="_main_1y4gi_57",h={subHeadContainer:Q,subHead:Y,subHeadLeft:W,subHeadMiddle:G,subHeadActive:K,subHeadRight:U,borderBottom:X,main:Z},M=({onClose:i,onEdit:r,classMenu:s})=>{const{t:c}=N(),[m,f]=_.useState(""),[o,n]=_.useState({className:(s==null?void 0:s.className)??""});_.useEffect(()=>{s!=null&&s.className&&n(d=>({...d,className:s==null?void 0:s.className}))},[s==null?void 0:s.className]);const x=d=>{const t={};for(let a in d)d[a]||(t[a]=`${a} is required!`);return t},j=()=>{const d=x(o);let t=!1;for(let a in d)if(a){t=!0;break}t?f(d):r(o)};return e.jsx(v,{onClose:i,children:e.jsxs("div",{className:g.add_category_modal,style:{width:"30rem"},children:[e.jsxs("div",{className:g.add_category_modal_title,children:[e.jsx("h6",{children:c("update_class_master")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:i,alt:""})]}),e.jsx(L,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),e.jsx(D,{labelText:c("create_master_header_2"),placeholder:c("e.g. 6th Class/ FYJC"),name:"className",value:o==null?void 0:o.className,type:"text",onChange:d=>{var t;((t=d.target.value)==null?void 0:t.length)<=40&&n(a=>({...a,className:d.target.value}))},errorShow:m}),e.jsx(F,{maxLength:40,valueLength:o.className}),e.jsx("button",{className:g.set_fees_structure_btn,onClick:j,style:{justifyContent:"center"},children:c("update")})]})})},ee=({onClose:i,classMenu:r,onRefetch:s})=>{const[c,m]=_.useState(!1),[f,o]=_.useState(!1),[n]=w(),[x]=A(),j=()=>{m(t=>!t),n({cmid:r==null?void 0:r._id}).then(()=>{s(),m(t=>!t),i(!1)}).catch({})},d=t=>{m(a=>!a),o(!1),x({cmid:r==null?void 0:r._id,cls_master:t}).then(()=>{s(),m(a=>!a),i()}).catch({})};return e.jsx(e.Fragment,{children:f?e.jsx(M,{classMenu:r,onEdit:d,onClose:()=>o(!1)}):e.jsxs(e.Fragment,{children:[e.jsx(T,{onClose:i}),e.jsxs(k,{customStyle:{zIndex:"1200"},children:[e.jsxs("div",{className:b.edit_modal_container,style:{width:"200px"},children:[e.jsx("h6",{className:b.edit,onClick:()=>o(t=>!t),children:"Edit"}),e.jsx("h6",{className:b.remove,onClick:j,children:"Delete"})]}),c&&e.jsx(E,{})]})]})})},te=({onClose:i,onEdit:r,subjectMenu:s})=>{const{t:c}=N(),[m,f]=_.useState(""),[o,n]=_.useState({subjectName:(s==null?void 0:s.subjectName)??"",subjectType:(s==null?void 0:s.subjectType)??""});_.useEffect(()=>{s&&n(t=>({...t,subjectName:s==null?void 0:s.subjectName,subjectType:(s==null?void 0:s.subjectType)??""}))},[s]);const x=t=>{const a={};for(let p in t)t[p]||(a[p]=`${p} is required!`);return a},j=()=>{const t=x(o);let a=!1;for(let p in t)if(p){a=!0;break}a?f(t):r(o)},d=t=>{n(a=>({...a,subjectType:t}))};return console.info("shfghsd",s),e.jsx(v,{onClose:i,children:e.jsxs("div",{className:g.add_category_modal,style:{width:"30rem"},children:[e.jsxs("div",{className:g.add_category_modal_title,children:[e.jsx("h6",{children:c("update_subject_master")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:i,alt:""})]}),e.jsx(L,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),e.jsx(q,{selectLabel:"Subject Type",selectedValue:"Please Select Subject Type",options:["Mandatory","Optional"],onClick:d,viewAs:"NORMAL_FILTER",defalutValue:o.subjectType,errorShow:m.subjectType}),e.jsx(D,{labelText:c("create_master_header_2"),placeholder:c("e.g. 6th Class/ FYJC"),name:"className",value:o==null?void 0:o.subjectName,type:"text",onChange:t=>{var a;((a=t.target.value)==null?void 0:a.length)<=40&&n(p=>({...p,subjectName:t.target.value}))},errorShow:m}),e.jsx(F,{maxLength:40,valueLength:o.subjectName}),e.jsx("button",{className:g.set_fees_structure_btn,onClick:j,style:{justifyContent:"center"},children:c("update")})]})})},se=({onClose:i,subjectMenu:r,onRefetch:s})=>{const[c,m]=_.useState(!1),[f,o]=_.useState(!1),[n]=B(),[x]=$(),j=()=>{m(t=>!t),n({smid:r==null?void 0:r._id}).then(()=>{s(),m(t=>!t),i(!1)}).catch({})},d=t=>{m(a=>!a),o(!1),x({smid:r==null?void 0:r._id,sub_master:t}).then(()=>{s(),m(a=>!a),i()}).catch({})};return e.jsx(e.Fragment,{children:f?e.jsx(te,{subjectMenu:r,onEdit:d,onClose:()=>o(!1)}):e.jsxs(e.Fragment,{children:[e.jsx(T,{onClose:i}),e.jsxs(k,{customStyle:{zIndex:"1200"},children:[e.jsxs("div",{className:b.edit_modal_container,style:{width:"200px"},children:[e.jsx("h6",{className:b.edit,onClick:()=>o(t=>!t),children:"Edit"}),e.jsx("h6",{className:b.remove,onClick:j,children:"Delete"})]}),c&&e.jsx(E,{})]})]})})},ae=y.lazy(()=>P(()=>import("./CreatMaster-3c18d727.js"),["assets/CreatMaster-3c18d727.js","assets/index-731451a5.js","assets/index-4d24e8f6.css","assets/LoaderButton-71df50a7.js","assets/LoaderButton-43b48c5c.css","assets/StringLength-222a9fd1.js","assets/StringLength.module-75a6e080.js","assets/StringLength-7b1d3ded.css","assets/JoinFormInput-8e74a0e0.js","assets/JoinForm.module-212f9bb3.js","assets/JoinForm-e988a09c.css","assets/CreatMaster-779a87ee.css","assets/AddDisplay-fea182d7.css"])),we=({did:i,id:r})=>{var u,C;const{t:s}=N(),[c,m]=y.useState(!0),[f,o]=y.useState(!1),[n,x]=y.useState(""),[j,d]=y.useState(""),{allClassMaster:t,allClassMasterRefetch:a}=I({data:{id:r,did:i},skip:!r}),{allSubjectMaster:p,allSubjectMasterRefetch:S}=V({data:{id:r,did:i},skip:!r});_.useEffect(()=>{r&&i&&(a(),S())},[i,r,a,S]);const O=l=>{x(l)},R=l=>{d(l)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:h.subHeadContainer,children:[e.jsxs("div",{className:h.subHead,children:[e.jsx("p",{className:c?`${h.subHeadLeft} ${h.subHeadActive}`:h.subHeadLeft,onClick:()=>m(!0),children:s("standerd_grade")}),e.jsx("p",{className:c?h.subHeadMiddle:`${h.subHeadMiddle} ${h.subHeadActive}`,onClick:()=>m(!1),children:s("subject_")}),e.jsx("p",{className:h.subHeadRight,onClick:()=>o(!0),children:s("add_masters")})]}),e.jsx("p",{className:h.borderBottom})]}),e.jsx(z,{}),e.jsx("div",{className:h.main,children:c?(u=t==null?void 0:t.classMaster)==null?void 0:u.map(l=>e.jsx(H,{name:(l==null?void 0:l.className)||"Class 8th",image:"/images/master-24-grey-icon.svg",status:"classMaster",onMenu:O,data:l},l._id)):(C=p==null?void 0:p.subjectMaster)==null?void 0:C.map(l=>e.jsx(H,{name:(l==null?void 0:l.subjectName)||"Math",subjectType:l==null?void 0:l.subjectType,image:"/images/book-24-icon.svg",status:"subjectMaster",onMenu:R,data:l},l._id))}),e.jsx(J,{children:f&&e.jsx(ae,{departmentModal:f,hideModal:o,id:r,did:i})}),n&&e.jsx(ee,{onClose:()=>x(""),onRefetch:a,classMenu:n}),j&&e.jsx(se,{onClose:()=>d(""),onRefetch:S,subjectMenu:j})]})};export{we as default};
