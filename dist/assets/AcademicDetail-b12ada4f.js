import{u as U,r as i,j as e,Q as J,a1 as $,t as V,v as P,S as O,d as te,c as se,W as ce}from"./index-731451a5.js";import{u as M,a as _e,b as le,c as ie,d as ne,e as de,f as re,g as oe,h as me}from"./subject-api-215ccf27.js";import{B as z}from"./BorderBottom-47800983.js";import{E as ee}from"./EmptyInfo-7233226d.js";import"./Overlay.module-9133d1bb.js";import"./SearchHeader.module-b69c8942.js";import"./JoinForm.module-212f9bb3.js";import"./DatePicker-305f3dc6.js";import{S as ue}from"./SearchModalBackdrop-5b309d60.js";import{O as he}from"./Overlay-07ce6f88.js";import{P as W}from"./PopupWrapper-ffbaef7a.js";import{J as k}from"./JoinFormInput-8e74a0e0.js";import{J as ae}from"./JoinFormCalender-5158d888.js";import{s as Y}from"./EditConfirm.module-344fbdb9.js";import{s as A}from"./HostelFeeStructure.module-5a40a31e.js";const xe="_edit_academic_container_q254e_1",je="_academic_title_q254e_6",ye="_academic_title_text_q254e_12",fe="_topic_card_container_q254e_29",ge="_topic_card_container_hover_q254e_37",Te="_topic_card_container_hover_active_q254e_38",ve="_topic_card_each_q254e_43",be="_academic_header_container_q254e_66",Ne="_academic_header_each_q254e_75",Ee="_academic_card_container_q254e_97",Ce="_academic_card_top_q254e_107",pe="_academic_card_top_text_q254e_123",Se="_subject_edit_academic_container_q254e_138",we="_subject_academic_title_q254e_149",De="_record_lecture_q254e_168",qe="_add_record_lecture_q254e_174",ke="_aditional_info_container_q254e_185",Ue="_aditional_info_images_q254e_204",Re="_aditional_info_dates_q254e_221",Fe="_add_academic_record_q254e_248",Ie="_add_academic_record_title_q254e_260",Be="_add_academic_record_text_q254e_266",$e="_record_tab_container_q254e_292",Ae="_record_tab_q254e_292",Je="_record_tab_active_q254e_315",ze="_student_view_academic_btn_q254e_331",He="_readmission_take_btn_q254e_357",Le="_academic_edit_container_q254e_372",Ke="_academic_edit_btn_q254e_380",Qe="_subject_academic_link_q254e_402",We="_topic_ongoing_q254e_411",Ye="_topic_ongoing_active_q254e_430",Ge="_topic_completed_q254e_434",Xe="_topic_completed_active_q254e_455",Ze="_extra_lecture_container_q254e_460",Ve="_extra_lecture_container_active_q254e_475",l={edit_academic_container:xe,academic_title:je,academic_title_text:ye,topic_card_container:fe,topic_card_container_hover:ge,topic_card_container_hover_active:Te,topic_card_each:ve,academic_header_container:be,academic_header_each:Ne,academic_card_container:Ee,academic_card_top:Ce,academic_card_top_text:pe,subject_edit_academic_container:Se,subject_academic_title:we,record_lecture:De,add_record_lecture:qe,aditional_info_container:ke,aditional_info_images:Ue,aditional_info_dates:Re,add_academic_record:Fe,add_academic_record_title:Ie,add_academic_record_text:Be,record_tab_container:$e,record_tab:Ae,record_tab_active:Je,student_view_academic_btn:ze,readmission_take_btn:He,academic_edit_container:Le,academic_edit_btn:Ke,subject_academic_link:Qe,topic_ongoing:We,topic_ongoing_active:Ye,topic_completed:Ge,topic_completed_active:Xe,extra_lecture_container:Ze,extra_lecture_container_active:Ve},G=(a,t)=>!a||!t?0:Math.ceil(t*100/a),Pe=({sid:a})=>{var n,y,h,g,c,o,v,d,_,r,T,b,u,N,C,p,m,w,S,j,f,D,q,R,F;const{t}=U(),{getOneSubjectProfile:s,getOneSubjectProfileRefetch:x}=M({sid:a,skip:!a});return i.useEffect(()=>{a&&x()},[a,x]),e.jsxs("div",{className:l.academic_header_container,children:[e.jsxs("div",{className:l.academic_header_each,children:[e.jsxs("h5",{children:[t("academic_lectures")," ",((y=(n=s==null?void 0:s.one_subject)==null?void 0:n.lecture_analytic)==null?void 0:y.lecture_count)??0," ",` (${((g=(h=s==null?void 0:s.one_subject)==null?void 0:h.lecture_analytic)==null?void 0:g.lecture_time)??0}${t("mins_each")})`]}),e.jsxs("h6",{children:[G((o=(c=s==null?void 0:s.one_subject)==null?void 0:c.lecture_analytic)==null?void 0:o.lecture_count,(d=(v=s==null?void 0:s.one_subject)==null?void 0:v.lecture_analytic)==null?void 0:d.lecture_complete),"%"]})]}),e.jsxs("div",{className:l.academic_header_each,children:[e.jsxs("h5",{children:[t("academic_practical")," ",((r=(_=s==null?void 0:s.one_subject)==null?void 0:_.practical_analytic)==null?void 0:r.practical_count)??0," ",` (${((b=(T=s==null?void 0:s.one_subject)==null?void 0:T.practical_analytic)==null?void 0:b.practical_time)??0}${t("mins_each")})`]}),e.jsxs("h6",{children:[G((N=(u=s==null?void 0:s.one_subject)==null?void 0:u.practical_analytic)==null?void 0:N.practical_count,(p=(C=s==null?void 0:s.one_subject)==null?void 0:C.practical_analytic)==null?void 0:p.practical_complete),"%"]})]}),e.jsxs("div",{className:l.academic_header_each,children:[e.jsxs("h5",{children:[t("academic_tutorials")," ",((w=(m=s==null?void 0:s.one_subject)==null?void 0:m.tutorial_analytic)==null?void 0:w.tutorial_count)??0," ",` (${((j=(S=s==null?void 0:s.one_subject)==null?void 0:S.tutorial_analytic)==null?void 0:j.tutorial_time)??0}${t("mins_each")})`]}),e.jsxs("h6",{children:[G((D=(f=s==null?void 0:s.one_subject)==null?void 0:f.tutorial_analytic)==null?void 0:D.tutorial_count,(R=(q=s==null?void 0:s.one_subject)==null?void 0:q.tutorial_analytic)==null?void 0:R.tutorial_complete),"%"]})]}),e.jsxs("div",{className:l.academic_header_each,children:[e.jsxs("h5",{children:[t("academic_topics")," ",(s==null?void 0:s.total_topic)??0]}),e.jsxs("h6",{children:[((F=s==null?void 0:s.academic_performance)==null?void 0:F.academic_percentage)??0,"%"]})]})]})},Oe=({onClose:a,topicMenu:t,onRefetch:s,onCloseParent:x})=>{const{t:n}=U(),[y,h]=i.useState(!1),[g,c]=i.useState(!1),[o,v]=i.useState((t==null?void 0:t.topic_name)??""),[d,_]=i.useState((t==null?void 0:t.topic_last_date)??""),[r]=_e();i.useEffect(()=>{t!=null&&t.topic_name&&(v((t==null?void 0:t.topic_name)??""),_((t==null?void 0:t.topic_last_date)??""))},[t]);const T=()=>{o?(h(!0),r({ctid:t==null?void 0:t._id,topicUpdate:{chapter:t==null?void 0:t.chapter,created_at:t==null?void 0:t.created_at,subject:t==null?void 0:t.subject,topic_completion_status:t==null?void 0:t.topic_completion_status,topic_current_status:t==null?void 0:t.topic_current_status,topic_last_date:d,topic_name:o,_id:t==null?void 0:t._id}}).then(()=>{s(),x(),h(!1)}).catch({})):c(!0)},b=u=>{let N=u==null?void 0:u.split("/"),C=`${N[2]}-${N[1]}-${N[0]}`;_(C)};return e.jsxs(W,{onClose:a,children:[e.jsxs("div",{className:l.add_academic_record,style:{width:"30rem",minHeight:"30rem"},children:[e.jsxs("div",{className:l.add_academic_record_title,children:[e.jsxs("div",{className:l.add_academic_record_text,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",onClick:a,alt:"back icon",style:{cursor:"pointer"}}),e.jsx("h6",{children:(t==null?void 0:t.topic_name)??""})]}),e.jsx("button",{onClick:T,children:n("update")})]}),e.jsx(z,{customStyle:{width:"100%"}}),e.jsx(k,{labelText:n("topic_name"),placeholder:n("topic_name_placeholder"),name:"topic_name",value:o,type:"text",onChange:u=>v(u.target.value),customStyleContainer:{width:"100%"},errorShow:g}),e.jsx(ae,{labelText:n("topic_date"),placeholder:n("topic_date_placeholder"),name:"topicDate",value:d,onDateFunction:b,customStyleContainer:{position:"relative"},datePickerPosition:{top:"-3rem",left:"3rem"}})]}),y&&e.jsx(J,{})]})},Me=({onClose:a,topicMenu:t,onRefetch:s})=>{const[x,n]=i.useState(!1),[y,h]=i.useState(!1),[g]=le(),c=()=>{t!=null&&t.subject&&(t!=null&&t._id)&&(n(o=>!o),g({ctid:t==null?void 0:t._id,sid:t==null?void 0:t.subject}).then(()=>{s(),a(),n(o=>!o)}).catch({}))};return e.jsx(e.Fragment,{children:y?e.jsx(Oe,{topicMenu:t,onClose:()=>h(o=>!o),onCloseParent:a,onRefetch:s}):e.jsxs(e.Fragment,{children:[e.jsx(ue,{onClose:a}),e.jsxs(he,{customStyle:{zIndex:"1200"},children:[e.jsxs("div",{className:Y.edit_modal_container,style:{width:"200px"},children:[e.jsx("h6",{className:Y.edit,onClick:()=>h(o=>!o),children:"Edit"}),e.jsx("h6",{className:Y.remove,onClick:c,children:"Delete"})]}),x&&e.jsx(J,{})]})]})})},X=({topic:a,isLast:t,isView:s,onGrabChapterId:x,topicId:n,onRefetch:y,isSubType:h,topicCurrentStatus:g})=>{var r,T,b,u,N,C;const{t:c}=U(),[o,v]=i.useState(""),[d,_]=i.useState("");return i.useEffect(()=>{var p,m;if(n!=null&&n.length){let w="";for(let S=0;S<(n==null?void 0:n.length);S++)if(((p=n[S])==null?void 0:p.topicId)===(a==null?void 0:a._id)){w=(m=n[S])==null?void 0:m.current_status;break}_(w)}else _("")},[n]),e.jsxs(e.Fragment,{children:[s==="SUBJECT_TEACHER"&&h!=="SUBJECT_TEACHER_INSTITUTE"?e.jsxs("div",{className:l.topic_card_container,children:[e.jsxs("div",{className:l.topic_card_each,children:[e.jsx("h5",{children:(a==null?void 0:a.topic_name)??""}),e.jsxs("p",{children:[c("scheduled_on")," ",$(a==null?void 0:a.topic_last_date).format("Do MMMM, yyyy")]})]}),e.jsx("div",{className:l.topic_card_each,style:{alignItems:"flex-end"},children:((r=a==null?void 0:a.topic_current_status)==null?void 0:r.toLowerCase())==="ongoing"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:d==="Ongoing"?`${l.topic_ongoing} ${l.topic_ongoing_active}`:l.topic_ongoing,onClick:()=>x(a,"Ongoing"),style:{color:d==="Ongoing"?"#ffffff":"rgba(255, 77, 0, 0.8)"},children:(a==null?void 0:a.topic_current_status)??""}),s==="SUBJECT_TEACHER"?e.jsx("p",{className:d==="Completed"?`${l.topic_completed} ${l.topic_completed_active}`:l.topic_completed,onClick:()=>x(a,"Completed"),children:"Completed"}):null]}):e.jsxs(e.Fragment,{children:[((T=a==null?void 0:a.topic_completion_status)==null?void 0:T.toLowerCase())==="early completed"?e.jsx("p",{style:{fontSize:"14px",color:"#002BBE"},children:(a==null?void 0:a.topic_completion_status)??""}):((b=a==null?void 0:a.topic_completion_status)==null?void 0:b.toLowerCase())==="delayed completed"?e.jsx("p",{style:{fontSize:"14px",color:" rgba(255, 77, 0, 0.80)"},children:(a==null?void 0:a.topic_completion_status)??""}):e.jsx("p",{style:{fontSize:"14px",color:"rgba(0, 128, 0, 0.80)"},children:(a==null?void 0:a.topic_completion_status)??""}),e.jsx("p",{style:{marginTop:"0.5rem"},children:$(a==null?void 0:a.topic_completion_date).format("Do MMMM, yyyy")})]})})]}):s==="SAVE_RECORD"?e.jsxs("div",{className:l.topic_card_container,children:[e.jsxs("div",{className:l.topic_card_each,children:[e.jsx("h5",{children:(a==null?void 0:a.topic_name)??""}),e.jsxs("p",{children:[c("scheduled_on")," ",$(a==null?void 0:a.topic_last_date).format("Do MMMM, yyyy")]})]}),e.jsx("div",{className:l.topic_card_each,style:{alignItems:"flex-end"},children:d==="Completed"?e.jsx("p",{style:{fontSize:"14px",color:"rgba(0, 128, 0, 0.80)"},children:"Completed"}):e.jsx("p",{style:{color:"rgba(255, 77, 0, 0.80)",fontSize:"14px"},children:(a==null?void 0:a.topic_current_status)??""})})]}):s==="DAILY"?e.jsxs("div",{className:l.topic_card_container,children:[e.jsxs("div",{className:l.topic_card_each,children:[e.jsx("h5",{children:(a==null?void 0:a.topic_name)??""}),e.jsxs("p",{children:[c("scheduled_on")," ",$(a==null?void 0:a.topic_last_date).format("Do MMMM, yyyy")]})]}),e.jsx("div",{className:l.topic_card_each,style:{alignItems:"flex-end"},children:g==="Completed"?(a==null?void 0:a.topic_completion_status)==="Delayed Completed"?e.jsx("p",{style:{fontSize:"14px",color:"rgba(255, 77, 0, 0.80)"},children:a==null?void 0:a.topic_completion_status}):(a==null?void 0:a.topic_completion_status)==="Timely Completed"?e.jsx("p",{style:{fontSize:"14px",color:"rgba(0, 128, 0, 0.80)"},children:a==null?void 0:a.topic_completion_status}):e.jsx("p",{style:{fontSize:"14px",color:"#002BBE"},children:a==null?void 0:a.topic_completion_status}):e.jsx("p",{style:{fontSize:"14px",color:"rgba(255, 77, 0, 0.80)"},children:g})})]}):e.jsxs("div",{className:l.topic_card_container,children:[e.jsxs("div",{className:l.topic_card_each,children:[e.jsx("h5",{children:(a==null?void 0:a.topic_name)??""}),e.jsxs("p",{children:[c("scheduled_on")," ",$(a==null?void 0:a.topic_last_date).format("Do MMMM, yyyy")]})]}),e.jsx("div",{className:l.topic_card_each,style:{alignItems:"flex-end",flexDirection:s==="INSTITUTE"||s==="ADMINISTRATOR"?"row":"column",gap:s==="INSTITUTE"||s==="ADMINISTRATOR"?"1rem":"0"},children:s==="INSTITUTE"||h==="SUBJECT_TEACHER_INSTITUTE"||s==="ADMINISTRATOR"?e.jsx(e.Fragment,{children:e.jsx("img",{src:"/images/member_tab/subject/subject-edit-icon.svg",alt:"edit icon",onClick:()=>v(a),style:{cursor:"pointer"}})}):e.jsx("div",{children:((u=a==null?void 0:a.topic_current_status)==null?void 0:u.toLowerCase())==="ongoing"?e.jsx(e.Fragment,{children:e.jsx("p",{style:{color:"rgba(255, 77, 0, 0.80)",fontSize:"14px"},children:(a==null?void 0:a.topic_current_status)??""})}):e.jsxs(e.Fragment,{children:[((N=a==null?void 0:a.topic_completion_status)==null?void 0:N.toLowerCase())==="early completed"?e.jsx("p",{style:{fontSize:"14px",color:"#002BBE"},children:(a==null?void 0:a.topic_completion_status)??""}):((C=a==null?void 0:a.topic_completion_status)==null?void 0:C.toLowerCase())==="delayed completed"?e.jsx("p",{style:{fontSize:"14px",color:"rgba(255, 77, 0, 0.80)"},children:(a==null?void 0:a.topic_completion_status)??""}):e.jsx("p",{style:{fontSize:"14px",color:"rgba(0, 128, 0, 0.80)"},children:(a==null?void 0:a.topic_completion_status)??""}),e.jsx("p",{style:{marginTop:"0.5rem"},children:$(a==null?void 0:a.topic_completion_date).format("Do MMMM, yyyy")})]})})})]}),!t&&e.jsx(z,{customStyle:{width:"100%"}}),o&&e.jsx(Me,{topicMenu:o,onClose:()=>v(""),onRefetch:y})]})},ea=({onClose:a,onRefetch:t,chid:s})=>{const{t:x}=U(),[n,y]=i.useState(""),[h,g]=i.useState(!1),[c,o]=i.useState({topic_name:"",topic_last_date:""}),[v]=ie(),d=r=>{let T=r==null?void 0:r.split("/"),b=`${T[2]}-${T[1]}-${T[0]}`;o(u=>({...u,topic_last_date:b}))},_=()=>{c.topic_name?s&&(g(r=>!r),v({chid:s,addTopic:c}).then(()=>{t(),a(),g(r=>!r)}).catch({})):y(!0)};return e.jsx(W,{onClose:a,children:e.jsxs("div",{className:A.add_category_modal,style:{width:"35rem",minHeight:"24rem"},children:[e.jsxs("div",{className:A.add_category_modal_title,children:[e.jsx("h6",{children:x("add_new_chapter")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:a,alt:""})]}),e.jsx(z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),e.jsx(k,{labelText:x("topic_name"),placeholder:"please enter topic name",name:"topic_name",value:c==null?void 0:c.topic_name,type:"text",onChange:r=>{o(T=>({...T,topic_name:r.target.value}))},errorShow:n}),e.jsx(ae,{labelText:x("topic_last_date"),placeholder:x("please_select_topic_last_date"),name:"topic_last_date",value:c.topic_last_date,onDateFunction:d,customStyleContainer:{position:"relative",width:"100%"},datePickerPosition:{top:"-8rem",left:"5rem"},errorShow:n.topic_last_date}),e.jsx("button",{className:A.set_fees_structure_btn,title:"Create Batch",onClick:_,style:{justifyContent:"center"},children:x("create")}),h&&e.jsx(J,{})]})})},Z=({chapter:a,isView:t,onGrabChapterId:s,topicId:x,isSubType:n,sid:y,recordLecture:h})=>{var F;const{t:g}=U(),[c,o]=i.useState(!1),[v,d]=i.useState(!0),[_,r]=i.useState(1),[T,b]=V(),[u,N]=i.useState([]),[C,p]=i.useState(!1),{scrollToTop:m}=P(),[w,S]=i.useState(!1),{getAllTopicOneChapter:j,getAllTopicOneChapterRefetch:f}=ne({data:{cid:a==null?void 0:a._id,page:_,limit:10},skip:c?!(a!=null&&a._id):!c});i.useEffect(()=>{a!=null&&a._id&&c&&(p(!0),f())},[a==null?void 0:a._id,_,c,f]),i.useEffect(()=>{m()},[m]),i.useEffect(()=>{b&&v&&r(E=>E+1)},[b,v]),i.useEffect(()=>{var E,I;j!=null&&j.all_topic?(N(_===1?j==null?void 0:j.all_topic:B=>[...new Set([...B,...j==null?void 0:j.all_topic].map(JSON.stringify))].map(JSON.parse)),p(!1)):((E=j==null?void 0:j.all_topic)==null?void 0:E.length)===0&&p(!1),((I=j==null?void 0:j.all_topic)==null?void 0:I.length)===10?d(!0):d(!1)},[j==null?void 0:j.all_topic,c]);const D=()=>{o(E=>!E)},q=()=>{r(1),p(!0),f()},R=()=>{S(E=>!E)};return e.jsxs("div",{className:l.academic_card_container,children:[e.jsxs("div",{className:l.academic_card_top,onClick:D,children:[e.jsx("img",{src:"/images/member_tab/subject/subject-topic-icon.svg",alt:"topic icon"}),e.jsx("h6",{children:(a==null?void 0:a.chapter_name)??""}),e.jsx("img",{src:c?"/images/member_tab/subject/subject-up-icon.svg":"/images/member_tab/subject/subject-down-icon.svg",alt:"down icon"})]}),c&&e.jsxs(e.Fragment,{children:[!h&&["INSTITUTE","SUBJECT_TEACHER"].includes(t)?e.jsx("div",{className:l.record_lecture,style:{marginTop:"1rem",paddingRight:"1rem"},children:e.jsx("h6",{className:l.add_record_lecture,onClick:R,children:g("add_new_topic")})}):null,u==null?void 0:u.map((E,I)=>(u==null?void 0:u.length)===I+1?e.jsx("div",{ref:T,children:e.jsx(X,{topic:E,isLast:!0,isView:t,onGrabChapterId:s,topicId:x,onRefetch:q,isSubType:n})},E==null?void 0:E._id):e.jsx(X,{topic:E,isView:t,onGrabChapterId:s,topicId:x,onRefetch:q,isSubType:n},E==null?void 0:E._id))]}),c&&!C&&!((F=j==null?void 0:j.all_topic)!=null&&F.length)&&e.jsx(ee,{customStyleContainer:{marginTop:"2rem"},title:"No topic list found."}),C&&e.jsx(O,{status:"white"}),w&&e.jsx(ea,{onClose:R,chid:a==null?void 0:a._id,onRefetch:q})]})},aa=({onClose:a,onRefetch:t,sid:s})=>{const{t:x}=U(),[n,y]=i.useState(""),[h,g]=i.useState(!1),[c,o]=i.useState({chapter_name:""}),[v]=de(),d=()=>{c.chapter_name?s&&(g(_=>!_),v({sid:s,addChapter:c}).then(()=>{t(),a(),g(_=>!_)}).catch({})):y(!0)};return e.jsx(W,{onClose:a,children:e.jsxs("div",{className:A.add_category_modal,children:[e.jsxs("div",{className:A.add_category_modal_title,children:[e.jsx("h6",{children:x("add_new_chapter")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:a,alt:""})]}),e.jsx(z,{customStyle:{width:"100%",marginTop:"0.6rem",marginBottom:"0.6rem"}}),e.jsx(k,{labelText:x("chapter_name"),placeholder:"please enter chapter name",name:"chapter_name",value:c==null?void 0:c.chapter_name,type:"text",onChange:_=>{o(r=>({...r,chapter_name:_.target.value}))},errorShow:n}),e.jsx("button",{className:A.set_fees_structure_btn,title:"Create Batch",onClick:d,style:{justifyContent:"center"},children:x("create")}),h&&e.jsx(J,{})]})})},ta=({sid:a,isView:t,onGrabChapterId:s,topicId:x,isSubType:n,recordLecture:y})=>{const{t:h}=U(),[g,c]=i.useState(!0),[o,v]=i.useState(1),[d,_]=V(),[r,T]=i.useState([]),[b,u]=i.useState(!0),{scrollToTop:N}=P(),[C,p]=i.useState(!1),{getAllChapterOneSubject:m,getAllChapterOneSubjectRefetch:w}=re({data:{sid:a,page:o,limit:10},skip:!a});i.useEffect(()=>{a&&(u(!0),w())},[a,o,w]),i.useEffect(()=>{N()},[N]),i.useEffect(()=>{_&&g&&v(f=>f+1)},[_,g]),i.useEffect(()=>{var f,D;m!=null&&m.all_chapter?(T(o===1?m==null?void 0:m.all_chapter:q=>[...new Set([...q,...m==null?void 0:m.all_chapter].map(JSON.stringify))].map(JSON.parse)),u(!1)):((f=m==null?void 0:m.all_chapter)==null?void 0:f.length)===0&&u(!1),((D=m==null?void 0:m.all_chapter)==null?void 0:D.length)===10?c(!0):c(!1)},[m==null?void 0:m.all_chapter]);const S=()=>{p(f=>!f)},j=()=>{v(f=>1),u(!0),w()};return e.jsxs(e.Fragment,{children:[!y&&["INSTITUTE","SUBJECT_TEACHER"].includes(t)?e.jsx("div",{className:l.record_lecture,style:{marginTop:"1rem"},children:e.jsx("h6",{className:l.add_record_lecture,onClick:S,children:h("add_new_chapter")})}):null,r==null?void 0:r.map((f,D)=>(r==null?void 0:r.length)===D+1?e.jsx("div",{ref:d,children:e.jsx(Z,{isView:t,chapter:f,onGrabChapterId:s,topicId:x,isSubType:n,sid:a,recordLecture:y})},f==null?void 0:f._id):e.jsx(Z,{chapter:f,isView:t,onGrabChapterId:s,topicId:x,isSubType:n,sid:a,recordLecture:y},f==null?void 0:f._id)),!b&&!(r!=null&&r.length)&&e.jsx(ee,{customStyleContainer:{marginTop:"9rem"},title:"No chapter list found."}),b&&e.jsx(O,{status:"white"}),C&&e.jsx(aa,{onClose:S,sid:a,onRefetch:j})]})},sa=({sid:a,onClose:t})=>{const{t:s}=U(),[x,n]=i.useState(!1),[y,h]=i.useState({lecture_analytic:{lecture_count:"",lecture_time:""},practical_analytic:{practical_count:"",practical_time:""},tutorial_analytic:{tutorial_count:"",tutorial_time:""}}),[g]=oe(),{getOneSubjectProfile:c,getOneSubjectProfileRefetch:o}=M({sid:a,skip:!a});i.useEffect(()=>{a&&o()},[a,o]),i.useEffect(()=>{var d,_,r,T,b,u,N,C,p,m,w,S;c!=null&&c.one_subject&&h({lecture_analytic:{lecture_count:((_=(d=c==null?void 0:c.one_subject)==null?void 0:d.lecture_analytic)==null?void 0:_.lecture_count)||"",lecture_time:((T=(r=c==null?void 0:c.one_subject)==null?void 0:r.lecture_analytic)==null?void 0:T.lecture_time)||""},practical_analytic:{practical_count:((u=(b=c==null?void 0:c.one_subject)==null?void 0:b.practical_analytic)==null?void 0:u.practical_count)||"",practical_time:((C=(N=c==null?void 0:c.one_subject)==null?void 0:N.practical_analytic)==null?void 0:C.practical_time)||""},tutorial_analytic:{tutorial_count:((m=(p=c==null?void 0:c.one_subject)==null?void 0:p.tutorial_analytic)==null?void 0:m.tutorial_count)||"",tutorial_time:((S=(w=c==null?void 0:c.one_subject)==null?void 0:w.tutorial_analytic)==null?void 0:S.tutorial_time)||""}})},[c==null?void 0:c.one_subject]);const v=()=>{a&&(n(d=>!d),g({sid:a,academicUpdate:y}).then(()=>{o(),t()}).catch({}))};return e.jsxs(W,{onClose:t,children:[e.jsxs("div",{className:l.add_academic_record,children:[e.jsx("div",{className:l.add_academic_record_title,children:e.jsxs("div",{className:l.add_academic_record_text,style:{justifyContent:"space-between",width:"100%"},children:[e.jsx("h6",{children:s("edit_academic")}),e.jsx("img",{src:"/images/close-post-icon.svg",onClick:t,alt:"",style:{cursor:"pointer"}})]})}),e.jsx(z,{customStyle:{width:"100%",marginTop:"0.5rem"}}),e.jsxs("div",{className:l.academic_edit_container,children:[e.jsx(k,{labelText:s("total_lectures"),placeholder:"60",name:"lecture_count",type:"tel",value:y.lecture_analytic.lecture_count,onChange:d=>h(_=>({..._,lecture_analytic:{..._.lecture_analytic,lecture_count:+d.target.value}}))}),e.jsx(k,{labelText:s("time_lectures"),placeholder:"60",name:"lecture_time",type:"tel",value:y.lecture_analytic.lecture_time,onChange:d=>h(_=>({..._,lecture_analytic:{..._.lecture_analytic,lecture_time:d.target.value}}))})]}),e.jsxs("div",{className:l.academic_edit_container,children:[e.jsx(k,{labelText:s("practicals"),placeholder:"60",name:"practical_count",type:"tel",value:y.practical_analytic.practical_count,onChange:d=>h(_=>({..._,practical_analytic:{..._.practical_analytic,practical_count:+d.target.value}}))}),e.jsx(k,{labelText:s("time_practical"),placeholder:"60",name:"practical_time",type:"tel",value:y.practical_analytic.practical_time,onChange:d=>h(_=>({..._,practical_analytic:{..._.practical_analytic,practical_time:d.target.value}}))})]}),e.jsxs("div",{className:l.academic_edit_container,children:[e.jsx(k,{labelText:s("tutorials"),placeholder:"60",name:"tutorial_count",type:"tel",value:y.tutorial_analytic.tutorial_count,onChange:d=>h(_=>({..._,tutorial_analytic:{..._.tutorial_analytic,tutorial_count:+d.target.value}}))}),e.jsx(k,{labelText:s("time_tutorial"),placeholder:"60",name:"tutorial_time",type:"tel",value:y.tutorial_analytic.tutorial_time,onChange:d=>h(_=>({..._,tutorial_analytic:{..._.tutorial_analytic,tutorial_time:d.target.value}}))})]}),e.jsx("button",{className:l.academic_edit_btn,onClick:v,children:s("update")})]}),x&&e.jsx(J,{})]})},ga=()=>{var d,_,r,T,b,u,N,C,p,m,w,S,j,f;const{t:a}=U(),t=te(),s=se(),[x,n]=i.useState(!1),[y]=ce(),[h]=me(),[g,c]=i.useState(!1),o=D=>{var q,R,F,E,I;if(((q=t.state)==null?void 0:q.isView)==="SUBJECT_TEACHER"){if((R=D.target.files)!=null&&R.length&&((F=t.state)!=null&&F.subjectId)){n(!0);const B=new FormData;B.append("file",D.target.files[0]),y({fileUpload:B}).then(H=>{var L,K,Q;(L=H.data)!=null&&L.imageKey?h({sid:(K=t.state)==null?void 0:K.subjectId,excelFile:{excel_file:(Q=H.data)==null?void 0:Q.imageKey}}).then(()=>{n(!1)}).catch({}):n(!1)}).catch({})}}else if((E=D.target.files)!=null&&E.length&&((I=t.state)!=null&&I.sid)){n(!0);const B=new FormData;B.append("file",D.target.files[0]),y({fileUpload:B}).then(H=>{var L,K,Q;(L=H.data)!=null&&L.imageKey?h({sid:(K=t.state)==null?void 0:K.sid,excelFile:{excel_file:(Q=H.data)==null?void 0:Q.imageKey}}).then(()=>{n(!1)}).catch({}):n(!1)}).catch({})}},v=()=>{c(D=>!D)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:["INSTITUTE","STUDENT","SUBJECT_TEACHER"].includes((d=t.state)==null?void 0:d.isView)?l.subject_academic_container:l.academic_container,style:((_=t.state)==null?void 0:_.isView)==="INSTITUTE"?{borderTopRightRadius:"0",borderTopLeftRadius:"0",marginTop:"1rem"}:null,children:[["INSTITUTE","SUBJECT_TEACHER"].includes((r=t.state)==null?void 0:r.isView)?e.jsxs("div",{className:l.subject_academic_title,children:[e.jsx("h6",{children:((T=t.state)==null?void 0:T.subjectName)??a("academics_teachings")}),e.jsxs("div",{className:l.record_lecture,children:[e.jsx("h6",{className:l.add_record_lecture,onClick:v,children:a("edit_academic")}),e.jsx("label",{className:l.class_header_info_add_student,htmlFor:"uploadExcel",children:e.jsx("img",{src:"/images/member_tab/subject/subject-excel-icon.svg",alt:"excel icon",style:{cursor:"pointer"}})})]})]}):["ADMINISTRATOR"].includes((b=t.state)==null?void 0:b.isView)?null:e.jsx("div",{className:l.academic_title,children:e.jsxs("div",{className:l.academic_title_text,children:[e.jsx("img",{src:"/images/arrow-left-fees-icon.svg",alt:"back",onClick:()=>s(-1)}),e.jsx("h6",{children:((u=t.state)==null?void 0:u.subjectName)??a("academics_teachings")})]})}),e.jsx("input",{type:"file",id:"uploadExcel",accept:".xlsx",onChange:o,style:{display:"none"}}),e.jsx(z,{customStyle:{width:"100%",marginBottom:"0.7rem"}}),e.jsx(Pe,{sid:((N=t.state)==null?void 0:N.subjectId)??((C=t.state)==null?void 0:C.sid)}),e.jsx(ta,{sid:((p=t.state)==null?void 0:p.subjectId)??((m=t.state)==null?void 0:m.sid),isView:(w=t.state)==null?void 0:w.isView,isSubType:(S=t.state)==null?void 0:S.isSubType})]}),x&&e.jsx(J,{}),g&&e.jsx(sa,{onClose:v,sid:((j=t.state)==null?void 0:j.subjectId)??((f=t.state)==null?void 0:f.sid)})]})};export{ga as A,sa as a,X as b,ta as c,l as s};
