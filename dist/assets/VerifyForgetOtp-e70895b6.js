import{u as v,r as p,np as j,j as t,N as S}from"./index-731451a5.js";import{s}from"./ResendTimer-2d001486.js";import{N as _}from"./Login-db0c1b3d.js";import{B as N}from"./ButtonWithTypeSubmit-71da32d7.js";import"./use-login-02f54549.js";import"./verifyUserNameSpaces-1eb95efa.js";import"./ButtonWithAction-805b1066.js";import"./LoaderButton-71df50a7.js";import"./InputDateField-70b961e2.js";import"./DatePicker-305f3dc6.js";import"./SelectOptions.module-81ece918.js";import"./use-user-signup-c7112eee.js";import"./timeComparison-f15c3247.js";import"./CustomSuspense-e90dc607.js";function V({userId:l,setUserId:c,setStatus:u}){const{t:a}=v(),[i,d]=p.useState(""),[f]=j(),[g,r]=p.useState(!1),[o,n]=p.useState({msg:"",run:!1}),h=m=>{m.preventDefault(),r(e=>!e),l&&(i==null?void 0:i.length)===4?f({fid:l,otp:{userOtpCode:i}}).then(e=>{e.data.message==="Invalid OTP"?n({msg:"Please enter a valid opt",run:!0}):e.data.user&&(c(e.data.user._id),u("CHANGE_PASSWORD")),r(x=>!x)}).catch({}):(n({msg:a("enter_valid_option"),run:!0}),r(e=>!e))};return t.jsxs(t.Fragment,{children:[t.jsx("form",{onSubmit:h,children:t.jsxs("div",{className:s.card,children:[t.jsx("h6",{className:s.cardhdark,children:a("verification_code")}),t.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:a("otp_sent_on_mobile")}),t.jsx("div",{className:s.input_margin_top,children:t.jsx(_,{icon:"/images/landing-page/otp.svg",placeholder:a("verification_code"),name:"insOTP",maxlength:"4",value:i,onChange:m=>d(m.target.value)})}),t.jsx("div",{className:s.btn_containerotp,children:t.jsx(N,{disabled:g,buttonText:a("verify"),customStyleButton:{minHeight:"2.3rem",marginTop:"4rem"},customStyleButtonText:{fontSize:"1rem"}})})]})}),t.jsx(S,{msg:o.msg,run:o.run,setRun:()=>n({msg:"",run:!1}),postiton:"bottom",type:o.msg==="Invalid OTP"||o.msg==="Please enter a valid opt"?"error":"success"})]})}export{V as default};
