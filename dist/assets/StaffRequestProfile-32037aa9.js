import{u as L,j as r,Q as $,r as k,k as y,e as E}from"./index-731451a5.js";import{t as H,K as I,L as O}from"./institute-staff-student-api-7f4890fe.js";import{s as D,B as b}from"./BorderBottom-47800983.js";import{S as M}from"./StaffHeader-8b393c01.js";import{S as Q}from"./StaffProfileAbout-ce127bc9.js";import{S as w}from"./StaffProfilePhoto-59dc6912.js";import"./SendFilterStudentMessage-cf1c7d66.js";import"./PopupWrapper-ffbaef7a.js";import"./Overlay-07ce6f88.js";import"./Overlay.module-9133d1bb.js";import"./SearchModalWrapper-6e85c9f3.js";import"./SearchModalBackdrop-5b309d60.js";import"./SearchHeader.module-b69c8942.js";import"./FeesStructure.module-7a88fbbc.js";import"./JoinFormTextArea-7f6dded0.js";import"./JoinForm.module-212f9bb3.js";import"./Switch-81e70f2f.js";import"./SwitchBase-2ba5f868.js";import"./StaffProfileEachInfo-21badda6.js";import"./ViewFileDialog-0c131c06.js";import"./student-api-4ee7144d.js";import"./StudentSubjectList-241a7bce.js";import"./BonafideReason-8b18d679.js";import"./JoinFormInput-8e74a0e0.js";import"./pdf-convertor-function-e794de58.js";import"./department-api-a4f0b4b7.js";import"./main.certificate.pdf.worker-8bd77f87.js";import"./numberToWords.min-dbca819b.js";import"./index-43f19233.js";import"./index-387d7a00.js";import"./admission-api-56b87fde.js";import"./export-data-api-9f41e023.js";const F="_StaffRequestContainer_15gr5_1",K="_requestBtn_15gr5_8",u={StaffRequestContainer:F,requestBtn:K},S=({staff:s,AcceptHandler:o,RejectHandler:p,disabled:a})=>{const{t:n}=L();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:u.StaffRequestContainer,children:[r.jsx("div",{className:u.requestBtn,onClick:()=>{o(s==null?void 0:s._id,s==null?void 0:s.user._id)},children:n("accept")}),r.jsx("div",{className:u.requestBtn,onClick:()=>{p(s==null?void 0:s._id,s==null?void 0:s.user._id)},style:{backgroundColor:"rgba(75, 26, 133, 0.1)",color:"rgba(18, 18, 18, 0.8)"},children:n("reject")})]}),a&&r.jsx($,{})]})},Nt=({requestId:s,requestFetch:o,queryFetch:p,onClose:a})=>{var l,x,g,_,R,h,N,v;const[n,c]=k.useState(!1),d=y(e=>e.idChange.id),{oneStaffProfile:t,oneStaffProfileRefetch:j}=H({sid:s,skip:!s}),[q]=I(),[B]=O(),C=(e,m)=>{c(i=>!i),e&&m&&d&&q({id:d,sid:e,uid:m,status:"Approved"}).then(()=>{j(),o(),p(),a(),c(i=>!i)})},A=(e,m)=>{c(i=>!i),e&&m&&d&&B({id:d,sid:e,uid:m,status:"Rejected"}).then(()=>{j(),o(),p(),a(),c(i=>!i)})};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:D.staff_profile_container,children:[r.jsx(M,{textLevel:"Staff Profile In Institute",onClose:a}),r.jsx(b,{}),r.jsx(w,{name:`${((l=t==null?void 0:t.staff)==null?void 0:l.staffFirstName)||""} ${(x=t==null?void 0:t.staff)!=null&&x.staffMiddleName?(g=t==null?void 0:t.staff)==null?void 0:g.staffMiddleName:""} ${((_=t==null?void 0:t.staff)==null?void 0:_.staffLastName)||""}`,designation:((R=t==null?void 0:t.staff)==null?void 0:R.staffDesignationCount)||0,indexNumber:((h=t==null?void 0:t.staff)==null?void 0:h.staffROLLNO)||"-",dynamicImage:((N=t==null?void 0:t.staff)==null?void 0:N.photoId)!=="1"?`${E}/${(v=t==null?void 0:t.staff)==null?void 0:v.staffProfilePhoto}`:"/images/ins_default_profile.svg",onEditable:!0}),r.jsx(b,{}),r.jsx(Q,{staff:t==null?void 0:t.staff}),r.jsx(S,{staff:t==null?void 0:t.staff,AcceptHandler:C,RejectHandler:A,disabled:n})]})})};export{Nt as default};
