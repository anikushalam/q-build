import{u as v,r as m,np as j,j as t,L as N,N as O}from"./index-0ca76035.js";import{B as P}from"./ButtonWithAction-aaeab9a0.js";/* empty css                  */import{s as o}from"./Container.module-c3c43a80.js";import{N as S}from"./Login-90ddf61b.js";import"./LoaderButton-56f541f9.js";import"./ResendTimer-690f6a77.js";import"./ButtonWithTypeSubmit-5c11ae9c.js";import"./use-login-cbfdffab.js";import"./verifyUserNameSpaces-1eb95efa.js";import"./InputDateField-5babd99a.js";import"./DatePicker-c6d0e911.js";import"./SelectOptions.module-81ece918.js";import"./use-user-signup-533cdb2a.js";import"./timeComparison-f15c3247.js";import"./CustomSuspense-25f8db15.js";function I({userId:c,setUserId:d,setActive:n,onSignupLink:p}){const{t:s}=v(),[i,u]=m.useState(""),[g]=j(),[f,r]=m.useState(!1),[a,l]=m.useState({msg:"",run:!1}),h=()=>{r(e=>!e),c&&(i==null?void 0:i.length)===4?g({fid:c,otp:{userOtpCode:i}}).then(e=>{e.data.message==="Invalid OTP"?l({msg:"Please enter a valid opt",run:!0}):e.data.institute?(d(e.data.institute._id),n("NEW_PASSWORD")):e.data.user&&(d(e.data.user._id),n("NEW_PASSWORD")),r(x=>!x)}).catch({}):(l({msg:"Please enter a valid opt",run:!0}),r(e=>!e))};return t.jsxs("div",{className:o.modalContainerr,children:[t.jsxs("div",{className:`${o.form} ${o.forggotPassForm}`,children:[t.jsx("h3",{children:s("forgot_password")}),t.jsx("p",{children:s("Please-enter-your-verification-code-label")}),t.jsx("div",{style:{width:"100%",marginTop:"3rem"},children:t.jsx(S,{icon:"/images/landing-page/otp.svg",placeholder:s("verification_code"),name:"insOTP",maxlength:"4",value:i,onChange:e=>u(e.target.value)})}),t.jsx("div",{className:o.forgotPass,children:t.jsxs("p",{onClick:()=>n("LOGIN"),children:["Â ",s("back_to_login")]})}),t.jsx(P,{buttonText:s("verify"),customStyleButton:{minHeight:"2.3rem",backgroundColor:"#575caa"},disabled:f,shwoLoader:!0,onAction:h})]}),t.jsx("div",{className:o.footer,children:t.jsxs("p",{children:[s("new_to_qviple"),t.jsx("span",{className:o.signupbtn,children:t.jsx(N,{onClick:p,to:"/signup",style:{textDecoration:"none",color:"#2c5dcd",marginLeft:"0.3vw"},children:s("signup")})})]})}),t.jsx(O,{msg:a.msg,run:a.run,setRun:()=>l({msg:"",run:!1}),postiton:"bottom",type:a.msg==="Invalid OTP"||a.msg==="Please enter a valid opt"?"error":"success"})]})}export{I as default};
