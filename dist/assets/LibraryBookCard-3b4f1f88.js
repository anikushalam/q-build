import{n as y,j as s,L as f,u as X,e as u,bo as A,c as Q,d as b,k,r as o}from"./index-731451a5.js";import{d as ee,j as se}from"./library-api-ded81710.js";const Y=({carryParentState:e,activeTab:c,customStyle:n,children:i})=>{const h=y();return s.jsx(f,{to:`/q/${h.username}/member/library?a=${c}`,state:{...e},style:{...n},children:i})},ae="_addbookcontainer_h65zg_1",ie="_addbooktop_h65zg_7",te="_addbookbody_h65zg_31",le="_addbookbodyleft_h65zg_39",de="_addbookbodyright_h65zg_42",ce="_bookItemImgContainer_h65zg_48",ne="_bookItemImg_h65zg_48",he="_bookTitle_h65zg_65",re="_bookby_h65zg_87",me="_bookDetailsTop_h65zg_103",_e="_booklang_h65zg_107",pe="_bookstatus_h65zg_118",je="_bookstatusoffline_h65zg_129",xe="_addbookbodybottom_h65zg_133",ge="_viewRow_h65zg_137",ue="_detailImg_h65zg_145",ve="_viewRowh6_h65zg_150",Ne="_desh6_h65zg_160",we="_viewRowp_h65zg_170",fe="_viewRowfull_h65zg_187",ye="_pdfdiv_h65zg_193",$e="_pdfh6_h65zg_206",Re="_pdfdivcontainer_h65zg_210",Ie="_downloadbtn_h65zg_214",a={addbookcontainer:ae,addbooktop:ie,addbookbody:te,addbookbodyleft:le,addbookbodyright:de,bookItemImgContainer:ce,bookItemImg:ne,bookTitle:he,bookby:re,bookDetailsTop:me,booklang:_e,bookstatus:pe,bookstatusoffline:je,addbookbodybottom:xe,viewRow:ge,detailImg:ue,viewRowh6:ve,desh6:Ne,viewRowp:we,viewRowfull:fe,pdfdiv:ye,pdfh6:$e,pdfdivcontainer:Re,downloadbtn:Ie},Z=({carryParentState:e,activeTab:c,customStyle:n,children:i})=>{const h=y();return s.jsx(f,{to:`/q/${h.username}/library${c}`,state:{...e},style:n,children:i})};function Se({book:e,onBackClick:c,status:n,onCollectBackClick:i,onStudentBackClick:h,carryParentState:l,pageOpenAs:_}){var x,r,g,m,p,j;const{t}=X();return s.jsx(s.Fragment,{children:n==="bookDetails"?s.jsxs("div",{className:a.addbookcontainer,children:[s.jsxs("div",{className:a.addbooktop,children:[s.jsx("img",{src:"/images/back.svg",onClick:c}),s.jsx("h6",{children:t("book_details")}),_==="INSTITUTE"?s.jsx(Z,{carryParentState:{...l,bid:e==null?void 0:e._id,book:e},activeTab:"?a=book&n=edit",children:s.jsx("img",{src:"/images/library/edit_.svg"})}):s.jsx(Y,{carryParentState:{...l,bid:e==null?void 0:e._id,book:e},activeTab:"book&n=edit",children:s.jsx("img",{src:"/images/library/edit_.svg"})})]}),s.jsxs("div",{className:a.addbookbody,children:[s.jsx("div",{className:a.addbookbodyright,children:s.jsx("div",{className:a.bookItemImgContainer,children:s.jsx("img",{className:a.bookItemImg,src:e!=null&&e.photo?`${u}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"})})}),s.jsxs("div",{className:a.addbookbodyleft,children:[s.jsx("h3",{className:a.bookTitle,children:e==null?void 0:e.bookName}),s.jsxs("p",{className:a.bookby,children:[t("by_"),"  ",s.jsx("span",{children:e==null?void 0:e.author})]}),s.jsx("p",{className:a.booklang,children:e==null?void 0:e.language}),s.jsx("p",{className:(e==null?void 0:e.bookStatus)==="Online"?a.bookstatus:`${a.bookstatus} ${a.bookstatusoffline}`,children:e==null?void 0:e.bookStatus})]})]}),s.jsxs("div",{className:a.addbookbodybottom,children:[s.jsxs("div",{className:a.viewRow,children:[(e==null?void 0:e.publication)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("publication")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.publication]})]}),(e==null?void 0:e.totalPage)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_page")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.totalPage})]}),(e==null?void 0:e.price)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("price")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.price})]}),(e==null?void 0:e.totalCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_copies")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.totalCopies]})]}),(e==null?void 0:e.leftCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("leftCopies")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.leftCopies})]}),(e==null?void 0:e.shellNumber)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("shell_number")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.shellNumber})]}),((x=e==null?void 0:e.attachment[0])==null?void 0:x.documentName)&&(e==null?void 0:e.bookStatus)==="Online"&&s.jsxs("div",{className:a.pdfdivcontainer,children:[s.jsx("p",{className:a.viewRowp,children:t("attachment")}),s.jsxs("div",{className:a.pdfdiv,children:[s.jsx("img",{src:"/images/chat/pdf-icon.svg",alt:""}),s.jsx("h6",{className:`${a.viewRowh6} ${a.pdfh6}`,children:`${(r=e==null?void 0:e.attachment[0])==null?void 0:r.documentName}`})]})]})]}),(e==null?void 0:e.description)&&s.jsxs("div",{className:a.viewRowfull,children:[s.jsx("p",{className:a.viewRowp,children:t("description")}),s.jsxs("h6",{className:a.desh6,children:[" ",e==null?void 0:e.description]})]}),(e==null?void 0:e.bookStatus)==="Online"&&((g=e==null?void 0:e.attachment)==null?void 0:g.length)>0&&s.jsx("a",{href:`${A}/${(m=e==null?void 0:e.attachment[0])==null?void 0:m.documentKey}`,target:"_blank",rel:"noopener noreferrer",children:s.jsx("div",{className:a.downloadbtn,children:t("view")})})]})]}):n==="student book details"?s.jsxs("div",{className:a.addbookcontainer,children:[s.jsxs("div",{className:a.addbooktop,children:[s.jsx("img",{src:"/images/back.svg",onClick:h}),s.jsx("h6",{children:t("book_details")}),s.jsx("div",{})]}),s.jsxs("div",{className:a.addbookbody,children:[s.jsx("div",{className:a.addbookbodyright,children:s.jsx("div",{className:a.bookItemImgContainer,children:s.jsx("img",{className:a.bookItemImg,src:(e==null?void 0:e.photoId)!=="1"?`${u}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"})})}),s.jsxs("div",{className:a.addbookbodyleft,children:[s.jsx("h3",{className:a.bookTitle,children:e==null?void 0:e.bookName}),s.jsxs("p",{className:a.bookby,children:[t("by_"),"  ",s.jsx("span",{children:e==null?void 0:e.author})]}),s.jsx("p",{className:a.booklang,children:e==null?void 0:e.language}),s.jsx("p",{className:(e==null?void 0:e.bookStatus)==="Online"?a.bookstatus:`${a.bookstatus} ${a.bookstatusoffline}`,children:e==null?void 0:e.bookStatus})]})]}),s.jsxs("div",{className:a.addbookbodybottom,children:[s.jsxs("div",{className:a.viewRow,children:[(e==null?void 0:e.publication)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("publication")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.publication]})]}),(e==null?void 0:e.totalPage)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_page")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.totalPage})]}),(e==null?void 0:e.price)&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("price")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.price})]}),(e==null?void 0:e.totalCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("total_copies")}),s.jsxs("h6",{className:a.viewRowh6,children:[" ",e==null?void 0:e.totalCopies]})]}),(e==null?void 0:e.leftCopies)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("leftCopies")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.leftCopies})]}),(e==null?void 0:e.shellNumber)&&(e==null?void 0:e.bookStatus)==="Offline"&&s.jsxs("div",{children:[s.jsx("p",{className:a.viewRowp,children:t("shell_number")}),s.jsx("h6",{className:a.viewRowh6,children:e==null?void 0:e.shellNumber})]}),((p=e==null?void 0:e.attachment[0])==null?void 0:p.documentName)&&(e==null?void 0:e.bookStatus)==="Online"&&s.jsxs("div",{className:a.pdfdivcontainer,children:[s.jsx("p",{className:a.viewRowp,children:t("attachment")}),s.jsxs("div",{className:a.pdfdiv,children:[s.jsx("img",{src:"/images/chat/pdf-icon.svg",alt:""}),s.jsx("h6",{className:`${a.viewRowh6} ${a.pdfh6}`,children:`${(j=e==null?void 0:e.attachment[0])==null?void 0:j.documentName}`})]})]})]}),(e==null?void 0:e.description)&&s.jsxs("div",{className:a.viewRowfull,children:[s.jsx("p",{className:a.viewRowp,children:t("description")}),s.jsxs("h6",{className:a.desh6,children:[" ",e==null?void 0:e.description]})]})]})]}):s.jsxs("div",{className:a.addbookcontainer,children:[s.jsxs("div",{className:a.addbooktop,children:[s.jsx("img",{src:"/images/back.svg",onClick:i}),s.jsx("h6",{children:t("book_details")}),s.jsx("div",{})]}),s.jsxs("div",{className:a.addbookbody,children:[s.jsx("div",{className:a.addbookbodyright,children:s.jsx("div",{className:a.bookItemImgContainer,children:s.jsx("img",{className:a.bookItemImg,src:(e==null?void 0:e.photoId)!=="1"&&(e==null?void 0:e.photo)!==""?`${u}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"})})}),s.jsxs("div",{className:a.addbookbodyleft,children:[s.jsx("h3",{className:a.bookTitle,children:e==null?void 0:e.bookName}),s.jsxs("p",{className:a.bookby,children:[t("by_"),"  ",s.jsx("span",{children:e==null?void 0:e.author})]}),s.jsx("p",{className:a.booklang,children:e==null?void 0:e.language}),s.jsx("p",{className:(e==null?void 0:e.bookStatus)==="Online"?a.bookstatus:`${a.bookstatus} ${a.bookstatusoffline}`,children:e==null?void 0:e.bookStatus})]})]})]})})}function Ee({bookId:e,desig:c,carryParentState:n,pageOpenAs:i}){var p,j,v,N;const h=Q(),l=b(),_=k(w=>w.libraryChange),{getBookDetail:t,getBookDetailRefetch:x}=ee({bid:(p=l==null?void 0:l.state)==null?void 0:p.bid,skip:!((j=l==null?void 0:l.state)!=null&&j.bid)}),{getCollectedBookDetail:r,getCollectedBookDetailRefetch:g}=se({cid:e,skip:!e});o.useEffect(()=>{x(),g()},[(v=l==null?void 0:l.state)==null?void 0:v.bid,_==null?void 0:_.bid]);const m=()=>{h(-1)};return s.jsx(Se,{status:r!=null&&r.collectedDetail?"collectBookDetails":c?"student book details":"bookDetails",book:t!=null&&t.book?t==null?void 0:t.book:(N=r==null?void 0:r.collectedDetail)==null?void 0:N.book,onBackClick:m,onCollectBackClick:m,onStudentBackClick:m,carryParentState:n,pageOpenAs:i})}const Ce="_book_card_1gfyo_1",Te="_book_header_1gfyo_12",ze="_book_header_inner_1gfyo_18",Oe="_book_header_inner_text_1gfyo_29",d={book_card:Ce,book_header:Te,book_header_inner:ze,book_header_inner_text:Oe},Be=({carryParentState:e,activeTab:c,customStyleLink:n,children:i})=>{const h=y();return s.jsx(s.Fragment,{children:c===""?s.jsx(f,{to:`/q/${h.username}/member/student/class`,state:{...e},style:n,children:i}):s.jsx(f,{to:`/q/${h.username}/member/student/class?a=${c}`,state:{...e},style:n,children:i})})},Pe=({book:e,carryParentState:c,viewAs:n})=>{var h,l,_,t,x,r,g,m,p,j,v,N,w,$,R,I,S,C,T,z,O,B,L,D,E,P,U,q,F,G,K,H,J,M,V,W;const{t:i}=X();return s.jsx(s.Fragment,{children:n==="STUDENT"?s.jsx(Be,{carryParentState:{...c,bid:e==null?void 0:e._id},activeTab:"library&n=books&n=detail",children:s.jsx("div",{className:d.book_card,children:s.jsxs("div",{className:d.book_header,children:[s.jsxs("div",{className:d.book_header_inner,style:{width:"60%"},children:[s.jsx("img",{src:e!=null&&e.photo?`${u}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"}),s.jsxs("div",{className:d.book_header_inner_text,children:[s.jsxs("h6",{children:[i("book_name")," "," : ",((h=e==null?void 0:e.bookName)==null?void 0:h.length)>=50?`${(l=e==null?void 0:e.bookName)==null?void 0:l.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.bookName]}),s.jsxs("div",{children:[i("author_label")," "," : ",((_=e==null?void 0:e.author)==null?void 0:_.length)>=50?`${(t=e==null?void 0:e.author)==null?void 0:t.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.author," "]}),s.jsxs("div",{children:[i("subject_only")," "," : ",((x=e==null?void 0:e.subject)==null?void 0:x.length)>=50?`${(r=e==null?void 0:e.subject)==null?void 0:r.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.subject," "]}),s.jsxs("div",{children:[i("mode")," "," : ",s.jsx("span",{style:{color:(e==null?void 0:e.bookStatus)==="Online"?"#20b038":"#e95f28"},children:e==null?void 0:e.bookStatus})]}),s.jsxs("div",{children:[i("language")," "," : ",s.jsxs("span",{style:{color:"#f4900c"},children:[e==null?void 0:e.language," "]})]})]})]}),s.jsxs("div",{className:d.book_header_inner_text,style:{width:"40%"},children:[s.jsxs("h6",{children:[i("book_id")," "," : ",((g=e==null?void 0:e.book_id)==null?void 0:g.length)>=50?`${(m=e==null?void 0:e.book_id)==null?void 0:m.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.book_id]}),s.jsxs("div",{children:[i("publisher_place")," "," : ",((p=e==null?void 0:e.publisher_place)==null?void 0:p.length)>=50?`${(j=e==null?void 0:e.publisher_place)==null?void 0:j.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publisher_place," "]}),s.jsxs("div",{children:[i("publisher_year")," "," : ",((v=e==null?void 0:e.publication_year)==null?void 0:v.length)>=50?`${(N=e==null?void 0:e.publication_year)==null?void 0:N.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publication_year," "]}),s.jsxs("div",{children:[i("publication")," "," : ",e==null?void 0:e.publication]}),s.jsxs("div",{children:[i("price")," "," : ",(e==null?void 0:e.price)??0," "]})]})]})})}):n==="INSTITUTE"?s.jsx(Z,{carryParentState:{...c,bid:e==null?void 0:e._id},activeTab:"?a=book&n=detail",children:s.jsx("div",{className:d.book_card,children:s.jsxs("div",{className:d.book_header,children:[s.jsxs("div",{className:d.book_header_inner,style:{width:"60%"},children:[s.jsx("img",{src:e!=null&&e.photo?`${u}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"}),s.jsxs("div",{className:d.book_header_inner_text,children:[s.jsxs("h6",{children:[i("book_name")," "," : ",((w=e==null?void 0:e.bookName)==null?void 0:w.length)>=50?`${($=e==null?void 0:e.bookName)==null?void 0:$.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.bookName]}),s.jsxs("div",{children:[i("author_label")," "," : ",((R=e==null?void 0:e.author)==null?void 0:R.length)>=50?`${(I=e==null?void 0:e.author)==null?void 0:I.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.author," "]}),s.jsxs("div",{children:[i("subject_only")," "," : ",((S=e==null?void 0:e.subject)==null?void 0:S.length)>=50?`${(C=e==null?void 0:e.subject)==null?void 0:C.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.subject," "]}),s.jsxs("div",{children:[i("mode")," "," : ",s.jsx("span",{style:{color:(e==null?void 0:e.bookStatus)==="Online"?"#20b038":"#e95f28"},children:e==null?void 0:e.bookStatus})]}),s.jsxs("div",{children:[i("language")," "," : ",s.jsxs("span",{style:{color:"#f4900c"},children:[e==null?void 0:e.language," "]})]})]})]}),s.jsxs("div",{className:d.book_header_inner_text,style:{width:"40%"},children:[s.jsxs("h6",{children:[i("book_id")," "," : ",((T=e==null?void 0:e.book_id)==null?void 0:T.length)>=50?`${(z=e==null?void 0:e.book_id)==null?void 0:z.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.book_id]}),s.jsxs("div",{children:[i("publisher_place")," "," : ",((O=e==null?void 0:e.publisher_place)==null?void 0:O.length)>=50?`${(B=e==null?void 0:e.publisher_place)==null?void 0:B.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publisher_place," "]}),s.jsxs("div",{children:[i("publisher_year")," "," : ",((L=e==null?void 0:e.publication_year)==null?void 0:L.length)>=50?`${(D=e==null?void 0:e.publication_year)==null?void 0:D.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publication_year," "]}),s.jsxs("div",{children:[i("publication")," "," : ",e==null?void 0:e.publication]}),s.jsxs("div",{children:[i("price")," "," : ",(e==null?void 0:e.price)??0," "]})]})]})})}):s.jsx(Y,{carryParentState:{...c,bid:e==null?void 0:e._id},activeTab:"book&n=detail",children:s.jsx("div",{className:d.book_card,children:s.jsxs("div",{className:d.book_header,children:[s.jsxs("div",{className:d.book_header_inner,style:{width:"60%"},children:[s.jsx("img",{src:e!=null&&e.photo?`${u}/${e==null?void 0:e.photo}`:"/images/defaultBook.png"}),s.jsxs("div",{className:d.book_header_inner_text,children:[s.jsxs("h6",{children:[i("book_name")," "," : ",((E=e==null?void 0:e.bookName)==null?void 0:E.length)>=50?`${(P=e==null?void 0:e.bookName)==null?void 0:P.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.bookName]}),s.jsxs("div",{children:[i("author_label")," "," : ",((U=e==null?void 0:e.author)==null?void 0:U.length)>=50?`${(q=e==null?void 0:e.author)==null?void 0:q.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.author," "]}),s.jsxs("div",{children:[i("subject_only")," "," : ",((F=e==null?void 0:e.subject)==null?void 0:F.length)>=50?`${(G=e==null?void 0:e.subject)==null?void 0:G.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.subject," "]}),s.jsxs("div",{children:[i("mode")," "," : ",s.jsx("span",{style:{color:(e==null?void 0:e.bookStatus)==="Online"?"#20b038":"#e95f28"},children:e==null?void 0:e.bookStatus})]}),s.jsxs("div",{children:[i("language")," "," : ",s.jsxs("span",{style:{color:"#f4900c"},children:[e==null?void 0:e.language," "]})]})]})]}),s.jsxs("div",{className:d.book_header_inner_text,style:{width:"40%"},children:[s.jsxs("h6",{children:[i("book_id")," "," : ",((K=e==null?void 0:e.book_id)==null?void 0:K.length)>=50?`${(H=e==null?void 0:e.book_id)==null?void 0:H.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.book_id]}),s.jsxs("div",{children:[i("publisher_place")," "," : ",((J=e==null?void 0:e.publisher_place)==null?void 0:J.length)>=50?`${(M=e==null?void 0:e.publisher_place)==null?void 0:M.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publisher_place," "]}),s.jsxs("div",{children:[i("publisher_year")," "," : ",((V=e==null?void 0:e.publication_year)==null?void 0:V.length)>=50?`${(W=e==null?void 0:e.publication_year)==null?void 0:W.match(/.{1,50}/g)[0]} ...`:e==null?void 0:e.publication_year," "]}),s.jsxs("div",{children:[i("publication")," "," : ",e==null?void 0:e.publication]}),s.jsxs("div",{children:[i("price")," "," : ",(e==null?void 0:e.price)??0," "]})]})]})})})})};export{Ee as B,Z as I,Y as L,Be as S,Pe as a};
