import{j as s,a1 as p,e as g,k as v,L as P,r as j,t as D,S as E,u as F,_ as b}from"./index-0ca76035.js";import{C as B}from"./CustomSuspense-25f8db15.js";import{g as k}from"./activity-api-dbe5a9e3.js";const O="_body_7ld7l_1",T={body:O},R="_body_8w9c6_1",V="_noData_8w9c6_8",$={body:R,noData:V},c="_item_1xqte_1",H="_item_active_1xqte_2",z="_text_1xqte_23",J="_textlast_1xqte_58",Q="_btn_1xqte_62",U="_eachItem_1xqte_96",A="_eachItemleft_1xqte_103",d={item:c,item_active:H,text:z,textlast:J,btn:Q,eachItem:U,eachItemleft:A};function q({admin:e,notification:l}){return e?s.jsxs("div",{className:d.eachItem,children:[s.jsxs("div",{className:d.eachItemleft,children:[s.jsx("img",{src:"/images/career/newLogo.svg",alt:""}),s.jsxs("p",{children:["Qviple ",l==null?void 0:l.notifyContent]})]}),s.jsx("div",{className:d.text,children:s.jsx("p",{children:p(l==null?void 0:l.notifyTime).format("LT")})})]}):s.jsxs("div",{className:d.eachItem,children:[s.jsxs("div",{className:d.eachItemleft,children:[s.jsx("img",{src:"/images/avatar-icon.png",alt:""}),s.jsx("p",{className:d.textlast,children:l==null?void 0:l.notifyContent})]}),s.jsx("div",{className:`${d.text} `,children:s.jsx("p",{children:p(l==null?void 0:l.notifyTime).format("LT")})})]})}const G=({notification:e})=>{var l,r;return s.jsxs("div",{className:d.eachItem,children:[s.jsxs("div",{className:d.eachItemleft,children:[s.jsx("img",{src:((l=e==null?void 0:e.notifyByInsPhoto)==null?void 0:l.photoId)!=="1"?`${g}/${(r=e==null?void 0:e.notifyByInsPhoto)==null?void 0:r.insProfilePhoto}`:"/images/ins_default_profile.svg",alt:""}),s.jsx("p",{children:e==null?void 0:e.notifyContent})]}),s.jsx("div",{className:d.text,children:s.jsx("p",{children:p(e==null?void 0:e.notifyTime).format("LT")})})]})},K=({notification:e})=>{var r,h;const l=v(x=>x.idChange.loginProfile);return s.jsx(P,{to:`/q/${l.username}/following`,style:{width:"100%"},children:s.jsxs("div",{className:d.eachItem,children:[s.jsxs("div",{className:d.eachItemleft,children:[s.jsx("img",{src:((r=e==null?void 0:e.notifyByInsPhoto)==null?void 0:r.photoId)!=="1"?`${g}/${(h=e==null?void 0:e.notifyByInsPhoto)==null?void 0:h.insProfilePhoto}`:"/images/ins_default_profile.svg",alt:""}),s.jsx("p",{children:e==null?void 0:e.notifyContent})]}),s.jsx("div",{className:d.text,children:s.jsx("p",{children:p(e==null?void 0:e.notifyTime).format("LT")})})]})})},M=({notification:e})=>{var r,h;const l=v(x=>x.idChange.loginProfile);return s.jsx(P,{to:`/q/${l.username}/following`,style:{width:"100%"},children:s.jsxs("div",{className:d.eachItem,children:[s.jsxs("div",{className:d.eachItemleft,children:[s.jsx("img",{src:((r=e==null?void 0:e.notifyByPhoto)==null?void 0:r.photoId)!=="1"?`${g}/${(h=e==null?void 0:e.notifyByPhoto)==null?void 0:h.profilePhoto}`:"/images/ins_default_profile.svg",alt:""}),s.jsx("p",{children:e==null?void 0:e.notifyContent})]}),s.jsx("div",{className:d.text,children:s.jsx("p",{children:p(e==null?void 0:e.notifyTime).format("LT")})})]})})},W=({notification:e})=>{var r,h,x;const l=v(a=>a.idChange.loginProfile);return s.jsx(P,{to:`/q/${l.username}/staff`,style:{width:"100%"},state:{openType:{openId:(r=e==null?void 0:e.notifyByStaffPhoto)==null?void 0:r._id,asOpen:"staff",activeTab:(e==null?void 0:e.notifyCategory)==="Approve Staff"?"Approve Staff":"Request Staff"}},children:s.jsxs("div",{className:d.eachItem,children:[s.jsxs("div",{className:d.eachItemleft,children:[s.jsx("img",{src:((h=e==null?void 0:e.notifyByStaffPhoto)==null?void 0:h.photoId)!=="1"?`${g}/${(x=e==null?void 0:e.notifyByStaffPhoto)==null?void 0:x.staffProfilePhoto}`:"/images/ins_default_profile.svg",alt:""}),s.jsx("p",{children:e==null?void 0:e.notifyContent})]}),s.jsx("div",{className:d.text,children:s.jsx("p",{children:p(e==null?void 0:e.notifyTime).format("LT")})})]})})},X=({notification:e})=>{var r,h,x;const l=v(a=>a.idChange.loginProfile);return s.jsx(P,{to:`/q/${l.username}/student`,style:{width:"100%"},state:{openType:{openId:(r=e==null?void 0:e.notifyByStudentPhoto)==null?void 0:r._id,asOpen:"student"}},children:s.jsxs("div",{className:d.eachItem,children:[s.jsxs("div",{className:d.eachItemleft,children:[s.jsx("img",{src:((h=e==null?void 0:e.notifyByStudentPhoto)==null?void 0:h.photoId)!=="1"?`${g}/${(x=e==null?void 0:e.notifyByStudentPhoto)==null?void 0:x.studentProfilePhoto}`:"/images/ins_default_profile.svg",alt:""}),s.jsx("p",{children:e==null?void 0:e.notifyContent})]}),s.jsx("div",{className:d.text,children:s.jsx("p",{children:p(e==null?void 0:e.notifyTime).format("LT")})})]})})},C=({notification:e})=>s.jsx("div",{className:d.item,children:e!=null&&e.notifyByStudentPhoto?s.jsx(X,{notification:e}):e!=null&&e.notifyByStaffPhoto?s.jsx(W,{notification:e}):e!=null&&e.notifyByPhoto?s.jsx(M,{notification:e}):e!=null&&e.notifyByInsPhoto?s.jsx(K,{notification:e}):e!=null&&e.notifyByDepartPhoto?s.jsx(G,{notification:e}):e!=null&&e.notifyBySuperAdminPhoto?s.jsx(q,{admin:!0,notification:e}):s.jsx(q,{admin:!1,notification:e})});function Y(){const e=v(_=>_.idChange.id),[l,r]=j.useState(!0),[h,x]=j.useState(1),[a,N]=D(),[y,L]=j.useState([]),[I,w]=j.useState(!0),{instituteAllNotification:m,instituteAllNotificationRefetch:S}=k({data:{id:e,page:h,limit:10},skip:!e});return j.useEffect(()=>{e&&(w(!0),S())},[h,e,S]),j.useEffect(()=>{N&&l&&x(_=>_+1)},[N,l]),j.useEffect(()=>{if(m!=null&&m.notify){const _=[...y,...m==null?void 0:m.notify],u=[...new Set(_.map(JSON.stringify))].map(JSON.parse);L(u),w(!1)}(m==null?void 0:m.notify.length)===10?r(!0):r(!1)},[m==null?void 0:m.notify]),s.jsxs("div",{className:$.body,children:[(y==null?void 0:y.length)===0&&I===!1&&s.jsx("div",{className:$.noData,children:s.jsx("img",{src:"/images/nodata.jpg",alt:""})}),y==null?void 0:y.map((_,u)=>(y==null?void 0:y.length)===u+1?s.jsx("div",{ref:a,children:s.jsx(C,{notification:_})},u):s.jsx(C,{notification:_},u)),I&&s.jsx(E,{})]})}const Z="_header_1mw7q_1",f="_avatars_1mw7q_19",o="_text_1mw7q_23",t={header:Z,avatars:f,text:o};function n({changeToNewFollowers:e,newFollowers:l}){const{t:r}=F();return s.jsx("div",{className:t.header,onClick:()=>e(!0),children:s.jsxs("div",{className:t.text,children:[s.jsx("h6",{children:r("new_followerss")}),s.jsx("p",{children:r("follow_back")})]})})}const i=j.lazy(()=>b(()=>import("./NewFollowerBody-e70cf980.js"),["assets/NewFollowerBody-e70cf980.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/QvipleLoaderGif-bd545aa8.js","assets/NewFollowerBody-29fc5e24.css"])),ee=j.lazy(()=>b(()=>import("./NewFollowerHeader-c3eac43f.js"),["assets/NewFollowerHeader-c3eac43f.js","assets/index-0ca76035.js","assets/index-4d24e8f6.css","assets/NewFollowerHeader-a8d2034d.css"]));function de(){const[e,l]=j.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:T.header,children:e===!0?s.jsx(B,{children:s.jsx(ee,{newFollowers:e,changeToNewFollowers:r=>l(r)})}):s.jsx(n,{newFollowers:e,changeToNewFollowers:r=>l(r)})}),s.jsx("div",{className:T.body,children:e===!0?s.jsx(B,{children:s.jsx(i,{})}):s.jsx(Y,{})})]})}export{de as default};
