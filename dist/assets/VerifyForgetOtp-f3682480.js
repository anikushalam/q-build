import{u as v,r as p,np as j,j as t,N as S}from"./index-0ca76035.js";import{s}from"./ResendTimer-690f6a77.js";import{N as _}from"./Login-90ddf61b.js";import{B as N}from"./ButtonWithTypeSubmit-5c11ae9c.js";import"./use-login-cbfdffab.js";import"./verifyUserNameSpaces-1eb95efa.js";import"./ButtonWithAction-aaeab9a0.js";import"./LoaderButton-56f541f9.js";import"./InputDateField-5babd99a.js";import"./DatePicker-c6d0e911.js";import"./SelectOptions.module-81ece918.js";import"./use-user-signup-533cdb2a.js";import"./timeComparison-f15c3247.js";import"./CustomSuspense-25f8db15.js";function V({userId:l,setUserId:c,setStatus:u}){const{t:a}=v(),[i,d]=p.useState(""),[f]=j(),[g,r]=p.useState(!1),[o,n]=p.useState({msg:"",run:!1}),h=m=>{m.preventDefault(),r(e=>!e),l&&(i==null?void 0:i.length)===4?f({fid:l,otp:{userOtpCode:i}}).then(e=>{e.data.message==="Invalid OTP"?n({msg:"Please enter a valid opt",run:!0}):e.data.user&&(c(e.data.user._id),u("CHANGE_PASSWORD")),r(x=>!x)}).catch({}):(n({msg:a("enter_valid_option"),run:!0}),r(e=>!e))};return t.jsxs(t.Fragment,{children:[t.jsx("form",{onSubmit:h,children:t.jsxs("div",{className:s.card,children:[t.jsx("h6",{className:s.cardhdark,children:a("verification_code")}),t.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:a("otp_sent_on_mobile")}),t.jsx("div",{className:s.input_margin_top,children:t.jsx(_,{icon:"/images/landing-page/otp.svg",placeholder:a("verification_code"),name:"insOTP",maxlength:"4",value:i,onChange:m=>d(m.target.value)})}),t.jsx("div",{className:s.btn_containerotp,children:t.jsx(N,{disabled:g,buttonText:a("verify"),customStyleButton:{minHeight:"2.3rem",marginTop:"4rem"},customStyleButtonText:{fontSize:"1rem"}})})]})}),t.jsx(S,{msg:o.msg,run:o.run,setRun:()=>n({msg:"",run:!1}),postiton:"bottom",type:o.msg==="Invalid OTP"||o.msg==="Please enter a valid opt"?"error":"success"})]})}export{V as default};
